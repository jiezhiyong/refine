import{j as r}from"./jsx-runtime-C-_spy54.js";import{t as g}from"./form-C6QjBNoK.js";import{a as x}from"./index-hdkCHUwo.js";import{C as h,F as m}from"./field-83Oe2ZIn.js";import{r as j}from"./index-aGVi9Z7h.js";import{P as C}from"./500-CUoB5SEY.js";import{D as E}from"./delete-BZA95DwZ.js";import{F as y}from"./form-C6Kqb6cn.js";import{I as b}from"./input-CqjlsziW.js";import{T as F}from"./textarea-mwnmNnuP.js";import{E as T}from"./action-DSYjqVEc.js";import{g as v,d as I}from"./get-changed-values-vLde9APN.js";import{g as N}from"./form-BJoh7EuQ.js";import{g as P}from"./get-default-title-CrVGbO9H.js";import{z as n}from"./index-Cb7h-Ku-.js";import{u as V}from"./components-CzmxjdGq.js";const q=n.object({title:n.string().min(2,{message:void 0}),description:n.string().optional().nullable()}),Z=({matches:e})=>[{title:P(e)}],_={uiTools:()=>r.jsx(z,{})};function $(){const{initialData:e}=V();return r.jsx(B,{initialData:e})}function z(){return r.jsx("div",{className:"flex items-center gap-1 text-sm",children:r.jsx(E,{variant:"ghost",size:"icon",className:"text-destructive!"})})}function D(){return r.jsx(C,{})}const A=e=>({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||""}),B=({className:e,redirect:i=T.list,initialData:o,action:c})=>{const{formAction:u,id:p=o==null?void 0:o.id,identifier:f}=x({action:c}),s=A(o),t=h({resolver:g(q),defaultValues:s,warnWhenUnsavedChanges:!0,mode:"onChange",refineCoreProps:{resource:f,action:u,id:p,queryOptions:N(s),redirect:i}}),l=j.useCallback(a=>{const d=v(a,s);return I(d)},[]);return r.jsxs(y,{...t,beforeSubmit:l,className:e,recordItemId:o==null?void 0:o.id,children:[r.jsx(m,{...t,name:"title",label:"Title",children:r.jsx(b,{})}),r.jsx(m,{...t,name:"description",label:"Description",children:r.jsx(F,{className:"min-h-60"})})]})};export{B as C,D as E,$ as a,_ as h,Z as m};
