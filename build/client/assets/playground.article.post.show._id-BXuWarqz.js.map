{"version":3,"file":"playground.article.post.show._id-BXuWarqz.js","sources":["../../../node_modules/.pnpm/lucide-react@0.469.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/clock.js","../../../app/component-refine/buttons/edit.tsx","../../../app/routes/playground.article.post.show.$id.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.469.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","import { useEditButton } from '@refinedev/core';\nimport { Pencil } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nimport { EditButtonProps } from '../types';\n\nexport const EditButton: FC<EditButtonProps> = ({\n  resource,\n  recordItemId,\n  hideText = false,\n  accessControl,\n  meta,\n  onClick,\n  children,\n  ...props\n}) => {\n  const { hidden, disabled, label, title, LinkComponent, to, canAccess } = useEditButton({\n    resource,\n    id: recordItemId,\n    accessControl,\n    meta,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <LinkComponent\n      prefetch=\"intent\"\n      viewTransition\n      className={cn(disabledNew && 'pointer-events-none')}\n      to={to}\n      replace={false}\n      onClick={(e: React.PointerEvent<HTMLButtonElement>) => {\n        if (disabledNew) {\n          e.preventDefault();\n          return;\n        }\n        if (onClick) {\n          e.preventDefault();\n          onClick(e);\n        }\n      }}\n    >\n      <Button disabled={disabledNew} title={title} icon={<Pencil />} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </LinkComponent>\n  );\n};\n\nEditButton.displayName = 'EditButton';\n","import { Category, Post, User } from '@prisma/client';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { CalendarIcon, ClockIcon, LeafyGreen, MailIcon } from 'lucide-react';\n\nimport { CloneButton, DeleteButton, EditButton } from '~/component-refine';\nimport { PageError } from '~/components';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Badge } from '~/components-shadcn/badge';\nimport { H1, Image, P } from '~/components-shadcn/typography';\nimport { EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { HandleFunction, POST_STATUS_MAP, PostStatus, TAny } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 创建应用程序约定\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\n// 页面初始化时的`GET`请求 && 表单`GET`请求\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const [initialData] = await Promise.all([\n    dataService.getOne<Post & { category?: Category; user?: User }>({\n      resource: EnumResource.post,\n      id: params?.id || '',\n      meta: {\n        include: {\n          user: true,\n          category: true,\n        },\n      },\n    }),\n  ]);\n\n  return { initialData };\n}\n\n// UI\nexport default function PostShow() {\n  const { initialData } = useLoaderData<typeof loader>();\n  const { data } = initialData;\n\n  return (\n    <article className=\"px-8 pt-8 pb-4\">\n      <header className=\"mb-8\">\n        <H1 className=\"relative mb-4 inline-flex gap-3 text-4xl font-bold\">\n          <span>{data.title}</span>\n          <div className=\"inline-flex shrink-0 items-start pt-3.5\">\n            <Badge className=\"tracking-wide\" variant={POST_STATUS_MAP[data.status as PostStatus]?.badge as TAny}>\n              {data.status?.charAt(0)?.toUpperCase() + data.status?.slice(1)?.toLowerCase()}\n            </Badge>\n          </div>\n        </H1>\n\n        <div className=\"text-muted-foreground mb-8 flex flex-wrap items-center gap-4 text-sm\">\n          <div className=\"flex items-center\">\n            <LeafyGreen className=\"mr-2 h-4 w-4\" />\n            <span>Category: {data.category?.title}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <CalendarIcon className=\"mr-2 h-4 w-4\" />\n            <span>Created: {new Date(data.createdAt).toLocaleDateString()}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <ClockIcon className=\"mr-2 h-4 w-4\" />\n            <span>Updated: {dayjs(data.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <Avatar>\n            <AvatarImage src={data.user?.avatar || ''} alt={data.user?.name || ''} />\n            <AvatarFallback>{data.user?.name?.slice(0, 2).toUpperCase()}</AvatarFallback>\n          </Avatar>\n          <div>\n            <p className=\"font-medium\">{data.user?.name}</p>\n            <p className=\"text-muted-foreground flex items-center text-sm\">\n              <MailIcon className=\"mr-2 h-4 w-4\" />\n              {data.user?.email}\n            </p>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"prose mb-8 max-w-none\">\n        <P>{data.content}</P>\n      </div>\n\n      <Image src={''} alt={data.title} className=\"h-[700px]\" />\n    </article>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <EditButton variant=\"ghost\" size=\"icon\" />\n      <DeleteButton variant=\"ghost\" size=\"icon\" />\n      <CloneButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n"],"names":["Clock","createLucideIcon","EditButton","resource","recordItemId","hideText","accessControl","meta","onClick","children","props","hidden","disabled","label","title","LinkComponent","to","canAccess","useEditButton","disabledNew","jsx","cn","e","Button","Pencil","matches","getDefaultTitle","handle","uiTools","UiTools","PostShow","initialData","useLoaderData","data","jsxs","className","H1","Badge","variant","POST_STATUS_MAP","status","badge","charAt","toUpperCase","slice","toLowerCase","LeafyGreen","category","CalendarIcon","Date","createdAt","toLocaleDateString","ClockIcon","dayjs","updatedAt","format","Avatar","AvatarImage","src","user","avatar","alt","name","AvatarFallback","MailIcon","email","P","content","Image","size","DeleteButton","CloneButton","ErrorBoundary","PageError"],"mappings":"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","x_google_ignoreList":[0]}