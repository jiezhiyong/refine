{"version":3,"file":"delete-BnALbmmK.js","sources":["../../../app/component-refine/buttons/delete.tsx"],"sourcesContent":["import { useBack, useDeleteButton } from '@refinedev/core';\nimport { Trash2Icon } from 'lucide-react';\nimport { type FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\n\nimport { ConfirmDialog } from '../components';\nimport { DeleteButtonProps } from '../types';\n\nexport const DeleteButton: FC<DeleteButtonProps> = ({\n  resource,\n  recordItemId,\n  onSuccess,\n  mutationMode: mutationModeProp,\n  confirmTitle,\n  confirmDescription,\n  successNotification,\n  errorNotification,\n  hideText = false,\n  accessControl,\n  meta,\n  dataProviderName,\n  confirmOkText,\n  confirmCancelText,\n  invalidates,\n  children,\n  ...props\n}) => {\n  const back = useBack();\n\n  const defaultOnSuccess = () => {\n    setTimeout(() => {\n      back();\n    }, 300);\n  };\n\n  const {\n    title,\n    label,\n    hidden,\n    disabled,\n    loading,\n    confirmTitle: defaultConfirmTitle,\n    confirmOkLabel: defaultConfirmOkLabel,\n    cancelLabel: defaultCancelLabel,\n    onConfirm,\n    canAccess,\n  } = useDeleteButton({\n    resource,\n    id: recordItemId,\n    dataProviderName,\n    invalidates,\n    meta,\n    onSuccess: onSuccess || defaultOnSuccess,\n    mutationMode: mutationModeProp,\n    errorNotification,\n    successNotification,\n    accessControl,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <ConfirmDialog\n      okText={confirmOkText ?? defaultConfirmOkLabel}\n      cancelText={confirmCancelText ?? defaultCancelLabel}\n      okButtonVariant={'destructive'}\n      cancelButtonVariant={'outline'}\n      title={confirmTitle ?? defaultConfirmTitle}\n      description={confirmDescription}\n      loading={loading}\n      onConfirm={onConfirm}\n    >\n      <Button\n        variant=\"destructive\"\n        disabled={disabledNew}\n        title={title}\n        loading={loading}\n        icon={<Trash2Icon />}\n        {...props}\n      >\n        {!hideText && (children ?? label)}\n      </Button>\n    </ConfirmDialog>\n  );\n};\n\nDeleteButton.displayName = 'DeleteButton';\n"],"names":["DeleteButton","resource","recordItemId","onSuccess","mutationModeProp","confirmTitle","confirmDescription","successNotification","errorNotification","hideText","accessControl","meta","dataProviderName","confirmOkText","confirmCancelText","invalidates","children","props","back","useBack","defaultOnSuccess","title","label","hidden","disabled","loading","defaultConfirmTitle","defaultConfirmOkLabel","defaultCancelLabel","onConfirm","canAccess","useDeleteButton","disabledNew","jsx","ConfirmDialog","Button","Trash2Icon"],"mappings":"iNASO,MAAMA,EAAsC,CAAC,CAClD,SAAAC,EACA,aAAAC,EACA,UAAAC,EACA,aAAcC,EACd,aAAAC,EACA,mBAAAC,EACA,oBAAAC,EACA,kBAAAC,EACA,SAAAC,EAAW,GACX,cAAAC,EACA,KAAAC,EACA,iBAAAC,EACA,cAAAC,EACA,kBAAAC,EACA,YAAAC,EACA,SAAAC,EACA,GAAGC,CACL,IAAM,CACJ,MAAMC,EAAOC,EAAQ,EAEfC,EAAmB,IAAM,CAC7B,WAAW,IAAM,CACVF,EAAA,GACJ,GAAG,CACR,EAEM,CACJ,MAAAG,EACA,MAAAC,EACA,OAAAC,EACA,SAAAC,EACA,QAAAC,EACA,aAAcC,EACd,eAAgBC,EAChB,YAAaC,EACb,UAAAC,EACA,UAAAC,GACEC,EAAgB,CAClB,SAAA9B,EACA,GAAIC,EACJ,iBAAAU,EACA,YAAAG,EACA,KAAAJ,EACA,UAAWR,GAAaiB,EACxB,aAAchB,EACd,kBAAAI,EACA,oBAAAD,EACA,cAAAG,CAAA,CACD,EAED,GAAIa,EAAe,OAAA,KAEb,MAAAS,EAAcR,GAAY,EAACM,GAAA,MAAAA,EAAW,KAE1C,OAAAG,EAAA,IAACC,EAAA,CACC,OAAQrB,GAAiBc,EACzB,WAAYb,GAAqBc,EACjC,gBAAiB,cACjB,oBAAqB,UACrB,MAAOvB,GAAgBqB,EACvB,YAAapB,EACb,QAAAmB,EACA,UAAAI,EAEA,SAAAI,EAAA,IAACE,EAAA,CACC,QAAQ,cACR,SAAUH,EACV,MAAAX,EACA,QAAAI,EACA,WAAOW,EAAW,EAAA,EACjB,GAAGnB,EAEH,SAAA,CAACR,IAAaO,GAAYM,EAAA,CAAA,CAC7B,CACF,CAEJ,EAEAtB,EAAa,YAAc"}