import{r as o,j as d}from"./index-jG6TLAuK.js";import{c as h,u as I}from"./index-CQGqYDE9.js";import{u as v}from"./index-C6DIX8Vh.js";import{P as c}from"./index-DGdd_38J.js";import{a as f}from"./button-nJ3DiPmc.js";var m="Avatar",[j,q]=h(m),[C,p]=j(m),A=o.forwardRef((a,e)=>{const{__scopeAvatar:t,...r}=a,[n,s]=o.useState("idle");return d.jsx(C,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:d.jsx(c.span,{...r,ref:e})})});A.displayName=m;var x="AvatarImage",w=o.forwardRef((a,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:n=()=>{},...s}=a,l=p(x,t),i=_(r,s.referrerPolicy),u=I(g=>{n(g),l.onImageLoadingStatusChange(g)});return v(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?d.jsx(c.img,{...s,ref:e,src:r}):null});w.displayName=x;var S="AvatarFallback",N=o.forwardRef((a,e)=>{const{__scopeAvatar:t,delayMs:r,...n}=a,s=p(S,t),[l,i]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&s.imageLoadingStatus!=="loaded"?d.jsx(c.span,{...n,ref:e}):null});N.displayName=S;function _(a,e){const[t,r]=o.useState("idle");return v(()=>{if(!a){r("error");return}let n=!0;const s=new window.Image,l=i=>()=>{n&&r(i)};return r("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=a,e&&(s.referrerPolicy=e),()=>{n=!1}},[a,e]),t}var L=A,y=w,R=N;const b=o.forwardRef(({className:a,...e},t)=>d.jsx(L,{ref:t,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));b.displayName=L.displayName;const E=o.forwardRef(({className:a,...e},t)=>d.jsx(y,{ref:t,className:f("aspect-square h-full w-full",a),...e}));E.displayName=y.displayName;const k=o.forwardRef(({className:a,...e},t)=>d.jsx(R,{ref:t,className:f("bg-muted flex h-full w-full items-center justify-center rounded-full",a),...e}));k.displayName=R.displayName;export{b as A,E as a,k as b};
