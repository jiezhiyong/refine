{"version":3,"file":"playground.article.post.clone._id-DJFeQ5TD.js","sources":["../../../app/routes/playground.article.post.clone.$id.tsx"],"sourcesContent":["import { Post } from '@prisma/client';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\n\nimport { PageError } from '~/components';\nimport { EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { getDefaultTitle } from '~/utils';\n\nimport { PostForm } from './playground.article.post.edit.$id';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 页面初始化时的`GET`请求 && 表单`GET`请求\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const [initialData] = await Promise.all([\n    dataService.getOne<Post>({\n      resource: EnumResource.post,\n      id: params?.id || '',\n    }),\n  ]);\n\n  return { initialData };\n}\n\n// UI\nexport default function PostClone() {\n  const { initialData } = useLoaderData<typeof loader>();\n  return <PostForm initialData={initialData} />;\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n"],"names":["meta","matches","title","getDefaultTitle","PostClone","initialData","useLoaderData","jsx","PostForm","ErrorBoundary","PageError"],"mappings":"utBAYO,MAAMA,EAAqBA,CAAC,CAAEC,QAAAA,CAAQ,IACpC,CAAC,CAAEC,MAAOC,EAAgBF,CAAO,CAAE,CAAC,EAgB7C,SAAwBG,GAAY,CAC5B,KAAA,CAAEC,YAAAA,CAAY,EAAIC,EAA6B,EAC9C,OAAAC,EAAAA,IAACC,GAASH,YAAAA,CAA0B,CAAA,CAC7C,CAGO,SAASI,GAAgB,CAC9B,aAAQC,EAAU,EAAA,CACpB"}