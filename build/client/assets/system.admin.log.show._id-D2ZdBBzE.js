import{j as e}from"./jsx-runtime-C-_spy54.js";import{P as h}from"./500-Bi-8cWwO.js";import{C as g}from"./code-DTTOy2hJ.js";import{A as v,a as N,b as y}from"./avatar-DqSeWAHy.js";import{B as b}from"./badge-CojvZVMK.js";import{L as p}from"./label-CIvoefGy.js";import{H as w}from"./typography-BReC1Yg6.js";import{E as r,a as L}from"./log-Dv4uGBGl.js";import{d as x}from"./deep-parse-CMMvj5PV.js";import{u as D}from"./components-BZV9jaWy.js";import{L as A}from"./leafy-green-CJ7f0eWs.js";import{C as B}from"./calendar-D-ZzU-i1.js";import"./index-Cr0IeYe7.js";import"./index-aGVi9Z7h.js";import"./button-BExhSn8V.js";import"./tslib.es6-DDzNqjJ8.js";import"./index-DN0hhrBY.js";import"./base-url-B9uMRsbQ.js";import"./eye-Bg1C4op6.js";import"./index-BTG9THwZ.js";import"./index-oFZnn4P-.js";import"./index-hdGzps5C.js";import"./try-parse-D_xF9tNz.js";function Y(){var i,o,n,l,m,c,d;const{log:a}=D(),{content:u}=x(a.data||"{}"),{content:f}=x(a.dataPrevious||"{}"),s=a.meta||{},j=![r.delete,r.deleteMany].includes(a.action),t=[r.update,r.updateMany].includes(a.action);return e.jsxs("article",{className:"px-8 pt-8 pb-4",children:[e.jsxs("header",{className:"mb-8",children:[e.jsxs(w,{className:"relative mb-4 inline-flex gap-3 text-4xl font-bold",children:[e.jsxs("span",{className:"capitalize",children:["Audit Log - ",s==null?void 0:s.parent,".",a.resource]}),e.jsx("div",{className:"inline-flex shrink-0 items-start pt-3.5",children:e.jsx(b,{className:"tracking-wide",variant:(i=L[a.action])==null?void 0:i.badge,children:a.action})})]}),e.jsxs("div",{className:"text-muted-foreground mb-8 flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),e.jsxs("span",{children:["Resource: ",s.parent,".",a.resource]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),e.jsxs("span",{children:["Created: ",new Date(a.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(v,{children:[e.jsx(N,{src:(o=a.operatedBy)==null?void 0:o.avatar,alt:((n=a.operatedBy)==null?void 0:n.name)||""}),e.jsx(y,{children:(m=(l=a.operatedBy)==null?void 0:l.name)==null?void 0:m.slice(0,2).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(c=a.operatedBy)==null?void 0:c.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:(d=a.operatedBy)==null?void 0:d.email})]})]})]}),(a.dataPrevious||a.data)&&j&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(p,{children:t?"Previous Resource Data & New Resource Data":"Resource Data"}),e.jsx(g,{language:"json",value:JSON.stringify(f,null,2),modified:JSON.stringify(u,null,2),enableToggleDiff:!1,openDiff:t})]}),e.jsx("div",{className:"mt-6",children:a.meta&&e.jsxs("div",{children:[e.jsx(p,{children:"Meta Data"}),e.jsx("pre",{className:"bg-muted mt-1 overflow-x-auto rounded-lg p-4 text-sm whitespace-pre",children:JSON.stringify(s,null,2)})]})})]})}function Z(){return e.jsx(h,{})}export{Z as ErrorBoundary,Y as default};
