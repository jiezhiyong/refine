import{r as o,a as k}from"./index-aGVi9Z7h.js";import{P as M,d as j}from"./index-BivEtBZR.js";import{u as D}from"./button-hXZAo1l1.js";import{u as h}from"./index-BTG9THwZ.js";import{j as U}from"./jsx-runtime-C-_spy54.js";import{u as C}from"./index-oFZnn4P-.js";function g(t,e,{checkForDefaultPrevented:s=!0}={}){return function(r){if(t==null||t(r),s===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function z(t,e=globalThis==null?void 0:globalThis.document){const s=h(t);o.useEffect(()=>{const n=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[s,e])}var K="DismissableLayer",R="dismissableLayer.update",X="dismissableLayer.pointerDownOutside",Y="dismissableLayer.focusOutside",S,x=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$=o.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:f,onDismiss:c,...l}=t,i=o.useContext(x),[u,E]=o.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=o.useState({}),b=D(e,d=>E(d)),p=Array.from(i.layers),[N]=[...i.layersWithOutsidePointerEventsDisabled].slice(-1),F=p.indexOf(N),L=u?p.indexOf(u):-1,B=i.layersWithOutsidePointerEventsDisabled.size>0,A=L>=F,_=J(d=>{const y=d.target,T=[...i.branches].some(O=>O.contains(y));!A||T||(r==null||r(d),f==null||f(d),d.defaultPrevented||c==null||c())},m),w=Q(d=>{const y=d.target;[...i.branches].some(O=>O.contains(y))||(a==null||a(d),f==null||f(d),d.defaultPrevented||c==null||c())},m);return z(d=>{L===i.layers.size-1&&(n==null||n(d),!d.defaultPrevented&&c&&(d.preventDefault(),c()))},m),o.useEffect(()=>{if(u)return s&&(i.layersWithOutsidePointerEventsDisabled.size===0&&(S=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),i.layersWithOutsidePointerEventsDisabled.add(u)),i.layers.add(u),I(),()=>{s&&i.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=S)}},[u,m,s,i]),o.useEffect(()=>()=>{u&&(i.layers.delete(u),i.layersWithOutsidePointerEventsDisabled.delete(u),I())},[u,i]),o.useEffect(()=>{const d=()=>v({});return document.addEventListener(R,d),()=>document.removeEventListener(R,d)},[]),U.jsx(M.div,{...l,ref:b,style:{pointerEvents:B?A?"auto":"none":void 0,...t.style},onFocusCapture:g(t.onFocusCapture,w.onFocusCapture),onBlurCapture:g(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:g(t.onPointerDownCapture,_.onPointerDownCapture)})});$.displayName=K;var q="DismissableLayerBranch",G=o.forwardRef((t,e)=>{const s=o.useContext(x),n=o.useRef(null),r=D(e,n);return o.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),U.jsx(M.div,{...t,ref:r})});G.displayName=q;function J(t,e=globalThis==null?void 0:globalThis.document){const s=h(t),n=o.useRef(!1),r=o.useRef(()=>{});return o.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let l=function(){W(X,s,i,{discrete:!0})};const i={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);n.current=!1},f=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>n.current=!0}}function Q(t,e=globalThis==null?void 0:globalThis.document){const s=h(t),n=o.useRef(!1);return o.useEffect(()=>{const r=a=>{a.target&&!n.current&&W(Y,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function I(){const t=new CustomEvent(R);document.dispatchEvent(t)}function W(t,e,s,{discrete:n}){const r=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?j(r,a):r.dispatchEvent(a)}var V=k.useId||(()=>{}),Z=0;function de(t){const[e,s]=o.useState(V());return C(()=>{s(n=>n??String(Z++))},[t]),e?`radix-${e}`:""}function H(t,e){return o.useReducer((s,n)=>e[s][n]??s,t)}var ee=t=>{const{present:e,children:s}=t,n=te(e),r=typeof s=="function"?s({present:n.isPresent}):o.Children.only(s),a=D(n.ref,ne(r));return typeof s=="function"||n.isPresent?o.cloneElement(r,{ref:a}):null};ee.displayName="Presence";function te(t){const[e,s]=o.useState(),n=o.useRef({}),r=o.useRef(t),a=o.useRef("none"),f=t?"mounted":"unmounted",[c,l]=H(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const i=P(n.current);a.current=c==="mounted"?i:"none"},[c]),C(()=>{const i=n.current,u=r.current;if(u!==t){const m=a.current,v=P(i);t?l("MOUNT"):v==="none"||(i==null?void 0:i.display)==="none"?l("UNMOUNT"):l(u&&m!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),C(()=>{if(e){let i;const u=e.ownerDocument.defaultView??window,E=v=>{const p=P(n.current).includes(v.animationName);if(v.target===e&&p&&(l("ANIMATION_END"),!r.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",i=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},m=v=>{v.target===e&&(a.current=P(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{u.clearTimeout(i),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(i=>{i&&(n.current=getComputedStyle(i)),s(i)},[])}}function P(t){return(t==null?void 0:t.animationName)||"none"}function ne(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function le({prop:t,defaultProp:e,onChange:s=()=>{}}){const[n,r]=se({defaultProp:e,onChange:s}),a=t!==void 0,f=a?t:n,c=h(s),l=o.useCallback(i=>{if(a){const E=typeof i=="function"?i(t):i;E!==t&&c(E)}else r(i)},[a,t,r,c]);return[f,l]}function se({defaultProp:t,onChange:e}){const s=o.useState(t),[n]=s,r=o.useRef(n),a=h(e);return o.useEffect(()=>{r.current!==n&&(a(n),r.current=n)},[n,r,a]),s}export{$ as D,ee as P,de as a,g as c,le as u};
