import{r as f,j as e}from"./index-B4K3Jj8V.js";import{z as b,x as re,t as F,F as _,a as v,C as M,b as w,l as ie,U as le,T as ce,S as de}from"./textarea-DI6E-7VR.js";import{H as ue,T as me,P as E,t as fe}from"./index-BuIIpymt.js";import"./api.auth._provider.callback-B7nnFBLb.js";import{c as R,u as he,R as ge,I as xe,A as pe,a as be,b as je,d as ve,e as ye,f as Te,g as Ce,h as Se,i as De,D as V,j as we,k as B,l as L,m as $,n as U,o as Ne,p as Pe,E as G}from"./index-B6S418k8.js";import{a as P,B as u}from"./button-B_ZE1LZO.js";import{I as H}from"./input-FDDqKO9o.js";import{u as Ae,a as Ie,c as D,P as ke}from"./index-DocNbIak.js";import{c as Fe}from"./index-U8YVhvYI.js";import{P as S}from"./index-BzZLwaF6.js";import{a as T}from"./typography-Y3IuYbyu.js";import{P as _e}from"./500-wHZx-rdF.js";import{E as C}from"./resources-DmfYUWBd.js";import{a as Me,b as Ee}from"./post-CCEhhlTv.js";import{g as Re}from"./get-default-title-DCbrmljW.js";import{c as Ve,L as Be}from"./components-C3jcH-a4.js";import"./label-BpDFSob4.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="715eca1c-2191-4386-8048-5588990e9cc9",s._sentryDebugIdIdentifier="sentry-dbid-715eca1c-2191-4386-8048-5588990e9cc9")}catch{}})();var A="Tabs",[Le,hs]=Fe(A,[R]),O=R(),[$e,I]=Le(A),K=f.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,onValueChange:c,defaultValue:d,orientation:o="horizontal",dir:i,activationMode:g="automatic",...x}=s,l=he(i),[r,h]=Ae({prop:n,onChange:c,defaultProp:d});return e.jsx($e,{scope:a,baseId:Ie(),value:r,onValueChange:h,orientation:o,dir:l,activationMode:g,children:e.jsx(S.div,{dir:l,"data-orientation":o,...x,ref:t})})});K.displayName=A;var z="TabsList",W=f.forwardRef((s,t)=>{const{__scopeTabs:a,loop:n=!0,...c}=s,d=I(z,a),o=O(a);return e.jsx(ge,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:n,children:e.jsx(S.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:t})})});W.displayName=z;var q="TabsTrigger",J=f.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,disabled:c=!1,...d}=s,o=I(q,a),i=O(a),g=Y(o.baseId,n),x=Z(o.baseId,n),l=n===o.value;return e.jsx(xe,{asChild:!0,...i,focusable:!c,active:l,children:e.jsx(S.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":x,"data-state":l?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:g,...d,ref:t,onMouseDown:D(s.onMouseDown,r=>{!c&&r.button===0&&r.ctrlKey===!1?o.onValueChange(n):r.preventDefault()}),onKeyDown:D(s.onKeyDown,r=>{[" ","Enter"].includes(r.key)&&o.onValueChange(n)}),onFocus:D(s.onFocus,()=>{const r=o.activationMode!=="manual";!l&&!c&&r&&o.onValueChange(n)})})})});J.displayName=q;var Q="TabsContent",X=f.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,forceMount:c,children:d,...o}=s,i=I(Q,a),g=Y(i.baseId,n),x=Z(i.baseId,n),l=n===i.value,r=f.useRef(l);return f.useEffect(()=>{const h=requestAnimationFrame(()=>r.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(ke,{present:c||l,children:({present:h})=>e.jsx(S.div,{"data-state":l?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":g,hidden:!h,id:x,tabIndex:0,...o,ref:t,style:{...s.style,animationDuration:r.current?"0s":void 0},children:h&&d})})});X.displayName=Q;function Y(s,t){return`${s}-trigger-${t}`}function Z(s,t){return`${s}-content-${t}`}var Ue=K,ee=W,se=J,te=X;const Ge=Ue,ae=f.forwardRef(({className:s,...t},a)=>e.jsx(ee,{ref:a,className:P("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...t}));ae.displayName=ee.displayName;const oe=f.forwardRef(({className:s,...t},a)=>e.jsx(se,{ref:a,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...t}));oe.displayName=se.displayName;const He=f.forwardRef(({className:s,...t},a)=>e.jsx(te,{ref:a,className:P("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));He.displayName=te.displayName;const gs=({matches:s})=>[{title:Re(s)}];function xs(){return e.jsxs("div",{className:"px-8 pb-4 pt-8",children:[e.jsx(T,{children:"useViewTransition"}),e.jsx(Qe,{}),e.jsx(T,{children:"Notification"}),e.jsx(Oe,{}),e.jsx(T,{children:"AlertDialog & Modal & useModal"}),e.jsx(Ke,{}),e.jsx(T,{children:"useModalForm"}),e.jsx(We,{}),e.jsx(T,{children:"useStepsForm"}),e.jsx(Je,{})]})}function ps(){return e.jsx(_e,{})}const Oe=()=>{const{open:s,close:t}=ue();return e.jsxs("ul",{className:"mt-4 flex gap-2",children:[e.jsx(u,{onClick:()=>{s==null||s({key:"my-notification-abc",message:"Test Notification",description:"This is a test notification.",type:"progress"})},children:"Progress"}),e.jsx(u,{onClick:()=>{s==null||s({key:"my-notification-abc",message:"Test Notification",description:"This is a test notification.",type:"success"})},children:"Success"}),e.jsx(u,{onClick:()=>{s==null||s({key:"my-notification-abc",message:"Test Notification",description:"This is a test notification.",type:"error"})},children:"Failed"}),e.jsx(u,{onClick:()=>{t==null||t("my-notification-abc")},children:"Close"})]})},Ke=()=>{const{visible:s,show:t,close:a}=me();return e.jsxs("ul",{className:"mt-4 flex gap-2",children:[e.jsxs(pe,{children:[e.jsx(be,{asChild:!0,children:e.jsx(u,{children:"Show AlertDialog"})}),e.jsxs(je,{children:[e.jsxs(ve,{children:[e.jsx(ye,{children:"Are you absolutely sure?"}),e.jsx(Te,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),e.jsxs(Ce,{children:[e.jsx(Se,{children:"Cancel"}),e.jsx(De,{children:"Continue"})]})]})]}),e.jsxs(V,{open:s,onOpenChange:n=>{n?t():a()},children:[e.jsx(we,{asChild:!0,children:e.jsx(u,{children:"Show Modal"})}),e.jsxs(B,{children:[e.jsxs(L,{children:[e.jsx($,{children:"Are you absolutely sure?"}),e.jsx(U,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),e.jsxs(Ne,{children:[e.jsx(Pe,{asChild:!0,children:e.jsx(u,{variant:"outline",children:"Cancel"})}),e.jsx(u,{children:"Continue"})]})]})]}),e.jsx(u,{onClick:t,children:"Show Modal - useModal"})]})},N="0d97bea4-a06f-4f7e-8771-d4b884a46be7",ze=b.object({title:b.string().min(2,{message:"Title must be at least 2 characters."}),content:b.string().min(2).optional()}),We=()=>{const{options:s}=E({resource:C.category}),t=f.useCallback(k=>({...k,content:"..."}),[]),a=re({resolver:F(ze),defaultValues:{title:""},modalProps:{defaultVisible:!1},syncWithLocation:{key:"modalEditPost",syncId:!0},refineCoreProps:{resource:C.post,action:G.edit,id:N}}),{formState:{errors:n},refineCore:{onFinish:c,formLoading:d,autoSaveProps:o},modal:{title:i,visible:g,close:x,show:l},handleSubmit:r,saveButtonProps:h}=a,y=r(k=>{const ne=a.getValues();c(t(ne))}),{translate:m}=fe(),p=d||h.disabled;return e.jsxs("ul",{className:"mt-4 flex gap-2",children:[e.jsx(u,{onClick:()=>l(N),children:m(i)}),e.jsx(V,{open:g,onOpenChange:x,children:e.jsxs(B,{className:"max-w-6xl",children:[e.jsxs(L,{className:"border-b pb-4",children:[e.jsx($,{children:m(i)}),e.jsx(U,{children:"This is a Demo for Edit Form on Modal."})]}),e.jsx(_,{...a,children:e.jsxs("form",{onSubmit:y,className:"space-y-8",children:[e.jsx(v,{...a,name:"title",label:"Title",children:e.jsx(H,{placeholder:"Title"})}),e.jsx(v,{...a,name:"categoryId",label:"Category",children:e.jsx(M,{options:s,popoverProps:{modal:!0}})}),e.jsx(u,{type:"submit",icon:e.jsx(w,{}),loading:d,disabled:p,children:"Submit"})]})})]})})]})},j=["Title","Status","Category and Content"],qe=b.object({title:b.string().min(2,{message:"Title must be at least 2 characters."}),content:b.string().min(2),status:b.string(),categoryId:b.string()}),Je=()=>{const s=ie({resolver:F(qe),defaultValues:{title:"",status:Me.DRAFT,content:"",categoryId:""},warnWhenUnsavedChanges:!0,refineCoreProps:{resource:C.post,action:G.edit,id:N,autoSave:{enabled:!1}},stepsProps:{defaultStep:0,isBackValidate:!1}}),{formState:{errors:t},refineCore:{onFinish:a,formLoading:n,autoSaveProps:c},handleSubmit:d,steps:{currentStep:o,gotoStep:i},saveButtonProps:g}=s,{options:x}=E({resource:C.category}),l=m=>{switch(m){case 0:return e.jsx(v,{...s,name:"title",label:"Title",children:e.jsx(H,{placeholder:"Title"})});case 1:return e.jsx(v,{...s,name:"status",label:"Status",children:e.jsx(de,{options:Ee.map(p=>({label:p,value:p}))})});case 2:return e.jsxs(e.Fragment,{children:[e.jsx(v,{...s,name:"categoryId",label:"Category",children:e.jsx(M,{options:x})}),e.jsx(v,{...s,name:"content",label:"Content",children:e.jsx(ce,{placeholder:"Content",rows:10})})]})}},r=f.useCallback(m=>({...m,content:"..."}),[]),h=d(m=>{const p=s.getValues();a(r(p))}),y=n||g.disabled;return e.jsxs("div",{className:"mt-4 flex w-[600px] flex-col gap-8",children:[e.jsx(Ge,{defaultValue:j[0],value:j[o],onValueChange:m=>i(j.indexOf(m)),children:e.jsx(ae,{children:j.map((m,p)=>e.jsxs(oe,{value:m,children:[p+1," - ",m]},p))})}),e.jsx(_,{...s,children:e.jsxs("form",{className:"space-y-8",onSubmit:h,children:[l(o),e.jsxs("div",{style:{display:"flex",gap:8},children:[o>0&&e.jsx(u,{type:"button",icon:e.jsx(le,{}),onClick:()=>i(o-1),disabled:y,children:"Previous"}),o<j.length-1&&e.jsx(u,{type:"button",icon:e.jsx(w,{}),onClick:()=>i(o+1),disabled:y,children:"Next"}),o===j.length-1&&e.jsx(u,{type:"submit",icon:e.jsx(w,{}),disabled:y,children:"Save"})]})]})})]})},Qe=()=>{const s="/playground/dashboard/viewTransition",t=Ve(s);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:t?"正在执行视图过渡动画效果...":"点击图片查看过渡效果"}),e.jsx(Be,{prefetch:"intent",viewTransition:!0,to:s,children:e.jsx("img",{className:"h-32 rounded-md border border-secondary shadow-md",src:"/logo.png",style:{viewTransitionName:t?"image-expand":""}})})]})};export{ps as ErrorBoundary,xs as default,gs as meta};
//# sourceMappingURL=playground.dashboard.demo-CpuF94an.js.map
