{"version":3,"file":"index.js","sources":["../../app/services/sentry.server.ts","../../app/entry.server.tsx","../../node_modules/.pnpm/nprogress@0.2.0/node_modules/nprogress/nprogress.css?url","../../app/utils/can-use-dom.ts","../../app/utils/cn.ts","../../app/utils/get-all-params.ts","../../app/config/base-url.ts","../../app/locales/en.ts","../../app/locales/zh.ts","../../app/config/i18n.ts","../../app/config/pagination.ts","../../app/constants/action.ts","../../app/constants/auth.ts","../../app/constants/resource.ts","../../app/constants/roles.ts","../../app/config/resources.ts","../../app/utils/get-default-title.ts","../../app/utils/get-request-data.ts","../../app/utils/request.ts","../../app/utils/signature.ts","../../app/utils/singleton.ts","../../app/utils/try-parse.ts","../../app/utils/webapi.ts","../../app/component-refine/auto-save-indicator/index.tsx","../../app/components-shadcn/breadcrumb.tsx","../../app/component-refine/components/link.tsx","../../app/component-refine/breadcrumbs/index.tsx","../../app/components-shadcn/loading.tsx","../../app/components-shadcn/button.tsx","../../app/component-refine/buttons/clone.tsx","../../app/component-refine/buttons/create.tsx","../../app/components-shadcn/dialog.tsx","../../app/components-shadcn/command.tsx","../../app/components-shadcn/label.tsx","../../app/components-shadcn/form.tsx","../../app/components-shadcn/popover.tsx","../../app/components-shadcn/scroll-area.tsx","../../app/component-refine/components/combobox.tsx","../../app/components-shadcn/alert-dialog.tsx","../../app/component-refine/components/confirm.tsx","../../app/component-refine/components/field.tsx","../../app/components-shadcn/card.tsx","../../app/component-refine/components/form.tsx","../../app/component-refine/components/loader.tsx","../../app/components-shadcn/select.tsx","../../app/component-refine/components/select.tsx","../../app/component-refine/buttons/delete.tsx","../../app/component-refine/buttons/edit.tsx","../../app/component-refine/buttons/export.tsx","../../app/component-refine/buttons/import.tsx","../../app/component-refine/buttons/save.tsx","../../app/component-refine/buttons/show.tsx","../../app/component-refine/buttons/back.tsx","../../app/lib/refinedev-kbar/components/resultItem/index.tsx","../../app/lib/refinedev-kbar/components/renderResults/index.tsx","../../app/lib/refinedev-kbar/components/commandBar/index.tsx","../../app/lib/refinedev-kbar/definitions/capitalize/index.ts","../../app/lib/refinedev-kbar/hooks/useRefineKbar/index.tsx","../../app/lib/refinedev-kbar/components/refineKbar/index.tsx","../../app/lib/refinedev-kbar/index.tsx","../../app/component-refine/hooks/useBackToHomeKbarActions.tsx","../../app/component-refine/hooks/useDeleteHelper.tsx","../../app/component-refine/hooks/useGetCloneUrl.tsx","../../app/component-refine/hooks/useGetEditUrl.tsx","../../app/component-refine/hooks/useGetShowUrl.tsx","../../app/component-refine/hooks/useOnBack.tsx","../../app/component-refine/kbar/index.tsx","../../app/component-refine/providers/deleteProvider.tsx","../../app/components-shadcn/collapsible.tsx","../../app/components-shadcn/input.tsx","../../app/components-shadcn/separator.tsx","../../app/components-shadcn/sheet.tsx","../../app/components-shadcn/skeleton.tsx","../../app/components-shadcn/tooltip.tsx","../../app/hooks/use-debounce-submit.ts","../../app/hooks/use-mobile.tsx","../../app/hooks/use-mount-effect.ts","../../app/hooks/use-update-search-params.ts","../../app/components-shadcn/sidebar.tsx","../../app/component-refine/sidebar/index.tsx","../../app/components-shadcn/table.tsx","../../app/lib/refinedev-react-table/utils/useIsFirstRender/index.ts","../../app/lib/refinedev-react-table/utils/column-filters-to-crud-filters/index.ts","../../app/lib/refinedev-react-table/utils/get-removed-filters/index.ts","../../app/lib/refinedev-react-table/utils/crud-filters-to-column-filters/index.ts","../../app/lib/refinedev-react-table/useTable/index.ts","../../app/components-shadcn/dropdown-menu.tsx","../../app/component-refine/table/actions/index.tsx","../../app/component-refine/table/actions/clone.tsx","../../app/component-refine/table/actions/delete.tsx","../../app/component-refine/table/actions/edit.tsx","../../app/component-refine/table/actions/show.tsx","../../app/components-shadcn/badge.tsx","../../app/components-shadcn/calendar.tsx","../../app/component-refine/table/fields/table-filter-date-range-picker.tsx","../../app/component-refine/table/fields/table-filter-dropdown.tsx","../../app/component-refine/table/fields/table-filter-search-column.tsx","../../app/components-shadcn/checkbox.tsx","../../app/component-refine/table/fields/checkall.tsx","../../app/component-refine/table/fields/pagination.tsx","../../app/component-refine/table/fields/sort.tsx","../../app/component-refine/table/fields/table-filter-radio.tsx","../../app/component-refine/table/toolbar/table-view-options-dropdown.tsx","../../app/component-refine/table/toolbar/index.tsx","../../app/component-refine/table/index.tsx","../../app/components/403.tsx","../../app/components/404.tsx","../../app/components/500.tsx","../../app/components/coming-soon.tsx","../../app/components/error.tsx","../../app/components/privacy-policy.tsx","../../app/components/tcsk-oauth2.tsx","../../app/components/form-login.tsx","../../app/components/form-register.tsx","../../app/components-shadcn/typography.tsx","../../app/components/switcher-fullscreen.tsx","../../app/components/switcher-language.tsx","../../app/components/nav-tools.tsx","../../app/components/sidebar-right.tsx","../../app/components/layout.tsx","../../app/components/switcher-theme.tsx","../../app/components/nav-secondary.tsx","../../app/components-shadcn/avatar.tsx","../../app/components/nav-user.tsx","../../app/components/sidebar-left.tsx","../../app/components/switcher-role.tsx","../../app/components-shadcn/sonner.tsx","../../app/providers/auth.ts","../../app/providers/access-control.ts","../../app/lib/refinedev-nestjsx-crud/utils/axios.ts","../../app/lib/refinedev-nestjsx-crud/utils/mapOperator.ts","../../app/lib/refinedev-nestjsx-crud/utils/handleFilter.ts","../../app/lib/refinedev-nestjsx-crud/utils/handleJoin.ts","../../app/lib/refinedev-nestjsx-crud/utils/handlePagination.ts","../../app/lib/refinedev-nestjsx-crud/utils/handleSort.ts","../../app/lib/refinedev-nestjsx-crud/utils/transformPrismaError.ts","../../app/lib/refinedev-nestjsx-crud/utils/transformHttpError.ts","../../app/lib/refinedev-nestjsx-crud/provider.ts","../../app/providers/data.ts","../../app/providers/audit-log.ts","../../app/providers/i18n.ts","../../app/providers/notification.ts","../../app/lib/remix-auth-oauth2/redirect.ts","../../app/lib/remix-auth-oauth2/store.ts","../../app/lib/remix-auth-oauth2/index.ts","../../app/models/user.server.ts","../../app/services/auth.server.ts","../../app/services/db.server.ts","../../app/services/casbin-rules.server.ts","../../app/services/casbin-enforcer.server.ts","../../app/services/session.server.ts","../../app/services/casbin-permission.server.ts","../../app/services/cookie.server.ts","../../app/services/data.server.ts","../../app/styles/base.css?url","../../app/styles/tailwind.css?url","../../app/root.tsx","../../app/routes/playground.dashboard.viewTransition.tsx","../../app/components-shadcn/textarea.tsx","../../app/types/log.ts","../../app/types/post.ts","../../app/types/user.ts","../../app/routes/playground.article.post.edit.$id.tsx","../../app/routes/playground.article.post.clone.$id.tsx","../../app/routes/playground.article.post.show.$id.tsx","../../app/components/pdf.tsx","../../app/routes/playground.article.post._index.tsx","../../app/routes/playground.article.post.create.tsx","../../app/routes/api.auth.$provider.callback.ts","../../app/routes/playground.dashboard.health.tsx","../../app/routes/playground.dashboard.about.tsx","../../app/routes/system.account.role._index.tsx","../../app/routes/system.account.user._index.tsx","../../app/routes/api.auth.$provider._index.ts","../../app/components-shadcn/tabs.tsx","../../app/routes/playground.dashboard.demo.tsx","../../app/routes/system.admin.log.show.$id.tsx","../../app/routes/playground.article.post.tsx","../../app/routes/system.admin.log._index.tsx","../../app/routes/api.permissions.switch.ts","../../app/routes/playground.dashboard.tsx","../../app/routes/api.set-preferences.ts","../../app/routes/system.account.role.tsx","../../app/routes/system.account.user.tsx","../../app/routes/api.$resource.bulk.ts","../../app/routes/api.image-resize.$.ts","../../app/routes/api.$resource.$id.ts","../../app/routes/system.admin.log.tsx","../../app/routes/api.auth.logout.ts","../../app/routes/api.$resource.ts","../../app/routes/api.auth.me.ts","../../app/utils/typed-form-error.ts","../../app/routes/register.tsx","../../app/routes/_index.tsx","../../app/routes/login.tsx","../../app/routes/$.tsx"],"sourcesContent":["import * as SentryProfiling from '@sentry/profiling-node';\nimport * as Sentry from '@sentry/remix';\n\nlet isInitialized = false;\n\nexport function initSentry() {\n  if (isInitialized) {\n    return;\n  }\n\n  Sentry.init({\n    dsn: process.env.VITE_SENTRY_DSN,\n    environment: process.env.NODE_ENV,\n    release: 'oss@' + process.env.npm_package_version,\n    tracesSampleRate: 1,\n    autoInstrumentRemix: true,\n    integrations: [\n      Sentry.prismaIntegration(),\n      Sentry.anrIntegration({ captureStackTrace: true }),\n      Sentry.extraErrorDataIntegration(),\n      SentryProfiling.nodeProfilingIntegration(),\n    ],\n  });\n\n  isInitialized = true;\n}\n","import { PassThrough } from 'node:stream';\n\nimport type { EntryContext } from '@remix-run/node';\nimport { createReadableStreamFromReadable } from '@remix-run/node';\nimport { RemixServer } from '@remix-run/react';\nimport * as Sentry from '@sentry/remix';\nimport { isbot } from 'isbot';\nimport { renderToPipeableStream } from 'react-dom/server';\n\nimport { initSentry } from '~/services/sentry.server';\nimport { TAny } from '~/types';\n\n/** 初始化服务端 Sentry */\ninitSentry();\n\nconst ABORT_DELAY = 5_000;\n\n/** 初始化 Socket.IO 服务器 */\n// let httpServer: ReturnType<typeof createServer>;\n// if (typeof process !== 'undefined') {\n//   httpServer = createServer();\n//   initSocketIO(httpServer);\n\n//   const port = process.env.SOCKET_PORT || 3001;\n//   httpServer.listen(port, () => {\n//     console.log(`[Socket.IO] server listening on port ${port}`);\n//   });\n// }\n\n// if (process.env.NODE_ENV === 'development') {\n//   server.listen({\n//     onUnhandledRequest: ({ url }) => {\n//       if (url.includes('sentry')) {\n//         return 'bypass';\n//       }\n//       return 'warn';\n//     },\n//   });\n\n//   server.events.on('request:match', ({ request }) => {\n//     console.log('[MSW] Intercepted match:', `(${request.method}) ${request.url}`);\n//   });\n// }\n\n/** 处理请求 */\nexport default async function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return isbot(request.headers.get('user-agent') || '')\n    ? handleBotRequest(request, responseStatusCode, responseHeaders, remixContext)\n    : handleBrowserRequest(request, responseStatusCode, responseHeaders, remixContext);\n}\n\n/** 处理 Bot 请求 */\nfunction handleBotRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer context={remixContext} url={request.url} abortDelay={ABORT_DELAY} />,\n      {\n        onAllReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set('Content-Type', 'text/html');\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          if (shellRendered) {\n            console.error('@handleBotRequest', error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\n/** 处理浏览器请求 */\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer context={remixContext} url={request.url} abortDelay={ABORT_DELAY} />,\n      {\n        onShellReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set('Content-Type', 'text/html');\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          if (shellRendered) {\n            console.error('@handleBrowserRequest', error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\n/** 错误处理 */\nexport const handleError = Sentry.wrapHandleErrorWithSentry((_error, { request }: TAny) => {\n  if (!request.signal.aborted) {\n    // console.error('@entry.server.handleError', error);\n  }\n});\n","import \"/Users/jiezhiyong/Documents/GitHub/refine/node_modules/.pnpm/nprogress@0.2.0/node_modules/nprogress/nprogress.css?transform-only\";export default \"__VITE_CSS_URL__2f55736572732f6a69657a6869796f6e672f446f63756d656e74732f4769744875622f726566696e652f6e6f64655f6d6f64756c65732f2e706e706d2f6e70726f677265737340302e322e302f6e6f64655f6d6f64756c65732f6e70726f67726573732f6e70726f67726573732e6373733f7472616e73666f726d2d6f6e6c79__\"","/**\n * 判断是否可以使用 DOM\n */\nexport function canUseDOM(): boolean {\n  return typeof document !== 'undefined';\n}\n","import type { ClassValue } from 'clsx';\nimport { clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * 合并类名\n * @param inputs\n * @returns\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import { Params } from '@remix-run/react';\n\nimport { TAny } from '~/types';\n\n/**\n * 从 loader 和 action 的 request 和 params 中合并获取所有参数。\n * 该函数不仅支持使用 URL 对象来处理 GET 请求的查询参数，还支持从 formData 中获取参数\n */\nexport async function getAllParams<T extends Record<string, TAny>>(request: Request, params: Params<string>) {\n  const url = new URL(request.url);\n  const searchParams = Object.fromEntries(url.searchParams.entries());\n\n  let formDataParams = {};\n  if (request.method === 'POST' || request.method === 'PUT') {\n    const formData = await request.formData();\n    formDataParams = Object.fromEntries(formData.entries());\n  }\n\n  return {\n    ...searchParams,\n    ...formDataParams,\n    ...params,\n  } as T;\n}\n","import { canUseDOM } from '~/utils';\n\nexport const isServer = !canUseDOM();\n\nexport const baseUrl = isServer ? process.env.VITE_CLIENT_URL : window.location.origin;\n\nexport const apiBase = `${baseUrl}/api`;\n","export default {\n  title: 'Full-stack WEB framework (en)',\n  description:\n    'Focus on building data-intensive web applications more quickly and easily, while providing a fast, smooth user experience.',\n\n  pages: {\n    login: {\n      title: 'Sign in to your account',\n      signin: 'Sign in',\n      signup: 'Sign up',\n      divider: 'or',\n      fields: {\n        email: 'Email',\n        password: 'Password',\n      },\n      errors: {\n        validEmail: 'Invalid email address',\n        requiredEmail: 'Email is required',\n        requiredPassword: 'Password is required',\n      },\n      buttons: {\n        submit: 'Login',\n        forgotPassword: 'Forgot password?',\n        noAccount: 'Don’t have an account?',\n        rememberMe: 'Remember me',\n      },\n    },\n    forgotPassword: {\n      title: 'Forgot your password?',\n      fields: {\n        email: 'Email',\n      },\n      errors: {\n        validEmail: 'Invalid email address',\n        requiredEmail: 'Email is required',\n      },\n      buttons: {\n        submit: 'Send reset instructions',\n      },\n    },\n    register: {\n      title: 'Sign up for your account',\n      fields: {\n        email: 'Email',\n        password: 'Password',\n      },\n      errors: {\n        validEmail: 'Invalid email address',\n        requiredEmail: 'Email is required',\n        requiredPassword: 'Password is required',\n      },\n      buttons: {\n        submit: 'Register',\n        haveAccount: 'Have an account?',\n      },\n    },\n    updatePassword: {\n      title: 'Update password',\n      fields: {\n        password: 'New Password',\n        confirmPassword: 'Confirm new password',\n      },\n      errors: {\n        confirmPasswordNotMatch: 'Passwords do not match',\n        requiredPassword: 'Password required',\n        requiredConfirmPassword: 'Confirm password is required',\n      },\n      buttons: {\n        submit: 'Update',\n      },\n    },\n    error: {\n      info: 'You may have forgotten to add the {{action}} component to {{resource}} resource.',\n      '404': 'Sorry, the page you visited does not exist.',\n      resource404: 'Are you sure you have created the {{resource}} resource.',\n      backHome: 'Back Home',\n    },\n  },\n  actions: {\n    list: 'List',\n    create: 'Create',\n    edit: 'Edit',\n    show: 'Show',\n  },\n  buttons: {\n    create: 'Create',\n    save: 'Save',\n    logout: 'Logout',\n    delete: 'Delete',\n    edit: 'Edit',\n    cancel: 'Cancel',\n    confirm: 'Are you sure?',\n    filter: 'Filter',\n    clear: 'Clear',\n    refresh: 'Refresh',\n    show: 'Show',\n    undo: 'Undo',\n    import: 'Import',\n    clone: 'Clone',\n    notAccessTitle: \"You don't have permission to access\",\n  },\n  warnWhenUnsavedChanges: 'Are you sure you want to leave? You have unsaved changes.',\n  notifications: {\n    success: 'Successful',\n    error: 'Error (status code: {{statusCode}})',\n    undoable: 'You have {{seconds}} seconds to undo',\n    createSuccess: 'Successfully created {{resource}}',\n    createError: 'There was an error creating {{resource}} (status code: {{statusCode}})',\n    deleteSuccess: 'Successfully deleted {{resource}}',\n    deleteError: 'Error when deleting {{resource}} (status code: {{statusCode}})',\n    editSuccess: 'Successfully edited {{resource}}',\n    editError: 'Error when editing {{resource}} (status code: {{statusCode}})',\n    importProgress: 'Importing: {{processed}}/{{total}}',\n  },\n  loading: 'Loading',\n  tags: {\n    clone: 'Clone',\n  },\n  dashboard: {\n    title: 'Dashboard',\n  },\n  post: {\n    posts: 'Posts',\n    fields: {\n      id: 'Id',\n      title: 'Title',\n      category: 'Category',\n      status: {\n        title: 'Status',\n        published: 'Published',\n        draft: 'Draft',\n        rejected: 'Rejected',\n      },\n      content: 'Content',\n      createdAt: 'Created At',\n    },\n    titles: {\n      create: 'Create Post',\n      edit: 'Edit Post',\n      list: 'Posts',\n      show: 'Show Post',\n    },\n  },\n  table: {\n    actions: 'Actions',\n  },\n  documentTitle: {\n    default: 'refine',\n    suffix: ' | Refine',\n    post: {\n      list: 'Posts | Refine',\n      show: '#{{id}} Show Post | Refine',\n      edit: '#{{id}} Edit Post | Refine',\n      create: 'Create new Post | Refine',\n      clone: '#{{id}} Clone Post | Refine',\n    },\n  },\n  autoSave: {\n    success: 'saved',\n    error: 'auto save failed',\n    loading: 'saving ...',\n    idle: 'waiting for changes ...',\n  },\n};\n","export default {\n  title: '全栈式 WEB 框架 (zh)',\n  description: '专注于更快速、轻松的构建数据密集型 Web 应用程序，同时提供快速、流畅的用户体验。',\n\n  pages: {\n    login: {\n      title: '登录您的账户',\n      signin: '登录',\n      signup: '注册',\n      divider: '或',\n      fields: {\n        email: '邮箱',\n        password: '密码',\n      },\n      errors: {\n        validEmail: '无效的邮箱地址',\n        requiredEmail: '邮箱是必填项',\n        requiredPassword: '密码是必填项',\n      },\n      buttons: {\n        submit: '登录',\n        forgotPassword: '忘记密码？',\n        noAccount: '没有账户？',\n        rememberMe: '记住我',\n      },\n    },\n    forgotPassword: {\n      title: '忘记密码？',\n      fields: {\n        email: '邮箱',\n      },\n      errors: {\n        validEmail: '无效的邮箱地址',\n        requiredEmail: '邮箱是必填项',\n      },\n      buttons: {\n        submit: '发送重置说明',\n      },\n    },\n    register: {\n      title: '注册账户',\n      fields: {\n        email: '邮箱',\n        password: '密码',\n      },\n      errors: {\n        validEmail: '无效的邮箱地址',\n        requiredEmail: '邮箱是必填项',\n        requiredPassword: '密码是必填项',\n      },\n      buttons: {\n        submit: '注册',\n        haveAccount: '已有账户？',\n      },\n    },\n    updatePassword: {\n      title: '更新密码',\n      fields: {\n        password: '新密码',\n        confirmPassword: '确认新密码',\n      },\n      errors: {\n        confirmPasswordNotMatch: '密码不匹配',\n        requiredPassword: '密码是必填项',\n        requiredConfirmPassword: '确认密码是必填项',\n      },\n      buttons: {\n        submit: '更新',\n      },\n    },\n    error: {\n      info: '您可能忘记将 {{action}} 组件添加到 {{resource}} 资源中。',\n      '404': '抱歉，您访问的页面不存在。',\n      resource404: '请确认您是否已创建 {{resource}} 资源。',\n      backHome: '返回首页',\n    },\n  },\n  actions: {\n    list: '列表',\n    create: '创建',\n    edit: '编辑',\n    show: '查看',\n  },\n  buttons: {\n    create: '创建',\n    save: '保存',\n    logout: '退出登录',\n    delete: '删除',\n    edit: '编辑',\n    cancel: '取消',\n    confirm: '确定吗？',\n    filter: '筛选',\n    clear: '清除',\n    refresh: '刷新',\n    show: '显示',\n    undo: '撤销',\n    import: '导入',\n    clone: '克隆',\n    notAccessTitle: '您没有访问权限',\n  },\n  warnWhenUnsavedChanges: '确定要离开吗？您有未保存的更改。',\n  notifications: {\n    success: '操作成功',\n    error: '错误（状态码：{{statusCode}}）',\n    undoable: '您有 {{seconds}} 秒可以撤销',\n    createSuccess: '成功创建 {{resource}}',\n    createError: '创建 {{resource}} 时出错（状态码：{{statusCode}}）',\n    deleteSuccess: '成功删除 {{resource}}',\n    deleteError: '删除 {{resource}} 时出错（状态码：{{statusCode}}）',\n    editSuccess: '成功编辑 {{resource}}',\n    editError: '编辑 {{resource}} 时出错（状态码：{{statusCode}}）',\n    importProgress: '导入进度：{{processed}}/{{total}}',\n  },\n  loading: '加载中',\n  tags: {\n    clone: '克隆',\n  },\n  dashboard: {\n    title: '仪表盘',\n  },\n  post: {\n    posts: '文章',\n    fields: {\n      id: '编号',\n      title: '标题',\n      category: '分类',\n      status: {\n        title: '状态',\n        published: '已发布',\n        draft: '草稿',\n        rejected: '已拒绝',\n      },\n      content: '内容',\n      createdAt: '创建时间',\n    },\n    titles: {\n      create: '创建文章',\n      edit: '编辑文章',\n      list: '文章列表',\n      show: '查看文章',\n    },\n  },\n  table: {\n    actions: '操作',\n  },\n  documentTitle: {\n    default: 'refine',\n    suffix: ' | Refine',\n    post: {\n      list: '文章列表 | Refine',\n      show: '#{{id}} 查看文章 | Refine',\n      edit: '#{{id}} 编辑文章 | Refine',\n      create: '创建新文章 | Refine',\n      clone: '#{{id}} 克隆文章 | Refine',\n    },\n  },\n  autoSave: {\n    success: '已保存',\n    error: '自动保存失败',\n    loading: '保存中...',\n    idle: '等待更改',\n  },\n};\n","import enTranslation from '~/locales/en';\nimport zhTranslation from '~/locales/zh';\n\n// This is the list of languages your application supports, the last one is your fallback language\nexport const supportedLanguages = ['en', 'zh'];\n\n// This is the language you want to use in case the user language is not in the supportedLanguages\nexport const fallbackLanguage = 'en';\n\n// The default namespace of i18next is \"translation\", but you can customize it\nexport const defaultNS = 'translation';\n\nexport const resourcesLanguages = {\n  en: { [defaultNS]: enTranslation },\n  zh: { [defaultNS]: zhTranslation },\n};\n\nexport type LocaleLanguage = 'en' | 'zh';\n","export const DEFAULT_PAGE_SIZE = 20;\n","export enum EnumAction {\n  list = 'list',\n  show = 'show',\n  create = 'create',\n  edit = 'edit',\n  delete = 'delete',\n  field = 'field',\n  import = 'import',\n  export = 'export',\n  clone = 'clone',\n}\n","// 认证提供商枚举\nexport enum EnumAuthProvider {\n  userpass = 'userpass',\n  tcshuke = 'tcshuke',\n}\n\n// 认证提供商类型\nexport type TAuthProvider = `${EnumAuthProvider}`;\n","// 定义数据资源枚举\nexport enum EnumResource {\n  user = 'user',\n  role = 'role',\n  log = 'log',\n  post = 'post',\n  category = 'category',\n}\n\n// 定义数据实体\nexport type Resources = `${EnumResource}`;\n","import { AudioLines, Baby, BicepsFlexed } from 'lucide-react';\n\nexport enum EnumRole {\n  administrator = 'administrator',\n  editor = 'editor',\n  guest = 'guest',\n}\n\nexport type TRole = `${EnumRole}`;\n\nexport const rolesAll = [\n  { label: 'Administrator', value: EnumRole.administrator, icon: BicepsFlexed },\n  { label: 'Editor', value: EnumRole.editor, icon: AudioLines },\n  { label: 'Guest', value: EnumRole.guest, icon: Baby },\n];\n\nexport enum EnumRoleId {\n  administrator = '1',\n  editor = '2',\n  guest = '3',\n}\n","// 定义的数据资源、菜单项\n\nimport { ResourceProps } from '@refinedev/core';\nimport { Bot, Brain, PieChart, UsersRound } from 'lucide-react';\n\nimport { EnumResource } from '~/constants';\nimport { TAny } from '~/types';\n\n// icons - https://lucide.dev/icons/\nexport const dataResources: ResourceProps[] = [\n  // 一级菜单 playground\n  {\n    name: 'playground',\n    meta: {},\n  },\n\n  // 二级菜单 playground/dashboard\n  {\n    name: 'dashboard',\n    meta: { parent: 'playground', icon: PieChart as TAny },\n  },\n\n  // 三级菜单 playground/dashboard/About、Techstack\n  {\n    name: 'about',\n    list: '/playground/dashboard/about',\n    meta: { parent: 'dashboard' },\n  },\n  {\n    name: 'demo',\n    list: '/playground/dashboard/demo',\n    meta: { parent: 'dashboard' },\n  },\n  {\n    name: 'viewTransition',\n    list: '/playground/dashboard/viewTransition',\n    meta: { parent: 'dashboard', label: 'viewTransition' },\n  },\n  {\n    name: 'health',\n    list: '/playground/dashboard/health',\n    meta: { parent: 'dashboard' },\n  },\n\n  // 二级菜单 playground/document\n  {\n    name: 'article',\n    meta: { parent: 'playground', icon: Brain },\n  },\n\n  // 三级菜单 playground/dashboard/Post、Category\n  {\n    name: EnumResource.post,\n    list: `/playground/article/${EnumResource.post}`,\n    create: `/playground/article/${EnumResource.post}/create`,\n    edit: `/playground/article/${EnumResource.post}/edit/:id`,\n    show: `/playground/article/${EnumResource.post}/show/:id`,\n    clone: `/playground/article/${EnumResource.post}/clone/:id`,\n    meta: { parent: 'article' },\n  },\n  {\n    name: EnumResource.category,\n    meta: { parent: 'article' },\n  },\n\n  // 一级菜单 system\n  {\n    name: 'system',\n    meta: {},\n  },\n\n  // 二级菜单 system/account\n  {\n    name: 'account',\n    meta: { parent: 'system', icon: UsersRound },\n  },\n\n  // 三级菜单 system/account/Role、User\n  {\n    name: EnumResource.user,\n    list: `/system/account/${EnumResource.user}`,\n    create: `/system/account/${EnumResource.user}/create`,\n    edit: `/system/account/${EnumResource.user}/edit/:id`,\n    show: `/system/account/${EnumResource.user}/show/:id`,\n    meta: { parent: 'account' },\n  },\n  {\n    name: EnumResource.role,\n    list: `/system/account/${EnumResource.role}`,\n    create: `/system/account/${EnumResource.role}/create`,\n    edit: `/system/account/${EnumResource.role}/edit/:id`,\n    show: `/system/account/${EnumResource.role}/show/:id`,\n    meta: { parent: 'account' },\n  },\n\n  // 二级菜单 system/admin\n  {\n    name: 'admin',\n    meta: { parent: 'system', icon: Bot },\n  },\n\n  // 三级菜单 system/admin/Log\n  {\n    name: EnumResource.log,\n    list: `/system/admin/${EnumResource.log}`,\n    show: `/system/admin/${EnumResource.log}/show/:id`,\n    meta: { parent: 'admin' },\n  },\n];\n","import { dataResources } from '~/config';\nimport { TAny } from '~/types';\n\n/**\n * 获取默认标题\n * @param matches\n * @returns\n */\nexport function getDefaultTitle(matches: TAny) {\n  const { pathname } = matches[matches.length - 1];\n\n  const matchedResource = dataResources.find((r) => pathname.startsWith(r.list));\n  const { name, meta } = matchedResource || {};\n\n  let title = meta?.title || name || 'OSS Inc.';\n  title = title.charAt(0).toUpperCase() + title.slice(1);\n\n  let action = pathname.replace(`${matchedResource?.list}/`, '').split('/').shift();\n  action = action.charAt(0).toUpperCase() + action.slice(1);\n\n  return action ? `${title} · ${action}` : title;\n}\n","import { TAny } from '~/types';\n\n// 根据 Content-Type 选择正确的解析方法\nexport const getRequestData = async (request: Request) => {\n  const contentType = request.headers.get('content-type');\n  let data: Record<string, TAny>;\n\n  if (contentType?.includes('application/json')) {\n    data = await request.json();\n  } else if (\n    contentType?.includes('application/x-www-form-urlencoded') ||\n    contentType?.includes('multipart/form-data')\n  ) {\n    const formData = await request.formData();\n    data = Object.fromEntries(formData);\n  } else {\n    // 对于 text/plain，尝试解析为 JSON\n    const text = await request.text();\n    try {\n      data = JSON.parse(text);\n    } catch {\n      data = { value: text };\n    }\n  }\n\n  return data;\n};\n","import { CrudFilters, CrudSorting, Pagination } from '@refinedev/core';\n\nimport { DEFAULT_PAGE_SIZE } from '~/config';\nimport { TAny } from '~/types';\n\n// 从 URL 参数中解析分页信息\nexport function getPaginationFromUrl(url: URL): Pagination {\n  const limit = Number(url.searchParams.get('limit')) || DEFAULT_PAGE_SIZE;\n  const page = Number(url.searchParams.get('page')) || 1;\n\n  return {\n    current: page,\n    pageSize: limit,\n  };\n}\n\n// 从 URL 参数中解析排序信息\nexport function getSortersFromUrl(url: URL): CrudSorting {\n  const sortParam = url.searchParams.get('sort[0]');\n  if (!sortParam) return [];\n\n  const [field, order] = sortParam.split(',');\n  return [\n    {\n      field,\n      order: order.toLowerCase() as 'asc' | 'desc',\n    },\n  ];\n}\n\n// 从 URL 参数中解析过滤信息\nexport function getFiltersFromUrl(url: URL): CrudFilters {\n  const searchParam = url.searchParams.get('s');\n  if (!searchParam) {\n    return [];\n  }\n\n  try {\n    const searchObj = JSON.parse(decodeURIComponent(searchParam));\n    if (!searchObj.$and) {\n      return [];\n    }\n\n    return searchObj.$and.map((condition: Record<string, { $eq?: string; $contL?: string; $in?: string[] }>) => {\n      const [field] = Object.keys(condition);\n      const operatorMap = {\n        $eq: 'eq',\n        $contL: 'contains',\n        $in: 'in',\n      } as const;\n\n      // 找到第一个存在的操作符\n      const operator = Object.keys(condition[field])[0] as keyof typeof operatorMap;\n      const mappedOperator = operatorMap[operator] || 'contains';\n      const value = condition[field][operator];\n\n      return {\n        field,\n        operator: mappedOperator,\n        value,\n      };\n    });\n  } catch (error) {\n    console.error('解析过滤参数错误:', error);\n    return [];\n  }\n}\n\n// 从 URL 参数中解析 join 信息\nexport function getJoinFromUrl(url: URL) {\n  // 收集所有的 join 参数\n  const joinParams: string[] = [];\n  for (let i = 0; ; i++) {\n    const param = url.searchParams.get(`join[${i}]`);\n    if (!param) break;\n    joinParams.push(param);\n  }\n\n  if (joinParams.length === 0) return undefined;\n\n  // 解析 join 参数并转换为 Prisma include 格式\n  const include: Record<string, { select: Record<string, boolean> }> = {};\n\n  joinParams.forEach((param) => {\n    // 格式：relation||field1,field2,field3\n    const [relation, fields] = param.split('||');\n    if (!relation || !fields) return;\n\n    include[relation] = {\n      select: fields.split(',').reduce(\n        (acc, field) => ({\n          ...acc,\n          [field]: true,\n        }),\n        {}\n      ),\n    };\n  });\n\n  return Object.keys(include).length > 0 ? include : undefined;\n}\n\n// 定义操作符\nexport type FilterOperator = 'eq' | 'contains' | 'gt' | 'lt' | 'gte' | 'lte' | 'in';\n\n// 定义过滤器类型\nexport interface Filter {\n  field: string;\n  operator: FilterOperator;\n  value: TAny;\n  meta?: { filterOperator?: FilterOperator };\n}\n\n// 定义排序类型\nexport interface Sorter {\n  field: string;\n  order: 'asc' | 'desc';\n}\n\n// 判断是否为有效的 ISO 日期字符串\nexport const isISODateString = (value: string): boolean => {\n  if (!value || typeof value !== 'string') return false;\n\n  try {\n    const date = new Date(value);\n    return !isNaN(date.getTime()) && value.includes('T');\n  } catch {\n    return false;\n  }\n};\n\n// 处理日期值，支持数组和单个值\nexport const processDateValue = (value: TAny, operator?: FilterOperator): TAny => {\n  if (Array.isArray(value)) {\n    const dates = value.map((v) => {\n      if (typeof v === 'string' && isISODateString(v)) {\n        return new Date(v);\n      }\n      return v;\n    });\n    // 检查是否所有元素都成功转换为 Date\n    const allDates = dates.every((d) => d instanceof Date);\n\n    // 如果是日期数组，根据操作符转换查询条件\n    if (allDates && dates.length) {\n      if (operator === 'gte') {\n        return { gte: dates[0] };\n      }\n      if (operator === 'lte') {\n        return { lte: dates[1] };\n      }\n\n      // 默认使用日期范围\n      const condition: { gte: Date; lte?: Date } = { gte: dates[0] };\n      if (dates[1]) {\n        condition.lte = dates[1];\n      }\n\n      return condition;\n    }\n    return dates;\n  }\n\n  if (typeof value === 'string' && isISODateString(value)) {\n    return new Date(value);\n  }\n  return value;\n};\n\n// 处理查询条件中的日期字段\nexport const processDateFields = (obj: Record<string, TAny>): Record<string, TAny> => {\n  if (!obj) return obj;\n\n  return Object.entries(obj).reduce(\n    (acc, [key, value]) => {\n      if (value && typeof value === 'object') {\n        // 如果是包含 in 操作符的日期数组，直接处理为日期范围\n        if (value.in && Array.isArray(value.in)) {\n          const processed = processDateValue(value.in);\n          if (processed && typeof processed === 'object' && 'gte' in processed) {\n            acc[key] = processed;\n          } else {\n            acc[key] = value;\n          }\n        } else {\n          // 处理其他嵌套对象\n          acc[key] = Object.entries(value).reduce((subAcc, [subKey, subValue]) => {\n            const processed = processDateValue(subValue, subKey as FilterOperator);\n            return { ...subAcc, [subKey]: processed };\n          }, {});\n        }\n      } else {\n        acc[key] = processDateValue(value);\n      }\n\n      return acc;\n    },\n    {} as Record<string, TAny>\n  );\n};\n\n// 处理过滤条件的函数\nexport function buildWhereClause(filters: Filter[] = []): Record<string, TAny> {\n  return filters.reduce((acc, filter) => {\n    const meta = filter.meta as { filterOperator?: FilterOperator };\n    const operator = meta?.filterOperator || filter.operator;\n\n    switch (operator) {\n      case 'eq':\n        return { ...acc, [filter.field]: filter.value };\n      case 'contains':\n        return { ...acc, [filter.field]: { contains: filter.value } };\n      case 'gt':\n        return { ...acc, [filter.field]: { gt: filter.value } };\n      case 'lt':\n        return { ...acc, [filter.field]: { lt: filter.value } };\n      case 'gte':\n        return { ...acc, [filter.field]: { gte: filter.value } };\n      case 'lte':\n        return { ...acc, [filter.field]: { lte: filter.value } };\n      case 'in': {\n        // 如果值已经是数组，直接使用；否则尝试将其转换为数组\n        const values = Array.isArray(filter.value) ? filter.value : filter.value.toString().split(',');\n\n        // 对于 id 字段，保持字符串类型；对于其他字段，尝试转换为数字\n        const parsedValues =\n          filter.field === 'id'\n            ? values\n            : values.map((v: unknown) => {\n                const num = Number(v);\n                return isNaN(num) ? v : num;\n              });\n        return { ...acc, [filter.field]: { in: parsedValues } };\n      }\n      default:\n        return acc;\n    }\n  }, {});\n}\n\n// 处理排序条件的函数\nexport function buildOrderByClause(sorters: Sorter[] = []): Record<string, 'asc' | 'desc'> {\n  return sorters.reduce(\n    (acc, sorter) => ({\n      ...acc,\n      [sorter.field]: sorter.order,\n    }),\n    {}\n  );\n}\n\n// 处理 Refine 的过滤参数格式\nexport function parseRefineFilters(filters: Filter[]): Filter[] {\n  return filters.map((filter) => {\n    if (filter.field.startsWith('filter[')) {\n      const [field, operator, value] = filter.value.split('||');\n      return {\n        field,\n        operator: operator.replace('$', '') as FilterOperator,\n        value,\n      };\n    }\n    return filter;\n  });\n}\n","import * as nodeCrypto from 'crypto';\n\nimport invariant from 'tiny-invariant';\n\nimport { TAny } from '~/types';\n\nimport { canUseDOM } from './can-use-dom';\n\nconst SECRET = canUseDOM() ? import.meta.env.VITE_SECRET : process.env.VITE_SECRET;\ninvariant(SECRET, 'VITE_SECRET must be set.');\n\n// 签名有效期（毫秒）\nconst SIGNATURE_EXPIRATION = 5 * 60 * 1000; // 5分钟\n\n// 将字符串转换为 Uint8Array\nfunction str2ab(str: string): Uint8Array {\n  const encoder = new TextEncoder();\n  return encoder.encode(str);\n}\n\n// 将 ArrayBuffer 转换为十六进制字符串\nfunction ab2hex(buffer: ArrayBuffer): string {\n  return Array.from(new Uint8Array(buffer))\n    .map((b) => b.toString(16).padStart(2, '0'))\n    .join('');\n}\n\n// 浏览器端使用 Web Crypto API\nasync function generateSignatureInBrowser(payload: TAny): Promise<string> {\n  // 检查是否在安全上下文中\n  if (!window.isSecureContext) {\n    throw new Error('Web Crypto API 需要安全上下文 (HTTPS 或 localhost)');\n  }\n\n  // 检查 crypto.subtle 是否可用\n  if (!crypto.subtle) {\n    throw new Error('当前环境不支持 Web Crypto API');\n  }\n\n  const data = JSON.stringify(payload);\n  const encoder = new TextEncoder();\n  const keyData = encoder.encode(SECRET);\n\n  try {\n    // 从密钥数据创建 CryptoKey\n    const key = await crypto.subtle.importKey('raw', keyData, { name: 'HMAC', hash: 'SHA-256' }, false, ['sign']);\n\n    // 生成签名\n    const signature = await crypto.subtle.sign('HMAC', key, str2ab(data));\n    return ab2hex(signature);\n  } catch (error) {\n    console.error('生成签名时发生错误:', error);\n    throw error;\n  }\n}\n\n// 服务端使用 Node.js crypto\nfunction generateSignatureInNode(payload: TAny): string {\n  return nodeCrypto.createHmac('sha256', SECRET).update(JSON.stringify(payload)).digest('hex');\n}\n\n// 带时间戳的载荷类型\ninterface TimestampedPayload<T = TAny> {\n  data: T;\n  timestamp?: number;\n}\n\n// 根据运行环境选择合适的签名方法\nexport async function generateSignature(payload: TAny, timestamp?: number): Promise<string> {\n  if (!payload) {\n    return '';\n  }\n\n  const timestampedPayload: TimestampedPayload = {\n    data: payload,\n    timestamp,\n  };\n\n  if (canUseDOM()) {\n    return generateSignatureInBrowser(timestampedPayload);\n  }\n  return generateSignatureInNode(timestampedPayload);\n}\n\n// 验证签名\nexport async function verifySignature(timestampedPayload: TimestampedPayload, signature: string): Promise<boolean> {\n  const currentTime = Date.now();\n\n  // 检查时间戳是否存在\n  if (timestampedPayload.timestamp) {\n    const timeDiff = Math.abs(currentTime - timestampedPayload.timestamp);\n    if (timeDiff > SIGNATURE_EXPIRATION) {\n      console.warn('签名验证失败：时间戳过期');\n      return false;\n    }\n  }\n\n  try {\n    const expectedSignature = await generateSignature(timestampedPayload.data, timestampedPayload.timestamp);\n    return expectedSignature === signature;\n  } catch (error) {\n    console.error('签名验证失败：', error);\n    return false;\n  }\n}\n\n// API 请求签名验证中间件\nexport async function validateRequestSignature(request: Request): Promise<boolean> {\n  const signature = request.headers.get('X-Signature');\n  const timestamp = request.headers.get('X-Timestamp');\n\n  if (!signature || !timestamp) {\n    console.warn('签名验证失败：缺少签名或时间戳');\n    return false;\n  }\n\n  try {\n    const body = await request.clone().json();\n    const timestampedPayload: TimestampedPayload = {\n      data: body,\n      timestamp: parseInt(timestamp, 10),\n    };\n\n    return await verifySignature(timestampedPayload, signature);\n  } catch (error) {\n    console.error('签名验证失败：', error);\n    return false;\n  }\n}\n","import { TAny } from '~/types';\n\nconst moduleCache: Record<string, TAny> = {};\n\n/**\n * 单例模式\n * 由于开发服务器会重新加载（require）打包后的代码，需要做一些特殊处理来确保某些数据能够在重新加载后保持持久化\n * 生产环境中使用模块级缓存\n */\nexport const singleton = <Value>(name: string, valueFactory: () => Value): Value => {\n  if (process.env.NODE_ENV === 'production') {\n    moduleCache[name] ??= valueFactory();\n    return moduleCache[name];\n  }\n\n  const g = global as TAny;\n  g.__singletons ??= {};\n  g.__singletons[name] ??= valueFactory();\n  return g.__singletons[name];\n};\n","/**\n * 尝试对 json string 字符串进行 parse\n */\nexport const tryParse = (jsonString: string | null | Record<string, unknown>) => {\n  let jsonObject: Record<string, unknown> = {};\n  let status = false;\n\n  if (typeof jsonString === 'string' && jsonString.includes('{') && jsonString.includes('}')) {\n    try {\n      jsonObject = JSON.parse(jsonString);\n      status = true;\n    } catch (error) {\n      // ignore\n    }\n  }\n\n  return {\n    status,\n    data: status ? jsonObject : undefined,\n    original: jsonString,\n  };\n};\n","import * as https from 'node:https';\n\nimport { apiBase, isServer } from '~/config';\nimport { TAny } from '~/types';\nimport { generateSignature } from '~/utils/signature';\n\n// 类型定义\ntype HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';\ntype RequestOptions = RequestInit & {\n  headers?: Record<string, string>;\n};\n\n// 服务端 HTTPS 请求\nlet makeServerRequest: ((url: string, options: RequestOptions) => Promise<Response>) | undefined;\n\nif (isServer) {\n  makeServerRequest = (requestUrl: string, options: RequestOptions = {}): Promise<Response> => {\n    return new Promise((resolve, reject) => {\n      const parsedUrl = new URL(requestUrl);\n      const requestOptions: https.RequestOptions = {\n        method: options.method || 'GET',\n        hostname: parsedUrl.hostname,\n        port: parsedUrl.port,\n        path: parsedUrl.pathname + parsedUrl.search,\n        rejectUnauthorized: false,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          ...(options.headers as Record<string, string>),\n        },\n      };\n\n      const req = https.request(requestOptions, (res: TAny) => {\n        let data = '';\n        res.on('data', (chunk: TAny) => {\n          data += chunk;\n        });\n        res.on('end', () => {\n          resolve({\n            ok: res.statusCode >= 200 && res.statusCode < 300,\n            status: res.statusCode,\n            statusText: res.statusMessage,\n            headers: res.headers,\n            json: async () => {\n              try {\n                return JSON.parse(data);\n              } catch {\n                return {};\n              }\n            },\n          } as Response);\n        });\n      });\n\n      req.on('error', reject);\n\n      if (options.body) {\n        // 如果是 URLSearchParams，需要转换为字符串\n        const body = options.body instanceof URLSearchParams ? options.body.toString() : options.body;\n        req.write(body);\n      }\n      req.end();\n    });\n  };\n}\n\n// 数据转换\nconst convertToFormData = (data: Record<string, TAny>): FormData | URLSearchParams => {\n  if (isServer) {\n    const params = new URLSearchParams();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value != null) {\n        params.append(key, String(value));\n      }\n    });\n    return params;\n  }\n\n  const formData = new FormData();\n  Object.entries(data).forEach(([key, value]) => {\n    if (value != null) {\n      formData.append(key, String(value));\n    }\n  });\n  return formData;\n};\n\n// API 请求处理\nconst request = async (\n  method: HttpMethod,\n  path: string,\n  data?: Record<string, TAny>,\n  options: RequestOptions = {}\n): Promise<Response> => {\n  const url = `${apiBase}${path}`;\n\n  const body = data ? convertToFormData(data) : undefined;\n\n  const requestOptions: RequestOptions = {\n    ...options,\n    method,\n    credentials: 'include',\n    body: body instanceof URLSearchParams ? body.toString() : body,\n  };\n\n  if (data) {\n    const timestamp = Date.now();\n    const headers = {\n      ...(requestOptions.headers || {}),\n      'X-Timestamp': timestamp.toString(),\n      'X-Signature': await generateSignature(data, timestamp),\n    } as Record<string, string>;\n    requestOptions.headers = headers;\n  }\n\n  return isServer && makeServerRequest ? makeServerRequest(url, requestOptions) : fetch(url, requestOptions);\n};\n\n// Web API 工具类\nexport const webapi = {\n  get: (path: string, options?: RequestOptions) => {\n    return request('GET', path, undefined, options);\n  },\n\n  post: (path: string, data?: Record<string, TAny>, options?: RequestOptions) => {\n    return request('POST', path, data, options);\n  },\n\n  put: (path: string, data?: Record<string, TAny>, options?: RequestOptions) => {\n    return request('PUT', path, data, options);\n  },\n\n  delete: (path: string, options?: RequestOptions) => {\n    return request('DELETE', path, undefined, options);\n  },\n};\n","import { AutoSaveIndicatorElements, BaseRecord, HttpError, useTranslate, UseUpdateReturnType } from '@refinedev/core';\nimport dayjs from 'dayjs';\nimport React from 'react';\n\nimport { cn } from '~/utils';\n\nexport type AutoSaveIndicatorProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = object,\n> = {\n  data?: UseUpdateReturnType<TData, TError, TVariables>['data'];\n  error?: UseUpdateReturnType<TData, TError, TVariables>['error'];\n  status: UseUpdateReturnType<TData, TError, TVariables>['status'];\n  elements?: AutoSaveIndicatorElements;\n};\n\nexport const AutoSaveIndicator: React.FC<AutoSaveIndicatorProps> = ({\n  status,\n  elements: {\n    success = <Message translationKey=\"autoSave.success\" defaultMessage=\"saved\" />,\n    error = <Message translationKey=\"autoSave.error\" defaultMessage=\"auto save failed\" />,\n    loading = <Message translationKey=\"autoSave.loading\" defaultMessage=\"saving ...\" />,\n    idle = <Message translationKey=\"autoSave.idle\" defaultMessage=\"waiting for changes ...\" />,\n  } = {},\n}) => {\n  switch (status) {\n    case 'success':\n      return <>{success}</>;\n    case 'error':\n      return <>{error}</>;\n    case 'loading':\n      return <>{loading}</>;\n    default:\n      return <>{idle}</>;\n  }\n};\n\nconst Message = ({ translationKey, defaultMessage }: { translationKey: string; defaultMessage: string }) => {\n  const translate = useTranslate();\n\n  return (\n    <span\n      className={cn('text-muted-foreground text-sm', {\n        'text-destructive': translationKey === 'autoSave.error',\n        'text-green-500': translationKey === 'autoSave.success',\n      })}\n    >\n      {translate(translationKey, defaultMessage)}\n      {translationKey === 'autoSave.success' && ` at ${dayjs().format('HH:mm:ss')}`}\n    </span>\n  );\n};\n","import { Slot } from '@radix-ui/react-slot';\nimport { ChevronRight, MoreHorizontal } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<'nav'> & {\n    separator?: React.ReactNode;\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />);\nBreadcrumb.displayName = 'Breadcrumb';\n\nconst BreadcrumbList = React.forwardRef<HTMLOListElement, React.ComponentPropsWithoutRef<'ol'>>(\n  ({ className, ...props }, ref) => (\n    <ol\n      ref={ref}\n      className={cn(\n        'text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5',\n        className\n      )}\n      {...props}\n    />\n  )\n);\nBreadcrumbList.displayName = 'BreadcrumbList';\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, React.ComponentPropsWithoutRef<'li'>>(\n  ({ className, ...props }, ref) => (\n    <li ref={ref} className={cn('inline-flex items-center gap-1.5', className)} {...props} />\n  )\n);\nBreadcrumbItem.displayName = 'BreadcrumbItem';\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<'a'> & {\n    asChild?: boolean;\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'a';\n\n  return <Comp ref={ref} className={cn('hover:text-foreground transition-colors', className)} {...props} />;\n});\nBreadcrumbLink.displayName = 'BreadcrumbLink';\n\nconst BreadcrumbPage = React.forwardRef<HTMLSpanElement, React.ComponentPropsWithoutRef<'span'>>(\n  ({ className, ...props }, ref) => (\n    <span\n      ref={ref}\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn('text-foreground font-normal', className)}\n      {...props}\n    />\n  )\n);\nBreadcrumbPage.displayName = 'BreadcrumbPage';\n\nconst BreadcrumbSeparator = ({ children, className, ...props }: React.ComponentProps<'li'>) => (\n  <li role=\"presentation\" aria-hidden=\"true\" className={cn('[&>svg]:h-3.5 [&>svg]:w-3.5', className)} {...props}>\n    {children ?? <ChevronRight />}\n  </li>\n);\nBreadcrumbSeparator.displayName = 'BreadcrumbSeparator';\n\nconst BreadcrumbEllipsis = ({ className, ...props }: React.ComponentProps<'span'>) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn('flex h-9 w-9 items-center justify-center', className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n);\nBreadcrumbEllipsis.displayName = 'BreadcrumbElipssis';\n\nexport {\n  Breadcrumb,\n  BreadcrumbEllipsis,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n};\n","import { Slot } from '@radix-ui/react-slot';\nimport { useLink, useRouterContext, useRouterType } from '@refinedev/core';\nimport { forwardRef } from 'react';\n\nimport { cn } from '~/utils';\n\nimport { LayoutResource } from '../types';\n\ntype LinkProps = LayoutResource['link'] & {\n  asChild?: boolean;\n};\n\nexport const Link = forwardRef<HTMLAnchorElement, LinkProps>(({ children, href, title, className, asChild }, ref) => {\n  const { Link: LegacyLink } = useRouterContext();\n  const routerType = useRouterType();\n  const Link = useLink();\n\n  const ActiveLink = routerType === 'legacy' ? LegacyLink : Link;\n  const Comp = asChild ? Slot : ActiveLink;\n\n  return (\n    <Comp\n      prefetch=\"intent\"\n      viewTransition\n      ref={ref}\n      to={href}\n      className={cn('hover:bg-accent', className)}\n      title={title}\n    >\n      {children}\n    </Comp>\n  );\n});\n\nLink.displayName = 'Link';\n","import { matchResourceFromRoute, useBreadcrumb, useRefineContext, useResource } from '@refinedev/core';\nimport { RefineBreadcrumbProps } from '@refinedev/ui-types';\nimport { HomeIcon } from 'lucide-react';\nimport { FC, Fragment } from 'react';\n\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from '~/components-shadcn/breadcrumb';\n\nimport { Link } from '../components/link';\n\nexport type BreadcrumbProps = RefineBreadcrumbProps;\n\nexport const Breadcrumbs: FC<BreadcrumbProps> = ({ showHome = true, meta }) => {\n  const { breadcrumbs } = useBreadcrumb({\n    meta,\n  });\n\n  const { hasDashboard } = useRefineContext();\n\n  const { resources } = useResource();\n\n  const dashboardResource = resources[0];\n\n  const rootRouteResource = matchResourceFromRoute('/', resources);\n\n  const BreadCrumbItems = breadcrumbs.map(({ label, href }, key) => (\n    <Fragment key={key}>\n      <BreadcrumbItem>\n        {href ? (\n          <BreadcrumbLink asChild className=\"text-link hover:bg-transparent\">\n            <Link href={href}>{label}</Link>\n          </BreadcrumbLink>\n        ) : (\n          <BreadcrumbPage>{label}</BreadcrumbPage>\n        )}\n      </BreadcrumbItem>\n      {key < breadcrumbs.length - 1 && <BreadcrumbSeparator />}\n    </Fragment>\n  ));\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbList>\n        {showHome || hasDashboard || rootRouteResource.found ? (\n          <>\n            <BreadcrumbItem>\n              <BreadcrumbLink\n                href={dashboardResource.list?.toString()}\n                asChild\n                title={dashboardResource?.meta?.title ?? dashboardResource.name ?? 'Dashboard'}\n              >\n                <Link\n                  className=\"hover:bg-transparent\"\n                  href={dashboardResource.list?.toString()}\n                  title={dashboardResource?.meta?.title ?? dashboardResource.name ?? 'Dashboard'}\n                >\n                  {dashboardResource?.meta?.icon ?? <HomeIcon className=\"h-4 w-4\" />}\n                </Link>\n              </BreadcrumbLink>\n            </BreadcrumbItem>\n            <BreadcrumbSeparator />\n          </>\n        ) : null}\n        {BreadCrumbItems}\n      </BreadcrumbList>\n    </Breadcrumb>\n  );\n};\n","import { Loader2, LucideProps } from 'lucide-react';\nimport React from 'react';\n\nimport { cn } from '~/utils';\n\nexport const LoadingIcon = React.forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) => {\n  return <Loader2 ref={ref} className={cn('h-4 w-4 animate-spin', className)} {...props} />;\n});\n\nLoadingIcon.displayName = 'LoadingIcon';\n","import { Slot } from '@radix-ui/react-slot';\nimport type { VariantProps } from 'class-variance-authority';\nimport { cva } from 'class-variance-authority';\nimport { Loader2 } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nimport { LoadingIcon } from './loading';\n\nconst clsOutline = 'border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transition-all ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground shadow-sm hover:bg-primary/90',\n        destructive: 'bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90',\n        outline: clsOutline,\n        dashed: `${clsOutline} border-dashed`,\n        secondary: 'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        sm: 'h-6 px-2 text-xs',\n        default: 'h-8 px-3 text-xs',\n        md: 'h-9 px-4 py-2',\n        lg: 'h-10 px-8',\n        icon: 'h-8 w-8',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n  loading?: boolean;\n  icon?: React.ReactElement<SVGSVGElement>;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, icon = null, loading = false, asChild = false, children, disabled, ...props }, ref) => {\n    disabled = disabled || loading;\n\n    const Icon = React.useMemo(() => {\n      return loading ? <LoadingIcon /> : React.isValidElement(icon) ? icon : null;\n    }, [icon, loading]);\n\n    const Comp = asChild ? Slot : 'button';\n\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }), disabled && 'cursor-not-allowed')}\n        ref={ref}\n        disabled={disabled}\n        {...props}\n      >\n        {size === 'icon' ? (\n          loading ? (\n            <Loader2 />\n          ) : (\n            Icon || children\n          )\n        ) : (\n          <>\n            {Icon}\n            {children}\n          </>\n        )}\n      </Comp>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n","import { useCloneButton } from '@refinedev/core';\nimport { CopyCheck } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nimport { CloneButtonProps } from '../types';\n\nexport const CloneButton: FC<CloneButtonProps> = ({\n  resource,\n  recordItemId,\n  hideText = false,\n  accessControl,\n  meta,\n  onClick,\n  children,\n  ...props\n}) => {\n  const { to, LinkComponent, label, disabled, hidden, title, canAccess } = useCloneButton({\n    id: recordItemId,\n    resource: resource,\n    accessControl: accessControl,\n    meta: meta,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <LinkComponent\n      prefetch=\"intent\"\n      viewTransition\n      className={cn(disabledNew && 'pointer-events-none')}\n      to={to}\n      replace={false}\n      onClick={(e: React.PointerEvent<HTMLButtonElement>) => {\n        if (disabledNew) {\n          e.preventDefault();\n          return;\n        }\n        if (onClick) {\n          e.preventDefault();\n          onClick(e);\n        }\n      }}\n    >\n      <Button disabled={disabledNew} title={title} icon={<CopyCheck />} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </LinkComponent>\n  );\n};\n\nCloneButton.displayName = 'CloneButton';\n","import { useCreateButton } from '@refinedev/core';\nimport { CirclePlus } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nimport { CreateButtonProps } from '../types';\n\nexport const CreateButton: FC<CreateButtonProps> = ({\n  resource,\n  hideText = false,\n  accessControl,\n  meta,\n  onClick,\n  children,\n  ...props\n}) => {\n  const { hidden, disabled, label, title, LinkComponent, to, canAccess } = useCreateButton({\n    resource,\n    accessControl,\n    meta,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <LinkComponent\n      prefetch=\"intent\"\n      viewTransition\n      className={cn(disabledNew && 'pointer-events-none')}\n      to={to}\n      replace={false}\n      onClick={(e: React.PointerEvent<HTMLButtonElement>) => {\n        if (disabledNew) {\n          e.preventDefault();\n          return;\n        }\n        if (onClick) {\n          e.preventDefault();\n          onClick(e);\n        }\n      }}\n    >\n      <Button disabled={disabledNew} title={title} icon={<CirclePlus />} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </LinkComponent>\n  );\n};\n\nCreateButton.displayName = 'CreateButton';\n","import * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80',\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid max-h-[85vh] w-full max-w-xl translate-x-[-50%] translate-y-[-50%] gap-4 overflow-y-scroll border p-6 shadow-lg duration-200 sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n        <X className=\"h-5 w-5\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col space-y-1.5 text-center sm:text-left', className)} {...props} />\n);\nDialogHeader.displayName = 'DialogHeader';\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2', className)} {...props} />\n);\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn('text-lg leading-none font-semibold tracking-tight', className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn('text-muted-foreground text-sm', className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","import { type DialogProps } from '@radix-ui/react-dialog';\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Search } from 'lucide-react';\nimport * as React from 'react';\n\nimport { Dialog, DialogContent } from '~/components-shadcn/dialog';\nimport { cn } from '~/utils';\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      'bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md',\n      className\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  // eslint-disable-next-line react/no-unknown-property\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        'placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50',\n        className\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn('max-h-[300px] overflow-x-hidden overflow-y-auto', className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      'text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium',\n      className\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn('bg-border -mx-1 h-px', className)} {...props} />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      'data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n      className\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn('text-muted-foreground ml-auto text-xs tracking-widest', className)} {...props} />;\n};\nCommandShortcut.displayName = 'CommandShortcut';\n\nexport {\n  Command,\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n  CommandShortcut,\n};\n","import * as LabelPrimitive from '@radix-ui/react-label';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer'\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\n\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n","// import { cn } from '~/utils';\n\n// const FormItem = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => {\n//   return <div className={cn('space-y-2', className)} {...props} />;\n// };\n// FormItem.displayName = 'FormItem';\n\n// const FormDescription = ({ className, ...props }: React.HTMLAttributes<HTMLParagraphElement>) => {\n//   return <p className={cn('text-[0.8rem] text-muted-foreground', className)} {...props} />;\n// };\n// FormDescription.displayName = 'FormDescription';\n\n// const FormMessage = ({ className, children, ...props }: React.HTMLAttributes<HTMLParagraphElement>) => {\n//   return (\n//     <p className={cn('text-[0.8rem] font-medium text-destructive', className)} {...props}>\n//       {children}\n//     </p>\n//   );\n// };\n// FormMessage.displayName = 'FormMessage';\n\n// export { FormItem, FormDescription, FormMessage };\n\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { Slot } from '@radix-ui/react-slot';\nimport * as React from 'react';\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from 'react-hook-form';\n\nimport { cn } from '~/utils';\n\nimport { Label } from './label';\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>');\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn('space-y-2', className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  }\n);\nFormItem.displayName = 'FormItem';\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & { className?: string }\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && '', className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = 'FormLabel';\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  }\n);\nFormControl.displayName = 'FormControl';\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return (\n      <p ref={ref} id={formDescriptionId} className={cn('text-muted-foreground text-[0.8rem]', className)} {...props} />\n    );\n  }\n);\nFormDescription.displayName = 'FormDescription';\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p\n        ref={ref}\n        id={formMessageId}\n        className={cn('text-destructive text-[0.8rem] font-medium', className)}\n        {...props}\n      >\n        {body}\n      </p>\n    );\n  }\n);\nFormMessage.displayName = 'FormMessage';\n\nexport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage, useFormField };\n","import * as PopoverPrimitive from '@radix-ui/react-popover';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverAnchor = PopoverPrimitive.Anchor;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content> & { className?: string }\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden',\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverAnchor, PopoverContent, PopoverTrigger };\n","import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root ref={ref} className={cn('relative overflow-hidden', className)} {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">{children}</ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = 'vertical', ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      'flex touch-none transition-colors select-none',\n      orientation === 'vertical' && 'h-full w-2.5 border-l border-l-transparent p-[1px]',\n      orientation === 'horizontal' && 'h-2.5 flex-col border-t border-t-transparent p-[1px]',\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"bg-border relative flex-1 rounded-full\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nexport { ScrollArea, ScrollBar };\n","import { CaretSortIcon, CheckIcon } from '@radix-ui/react-icons';\nimport { PopoverTrigger } from '@radix-ui/react-popover';\nimport { BaseOption, BaseRecord, UseSelectReturnType } from '@refinedev/core';\nimport { ComponentPropsWithoutRef, type ElementRef, forwardRef, useState } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '~/components-shadcn/command';\nimport { FormControl } from '~/components-shadcn/form';\nimport { Popover, PopoverContent } from '~/components-shadcn/popover';\nimport { ScrollArea } from '~/components-shadcn/scroll-area';\nimport { TAny } from '~/types';\nimport { cn } from '~/utils';\n\ntype ComboboxProps = ComponentPropsWithoutRef<typeof Command> &\n  Pick<UseSelectReturnType<BaseOption, TAny>, 'options'> & {\n    placeholder?: string;\n    emptyMessage?: string;\n    onChange?: (value: string | number) => void;\n    value?: string | number | BaseRecord;\n    disabled?: boolean;\n    popoverProps?: { modal?: boolean };\n  };\n\nexport const Combobox = forwardRef<ElementRef<typeof Command>, ComboboxProps>(({ popoverProps, ...props }, ref) => {\n  const [open, setOpen] = useState(false);\n\n  const value = () => {\n    if (typeof props.value === 'object' && 'id' in props.value) {\n      return (props.value as BaseRecord).id;\n    }\n\n    return props.value;\n  };\n\n  return (\n    <Popover open={open} onOpenChange={setOpen} {...popoverProps}>\n      <PopoverTrigger asChild>\n        <FormControl>\n          <Button\n            disabled={props.disabled}\n            variant=\"outline\"\n            role=\"combobox\"\n            aria-expanded={open}\n            className={cn('flex w-full justify-between sm:w-[500px]', !value() && 'text-muted-foreground')}\n          >\n            {value()\n              ? props.options?.find((option) => option.value === value())?.label\n              : (props.placeholder ?? 'Select')}\n            <CaretSortIcon className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n          </Button>\n        </FormControl>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-full max-w-full p-0 sm:w-[400px]\">\n        <Command className=\"rounded-lg border shadow-md\" ref={ref}>\n          <CommandInput placeholder=\"Type a command or search...\" />\n          <CommandList>\n            <CommandEmpty>No results found.</CommandEmpty>\n            <CommandGroup heading=\"Suggestions\">\n              <ScrollArea className=\"max-h-52 overflow-y-auto\">\n                {props.options?.map((option) => (\n                  <CommandItem\n                    value={option.label}\n                    key={option.value}\n                    onSelect={() => {\n                      props.onChange?.(option.value);\n                      setOpen(false);\n                    }}\n                  >\n                    {option.label}\n                    <CheckIcon\n                      className={cn('ml-auto h-4 w-4', option.value === value() ? 'opacity-100' : 'opacity-0')}\n                    />\n                  </CommandItem>\n                ))}\n              </ScrollArea>\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n});\n\nCombobox.displayName = 'Combobox';\n","import * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog';\nimport { VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nimport { buttonVariants } from './button';\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay> & { className?: string }\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80',\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content> & { className?: string }\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed top-[5%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg dark:border-white/20 dark:bg-slate-950',\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col space-y-2 text-center sm:text-left', className)} {...props} />\n);\nAlertDialogHeader.displayName = 'AlertDialogHeader';\n\nconst AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2', className)} {...props} />\n);\nAlertDialogFooter.displayName = 'AlertDialogFooter';\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title> & { className?: string }\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn('text-lg font-semibold', className)} {...props} />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description> & { className?: string }\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description ref={ref} className={cn('text-muted-foreground text-sm', className)} {...props} />\n));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action> & VariantProps<typeof buttonVariants>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action> & VariantProps<typeof buttonVariants>\n>(({ className, variant = 'default', size = 'default', ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    autoFocus\n    className={cn(\n      buttonVariants({\n        variant,\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel> & VariantProps<typeof buttonVariants>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel> & VariantProps<typeof buttonVariants>\n>(({ className, variant = 'outline', size = 'default', ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant, size }), 'mt-2 sm:mt-0', className)}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n};\n","import { CheckIcon, XIcon } from 'lucide-react';\nimport { FC, isValidElement, useMemo } from 'react';\n\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '~/components-shadcn/alert-dialog';\nimport { LoadingIcon } from '~/components-shadcn/loading';\n\nimport type { ConfirmDialogProps } from '../types';\n\nexport const ConfirmDialog: FC<ConfirmDialogProps> = ({\n  children,\n  title = 'Are you sure?',\n  description = 'This action cannot be undone.',\n  okText = 'Ok',\n  cancelText = 'Cancel',\n  okButtonSize = 'default',\n  cancelButtonSize = 'default',\n  okButtonVariant = 'default',\n  cancelButtonVariant = 'outline',\n  loading = false,\n  okIconSide = 'left',\n  cancelIconSide = 'left',\n  onConfirm,\n  okIcon,\n  cancelIcon,\n  open,\n  onOpenChange,\n  defaultOpen,\n}) => {\n  const CancelIcon = useMemo(() => {\n    if (isValidElement(cancelIcon)) {\n      return cancelIcon;\n    }\n\n    return <XIcon />;\n  }, [cancelIcon]);\n\n  const OkIcon = useMemo(() => {\n    if (loading) {\n      return <LoadingIcon />;\n    }\n    if (isValidElement(okIcon)) {\n      return okIcon;\n    }\n\n    return <CheckIcon />;\n  }, [okIcon, loading]);\n\n  return (\n    <AlertDialog open={open} onOpenChange={onOpenChange} defaultOpen={defaultOpen}>\n      <AlertDialogTrigger asChild>{children}</AlertDialogTrigger>\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle>{title}</AlertDialogTitle>\n          <AlertDialogDescription>{description}</AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel variant={cancelButtonVariant} size={cancelButtonSize} disabled={loading}>\n            {cancelIconSide === 'left' && CancelIcon}\n            {cancelText}\n            {cancelIconSide === 'right' && CancelIcon}\n          </AlertDialogCancel>\n          <AlertDialogAction variant={okButtonVariant} size={okButtonSize} disabled={loading} onClick={onConfirm}>\n            {okIconSide === 'left' && OkIcon}\n            {okText}\n            {okIconSide === 'right' && OkIcon}\n          </AlertDialogAction>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n};\n\nConfirmDialog.displayName = 'ConfirmDialog';\n","/* eslint-disable react/prop-types */\nimport { cloneElement, ReactElement } from 'react';\nimport { ControllerRenderProps, FieldPath, FieldValues, UseControllerProps } from 'react-hook-form';\n\nimport { FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from '~/components-shadcn/form';\nimport { TAny } from '~/types';\nimport { cn } from '~/utils';\n\nexport type FieldProps<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = UseControllerProps<TFieldValues, TName> & {\n  label?: string;\n  description?: string;\n  className?: string;\n  isCheckbox?: boolean;\n  children: ReactElement<{\n    field: ControllerRenderProps<TFieldValues, TName>;\n  }>;\n};\n\nexport const Field = (props: FieldProps) => {\n  return (\n    <FormField\n      control={props.control}\n      name={props.name}\n      render={({ field }: { field: TAny }) => {\n        return (\n          <FormItem\n            className={cn(props.className, props.isCheckbox ? 'flex flex-row items-center space-y-0 space-x-3' : '')}\n          >\n            {!props.isCheckbox && <FormLabel>{props.label}</FormLabel>}\n            <FormControl>\n              {cloneElement(props.children, {\n                ...field,\n                ...props.children.props,\n              })}\n            </FormControl>\n            {props.isCheckbox && <FormLabel className=\"text-sm font-normal\">{props.label}</FormLabel>}\n            {props.description && <FormDescription>{props.description}</FormDescription>}\n            <FormMessage />\n          </FormItem>\n        );\n      }}\n    />\n  );\n};\n","import * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('bg-card text-card-foreground rounded-xl border shadow-sm', className)} {...props} />\n));\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('flex flex-col space-y-1.5 p-6', className)} {...props} />\n  )\n);\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('leading-none font-semibold tracking-tight', className)} {...props} />\n  )\n);\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('text-muted-foreground text-sm', className)} {...props} />\n  )\n);\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n);\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn('flex items-center p-6 pt-0', className)} {...props} />\n);\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle };\n","import { type BaseRecord, type HttpError, useBack, useParsed } from '@refinedev/core';\nimport type { UseFormReturnType } from '@refinedev/react-hook-form';\nimport { Undo2 } from 'lucide-react';\nimport { type DetailedHTMLProps, type FormHTMLAttributes, type PropsWithChildren, useRef } from 'react';\nimport { type FieldValues } from 'react-hook-form';\n\nimport { AutoSaveIndicator } from '~/component-refine';\nimport { Button } from '~/components-shadcn/button';\nimport { Card, CardContent, CardFooter } from '~/components-shadcn/card';\nimport { Form as FormUI } from '~/components-shadcn/form';\nimport { EnumAction } from '~/constants';\nimport { TAny } from '~/types';\nimport { cn } from '~/utils';\n\nimport { SaveButton } from '../buttons';\n\ntype NativeFormProps = Omit<DetailedHTMLProps<FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>, 'onSubmit'>;\n\nexport type FormProps<\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables extends FieldValues = FieldValues,\n  TContext extends object = Record<string, unknown>,\n  TData extends BaseRecord = TQueryFnData,\n  TResponse extends BaseRecord = TData,\n  TResponseError extends HttpError = TError,\n> = PropsWithChildren &\n  UseFormReturnType<TQueryFnData, TError, TVariables, TContext, TData, TResponse, TResponseError> & {\n    formProps?: NativeFormProps;\n    isWatchable?: boolean;\n    hideCancel?: boolean;\n    autoSave?: boolean;\n    modifyingDataBeforeSubmission?: (values: TAny) => TAny;\n    className?: string;\n    formModalClose?: () => void;\n    recordItemId?: string;\n  };\n\nexport const Form = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables extends FieldValues = FieldValues,\n  TContext extends object = Record<string, unknown>,\n  TData extends BaseRecord = TQueryFnData,\n  TResponse extends BaseRecord = TData,\n  TResponseError extends HttpError = TError,\n>({\n  autoSave,\n  modifyingDataBeforeSubmission,\n  formProps,\n  isWatchable,\n  saveButtonProps,\n  className,\n  formModalClose,\n  recordItemId,\n  ...props\n}: FormProps<TQueryFnData, TError, TVariables, TContext, TData, TResponse, TResponseError>) => {\n  const watchable = useRef<boolean>(false);\n  const { resource: _resource, action } = useParsed();\n  const back = useBack();\n\n  const onBack = action !== EnumAction.list || typeof action !== 'undefined' ? back : undefined;\n\n  if (isWatchable && !watchable.current) {\n    watchable.current = true;\n    props.watch();\n  }\n\n  const onSubmit = props.handleSubmit((_data: TVariables) => {\n    const values = props.getValues();\n    const data = modifyingDataBeforeSubmission ? modifyingDataBeforeSubmission(values) : values;\n    props.refineCore.onFinish(data);\n\n    formModalClose?.();\n  });\n\n  const { disabled } = saveButtonProps || {};\n  return (\n    <FormUI {...props}>\n      <form {...formProps} onSubmit={onSubmit}>\n        <Card className={cn('mx-auto space-y-4 border-none p-8 shadow-none', className)}>\n          <CardContent className=\"space-y-4 p-0\">{props.children}</CardContent>\n\n          <CardFooter className=\"flex gap-x-2 p-0\">\n            <SaveButton\n              type=\"submit\"\n              recordItemId={recordItemId}\n              loading={props.refineCore.formLoading}\n              disabled={disabled || !props.formState.isDirty}\n            />\n\n            {!props.hideCancel && (\n              <Button\n                icon={<Undo2 />}\n                type=\"button\"\n                onClick={formModalClose || onBack}\n                disabled={props.refineCore.formLoading}\n                variant=\"outline\"\n              >\n                Cancel\n              </Button>\n            )}\n\n            {autoSave && (\n              <div className=\"ml-auto\">\n                <AutoSaveIndicator {...props.refineCore.autoSaveProps} />\n              </div>\n            )}\n          </CardFooter>\n        </Card>\n      </form>\n    </FormUI>\n  );\n};\n","import React, { forwardRef } from 'react';\n\nimport { cn } from '~/utils';\n\nexport const Loader = forwardRef<SVGSVGElement, React.SVGProps<SVGSVGElement> & { className?: string }>(\n  ({ className, ...props }, ref) => {\n    return (\n      <svg\n        ref={ref}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={cn('mx-auto inline', className)}\n        viewBox=\"0 0 120 30\"\n        fill=\"currentColor\"\n        {...props}\n      >\n        <circle cx=\"15\" cy=\"15\" r=\"15\">\n          <animate\n            attributeName=\"r\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"15\"\n            repeatCount=\"indefinite\"\n            to=\"15\"\n            values=\"15;9;15\"\n          ></animate>\n          <animate\n            attributeName=\"fill-opacity\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"1\"\n            repeatCount=\"indefinite\"\n            to=\"1\"\n            values=\"1;.5;1\"\n          ></animate>\n        </circle>\n        <circle cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\">\n          <animate\n            attributeName=\"r\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"9\"\n            repeatCount=\"indefinite\"\n            to=\"9\"\n            values=\"9;15;9\"\n          ></animate>\n          <animate\n            attributeName=\"fill-opacity\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"0.5\"\n            repeatCount=\"indefinite\"\n            to=\"0.5\"\n            values=\".5;1;.5\"\n          ></animate>\n        </circle>\n        <circle cx=\"105\" cy=\"15\" r=\"15\">\n          <animate\n            attributeName=\"r\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"15\"\n            repeatCount=\"indefinite\"\n            to=\"15\"\n            values=\"15;9;15\"\n          ></animate>\n          <animate\n            attributeName=\"fill-opacity\"\n            begin=\"0s\"\n            calcMode=\"linear\"\n            dur=\"0.8s\"\n            from=\"1\"\n            repeatCount=\"indefinite\"\n            to=\"1\"\n            values=\"1;.5;1\"\n          ></animate>\n        </circle>\n      </svg>\n    );\n  }\n);\n\nLoader.displayName = 'Loader';\n","import * as SelectPrimitive from '@radix-ui/react-select';\nimport { Check, ChevronDown, ChevronUp } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'border-input ring-offset-background placeholder:text-muted-foreground focus:ring-ring flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs focus:ring-1 focus:outline-hidden disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn('flex cursor-default items-center justify-center py-1', className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn('flex cursor-default items-center justify-center py-1', className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = 'popper', ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md',\n        position === 'popper' &&\n          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          'p-1',\n          position === 'popper' &&\n            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]'\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn('px-2 py-1.5 text-sm font-semibold', className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      'focus:bg-accent focus:text-accent-foreground relative flex w-full cursor-default items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50',\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn('bg-muted -mx-1 my-1 h-px', className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n};\n","import type { Content as SelectContentType, SelectProps as SelectCoreProps } from '@radix-ui/react-select';\nimport { BaseOption } from '@refinedev/core';\nimport React, { forwardRef } from 'react';\n\nimport { FormControl } from '~/components-shadcn/form';\nimport { SelectContent, SelectItem, SelectTrigger, Select as SelectUI, SelectValue } from '~/components-shadcn/select';\n\ntype SelectProps = SelectCoreProps & {\n  placeholder?: string;\n  emptyMessage?: string;\n  onChange?: (value: string) => void;\n  options?: BaseOption[];\n};\n\nexport const Select = forwardRef<React.ElementRef<typeof SelectContentType>, SelectProps>(({ ...props }, ref) => {\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  return (\n    <SelectUI\n      disabled={props.disabled || props.options?.length === 0}\n      onValueChange={props.onChange}\n      defaultValue={props.value}\n      value={props.value}\n    >\n      <FormControl>\n        <SelectTrigger ref={triggerRef} className=\"sm:w-[500px]\">\n          <SelectValue placeholder={props.placeholder ?? 'Select'} />\n        </SelectTrigger>\n      </FormControl>\n      <SelectContent\n        style={{\n          width: triggerRef.current?.offsetWidth,\n        }}\n        ref={ref}\n      >\n        {props.options?.map((option, key: number) => (\n          <SelectItem key={key} value={option.value}>\n            {option.label}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </SelectUI>\n  );\n});\n\nSelect.displayName = 'Select';\n","import { useBack, useDeleteButton } from '@refinedev/core';\nimport { Trash2Icon } from 'lucide-react';\nimport { type FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\n\nimport { ConfirmDialog } from '../components';\nimport { DeleteButtonProps } from '../types';\n\nexport const DeleteButton: FC<DeleteButtonProps> = ({\n  resource,\n  recordItemId,\n  onSuccess,\n  mutationMode: mutationModeProp,\n  confirmTitle,\n  confirmDescription,\n  successNotification,\n  errorNotification,\n  hideText = false,\n  accessControl,\n  meta,\n  dataProviderName,\n  confirmOkText,\n  confirmCancelText,\n  invalidates,\n  children,\n  ...props\n}) => {\n  const back = useBack();\n\n  const defaultOnSuccess = () => {\n    setTimeout(() => {\n      back();\n    }, 300);\n  };\n\n  const {\n    title,\n    label,\n    hidden,\n    disabled,\n    loading,\n    confirmTitle: defaultConfirmTitle,\n    confirmOkLabel: defaultConfirmOkLabel,\n    cancelLabel: defaultCancelLabel,\n    onConfirm,\n    canAccess,\n  } = useDeleteButton({\n    resource,\n    id: recordItemId,\n    dataProviderName,\n    invalidates,\n    meta,\n    onSuccess: onSuccess || defaultOnSuccess,\n    mutationMode: mutationModeProp,\n    errorNotification,\n    successNotification,\n    accessControl,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <ConfirmDialog\n      okText={confirmOkText ?? defaultConfirmOkLabel}\n      cancelText={confirmCancelText ?? defaultCancelLabel}\n      okButtonVariant={'destructive'}\n      cancelButtonVariant={'outline'}\n      title={confirmTitle ?? defaultConfirmTitle}\n      description={confirmDescription}\n      loading={loading}\n      onConfirm={onConfirm}\n    >\n      <Button\n        variant=\"destructive\"\n        disabled={disabledNew}\n        title={title}\n        loading={loading}\n        icon={<Trash2Icon />}\n        {...props}\n      >\n        {!hideText && (children ?? label)}\n      </Button>\n    </ConfirmDialog>\n  );\n};\n\nDeleteButton.displayName = 'DeleteButton';\n","import { useEditButton } from '@refinedev/core';\nimport { Pencil } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nimport { EditButtonProps } from '../types';\n\nexport const EditButton: FC<EditButtonProps> = ({\n  resource,\n  recordItemId,\n  hideText = false,\n  accessControl,\n  meta,\n  onClick,\n  children,\n  ...props\n}) => {\n  const { hidden, disabled, label, title, LinkComponent, to, canAccess } = useEditButton({\n    resource,\n    id: recordItemId,\n    accessControl,\n    meta,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <LinkComponent\n      prefetch=\"intent\"\n      viewTransition\n      className={cn(disabledNew && 'pointer-events-none')}\n      to={to}\n      replace={false}\n      onClick={(e: React.PointerEvent<HTMLButtonElement>) => {\n        if (disabledNew) {\n          e.preventDefault();\n          return;\n        }\n        if (onClick) {\n          e.preventDefault();\n          onClick(e);\n        }\n      }}\n    >\n      <Button disabled={disabledNew} title={title} icon={<Pencil />} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </LinkComponent>\n  );\n};\n\nEditButton.displayName = 'EditButton';\n","import { useCan, useExport, useExportButton } from '@refinedev/core';\nimport { Download } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button, ButtonProps } from '~/components-shadcn/button';\nimport { EnumAction } from '~/constants';\n\nexport const ExportButton: FC<ButtonProps> = ({ children, ...props }) => {\n  const { label } = useExportButton();\n  const { triggerExport } = useExport();\n  const { data: canAccess } = useCan({ action: EnumAction.export });\n\n  const disabled = !canAccess?.can;\n  return (\n    <Button icon={<Download />} onClick={triggerExport} disabled={disabled} {...props}>\n      {label}\n    </Button>\n  );\n};\n\nExportButton.displayName = 'ExportButton';\n","import { useCan, useImport, useImportButton } from '@refinedev/core';\nimport { Upload } from 'lucide-react';\nimport type { ChangeEvent, FC } from 'react';\n\nimport { Button, ButtonProps } from '~/components-shadcn/button';\nimport { EnumAction } from '~/constants';\n\nexport const ImportButton: FC<ButtonProps> = (props) => {\n  const { inputProps } = useImport({\n    onFinish: (data) => {\n      console.log(data);\n    },\n  });\n  const { label } = useImportButton();\n  const { data: canAccess } = useCan({ action: EnumAction.import });\n\n  const onClick = () => {\n    const el = document.createElement('input');\n    el.type = inputProps.type;\n    el.accept = inputProps.accept;\n    el.onchange = (e) => {\n      inputProps.onChange(e as unknown as ChangeEvent<HTMLInputElement>);\n      el.remove();\n    };\n    el.click();\n  };\n\n  const disabled = !canAccess?.can;\n  return (\n    <Button\n      icon={<Upload />}\n      disabled={disabled}\n      {...props}\n      onClick={(e) => {\n        if (disabled) {\n          e.preventDefault();\n          return;\n        }\n\n        onClick();\n      }}\n    >\n      {label}\n    </Button>\n  );\n};\n\nImportButton.displayName = 'ImportButton';\n","import { Slot } from '@radix-ui/react-slot';\nimport { CanAccess, useSaveButton } from '@refinedev/core';\nimport { CheckCheck } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\n\nimport { SaveButtonProps } from '../types';\n\nexport const SaveButton: FC<SaveButtonProps> = ({\n  hideText = false,\n  children,\n  accessControl,\n  access,\n  resource,\n  recordItemId,\n  ...props\n}) => {\n  const { label } = useSaveButton();\n  const Com = !accessControl?.enabled ? Slot : CanAccess;\n\n  if (accessControl?.hideIfUnauthorized && accessControl.enabled) {\n    return null;\n  }\n\n  return (\n    <Com\n      params={{\n        id: recordItemId,\n      }}\n      resource={resource}\n      action=\"save\"\n      {...access}\n    >\n      <Button icon={<CheckCheck />} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </Com>\n  );\n};\n\nSaveButton.displayName = 'SaveButton';\n","import { useShowButton } from '@refinedev/core';\nimport { EyeIcon } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nimport { ShowButtonProps } from '../types';\n\nexport const ShowButton: FC<ShowButtonProps> = ({\n  resource: resourceNameFromProps,\n  recordItemId,\n  hideText = false,\n  accessControl,\n  meta,\n  children,\n  onClick,\n  ...props\n}) => {\n  const { to, label, title, hidden, disabled, LinkComponent, canAccess } = useShowButton({\n    resource: resourceNameFromProps,\n    id: recordItemId,\n    accessControl,\n    meta,\n  });\n\n  if (hidden) return null;\n\n  const disabledNew = disabled || !canAccess?.can;\n  return (\n    <LinkComponent\n      prefetch=\"intent\"\n      viewTransition\n      className={cn('visited:text-blue-700!', disabledNew && 'pointer-events-none')}\n      to={to}\n      replace={false}\n      onClick={(e: React.PointerEvent<HTMLButtonElement>) => {\n        if (disabledNew) {\n          e.preventDefault();\n          return;\n        }\n        if (onClick) {\n          e.preventDefault();\n          onClick(e);\n        }\n      }}\n    >\n      <Button icon={!props.asChild ? <EyeIcon /> : undefined} title={title} disabled={disabledNew} {...props}>\n        {!hideText && (children ?? label)}\n      </Button>\n    </LinkComponent>\n  );\n};\n\nShowButton.displayName = 'ShowButton';\n","import { useBack } from '@refinedev/core';\nimport { ArrowLeftToLine } from 'lucide-react';\nimport type { FC } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\n\nimport { ShowButtonProps } from '../types';\n\nexport const BackButton: FC<ShowButtonProps> = ({ ...props }) => {\n  const back = useBack();\n\n  return (\n    <Button icon={<ArrowLeftToLine />} onClick={() => back()} {...props}>\n      Go Back\n    </Button>\n  );\n};\n\nBackButton.displayName = 'BackButton';\n","import type { ActionId, ActionImpl } from 'kbar';\nimport React from 'react';\n\ninterface IResultITemProps {\n  action: ActionImpl;\n  active: boolean;\n  currentRootActionId: ActionId;\n}\nexport const ResultItem = React.forwardRef<HTMLDivElement, IResultITemProps>(\n  ({ action, active, currentRootActionId }, ref) => {\n    const ancestors = React.useMemo(() => {\n      if (!currentRootActionId) return action.ancestors;\n      const index = action.ancestors.findIndex((ancestor) => ancestor.id === currentRootActionId);\n      return action.ancestors.slice(index + 1);\n    }, [action.ancestors, currentRootActionId]);\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          padding: '12px 16px',\n          background: active ? 'rgba(0 0 0 / 0.05)' : 'transparent',\n          borderLeft: `2px solid ${active ? 'rgb(28 28 29)' : 'transparent'}`,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          cursor: 'pointer',\n        }}\n      >\n        <div\n          style={{\n            display: 'flex',\n            gap: '8px',\n            alignItems: 'center',\n            fontSize: 14,\n          }}\n        >\n          {action.icon && action.icon}\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <div>\n              {ancestors.length > 0 &&\n                ancestors.map((ancestor) => (\n                  <React.Fragment key={ancestor.id}>\n                    <span\n                      style={{\n                        opacity: 0.5,\n                        marginRight: 8,\n                      }}\n                    >\n                      {ancestor.name}\n                    </span>\n                    <span\n                      style={{\n                        marginRight: 8,\n                      }}\n                    >\n                      &rsaquo;\n                    </span>\n                  </React.Fragment>\n                ))}\n              <span\n                style={{\n                  color: action.name.toLocaleUpperCase() === 'DELETE' ? 'red' : 'black',\n                }}\n              >\n                {action.name}\n              </span>\n            </div>\n            {action.subtitle && <span style={{ fontSize: 12 }}>{action.subtitle}</span>}\n          </div>\n        </div>\n        {action.shortcut?.length ? (\n          <div\n            aria-hidden\n            style={{\n              display: 'grid',\n              gridAutoFlow: 'column',\n              gap: '4px',\n            }}\n          >\n            {action.shortcut.map((sc) => (\n              <kbd\n                key={sc}\n                style={{\n                  padding: '4px 6px',\n                  background: 'rgba(0 0 0 / .1)',\n                  borderRadius: '4px',\n                  fontSize: 14,\n                }}\n              >\n                {sc}\n              </kbd>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\n\nResultItem.displayName = 'ResultItem';\n","import { type ActionId, KBarResults, useMatches } from 'kbar';\nimport React from 'react';\n\nimport { ResultItem } from '../resultItem';\n\nconst groupNameStyle = {\n  padding: '8px 16px',\n  fontSize: '14px',\n  textTransform: 'uppercase' as const,\n  fontWeight: 'bold',\n  opacity: 0.5,\n};\nexport const RenderResults: React.FC = () => {\n  const { results, rootActionId } = useMatches();\n\n  return (\n    <KBarResults\n      items={results}\n      onRender={({ item, active }) => {\n        return typeof item === 'string' ? (\n          <div style={groupNameStyle}>{item}</div>\n        ) : (\n          <ResultItem action={item} active={active} currentRootActionId={rootActionId as ActionId} />\n        );\n      }}\n    />\n  );\n};\n","import { KBarAnimator, KBarPortal, KBarPositioner, KBarSearch } from 'kbar';\nimport React from 'react';\n\nimport { RenderResults } from '../renderResults';\n\nexport const CommandBar: React.FC = () => {\n  const searchStyle = {\n    padding: '12px 16px',\n    fontSize: '16px',\n    width: '100%',\n    boxSizing: 'border-box' as React.CSSProperties['boxSizing'],\n    outline: 'none',\n    border: 'none',\n    background: 'rgb(252 252 252)',\n    color: 'black',\n  };\n\n  const animatorStyle = {\n    maxWidth: '600px',\n    width: '100%',\n    background: 'white',\n    color: 'black',\n    borderRadius: '8px',\n    overflow: 'hidden',\n    boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\n  };\n\n  const positionerStyle = {\n    opacity: 1,\n    transition: 'background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s',\n    backdropFilter: 'saturate(180%) blur(1px)',\n    background: 'rgba(0, 0, 0, 0.1)',\n    zIndex: '9999',\n  };\n\n  return (\n    <KBarPortal>\n      <KBarPositioner style={positionerStyle}>\n        <KBarAnimator style={animatorStyle}>\n          <KBarSearch style={searchStyle} />\n          <RenderResults />\n        </KBarAnimator>\n      </KBarPositioner>\n    </KBarPortal>\n  );\n};\n","// Capitalize first letter of each word\nexport const capitalize = (str: string): string =>\n  str.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase());\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  type IResourceItem,\n  useCanWithoutCache,\n  useDelete,\n  useGetToPath,\n  useGo,\n  useNavigation,\n  useResource,\n  useRouterType,\n  useTranslate,\n  useUserFriendlyName,\n} from '@refinedev/core';\nimport { type Action, createAction, KBarContext, useRegisterActions, VisualState } from 'kbar';\nimport { CirclePlus, EyeIcon, ListIcon, Pencil, Trash2Icon } from 'lucide-react';\nimport { useContext, useEffect, useState } from 'react';\n\nimport { capitalize } from '../../definitions/capitalize';\n\nenum RefineKbarActionType {\n  List = 'list',\n  Create = 'create',\n  Show = 'show',\n  Edit = 'edit',\n  Delete = 'delete',\n}\n\nexport const useRefineKbar = (): void => {\n  const t = useTranslate();\n  const { resource: resourceFromParams, resources, id: idFromParams, action: actionFromParams } = useResource();\n  const routerType = useRouterType();\n  const getToPath = useGetToPath();\n  const go = useGo();\n  const { mutate } = useDelete();\n  const { push, list: _goToList, create: _goToCreate, show: _goToShow, edit: _goToEdit } = useNavigation();\n  const getUserFriendlyName = useUserFriendlyName();\n\n  const kbarContext = useContext(KBarContext);\n\n  const { can } = useCanWithoutCache();\n\n  const [actions, setActions] = useState<Action[]>([]);\n\n  useEffect(() => {\n    const preaparedActions = async () => {\n      return await Promise.all(\n        moveActionToFirst().flatMap((resource) => {\n          return createActionWithResource(resource);\n        })\n      );\n    };\n\n    preaparedActions().then((actions) => {\n      return setActions(actions.flatMap((action) => action));\n    });\n  }, [resources, idFromParams, resourceFromParams, actionFromParams]);\n\n  useEffect(() => {\n    if (actions.length === 0) {\n      kbarContext.query.setVisualState(VisualState.hidden);\n    }\n  }, [actions]);\n\n  const moveActionToFirst = (): IResourceItem[] => {\n    const orderedResources = [...resources];\n    const fromIndex = orderedResources?.findIndex(\n      (resource) =>\n        (resource.identifier ?? resource?.name) === (resourceFromParams?.identifier ?? resourceFromParams?.name)\n    );\n\n    if (fromIndex > 0) {\n      const element = orderedResources[fromIndex];\n      orderedResources.splice(fromIndex, 1);\n      orderedResources.splice(0, 0, element);\n    }\n\n    return orderedResources;\n  };\n\n  const createActionWithResource = async (resource: IResourceItem) => {\n    const {\n      name,\n      label: deprecatedLabel,\n      list,\n      create,\n      canCreate,\n      canEdit,\n      canShow,\n      icon: deprecatedIcon,\n      show,\n      canDelete: deprecatedCanDelete,\n      edit,\n    } = resource;\n\n    const label = resource?.meta?.label ?? resource?.options?.label ?? deprecatedLabel;\n\n    const icon = resource?.meta?.icon ?? resource?.options?.icon ?? deprecatedIcon;\n\n    const canDelete = resource?.meta?.canDelete ?? resource?.options?.canDelete ?? deprecatedCanDelete;\n\n    const section = label ?? t(`${resource.name}.${resource.name}`, getUserFriendlyName(resource.name, 'plural'));\n    const tempActions: Action[] = [];\n\n    if (\n      list &&\n      ((resourceFromParams !== undefined && resourceFromParams?.name !== name) ||\n        (actionFromParams !== undefined && resourceFromParams?.name === name))\n    ) {\n      const { can: canList } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.List,\n        params: { id: idFromParams, resource },\n      })) || { can: true };\n      if (canList) {\n        tempActions.push(\n          createAction({\n            name: t('actions.list', capitalize(RefineKbarActionType.List)),\n            section,\n            icon: icon || <ListIcon size={16} />,\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: 'list',\n                legacy: routerType === 'legacy',\n              });\n\n              if (p) {\n                if (routerType === 'legacy') {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          })\n        );\n      }\n    }\n    if (\n      (canCreate || !!create) &&\n      create &&\n      (RefineKbarActionType.Create !== actionFromParams || resourceFromParams?.name !== name)\n    ) {\n      const { can: canAccessCreate } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.Create,\n        params: { resource },\n      })) || { can: true };\n\n      if (canAccessCreate) {\n        tempActions.push(\n          createAction({\n            name: t('actions.create', capitalize(RefineKbarActionType.Create)),\n            section,\n            icon: icon || <CirclePlus size={16} />,\n            keywords: 'new',\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: 'create',\n                legacy: routerType === 'legacy',\n              });\n\n              if (p) {\n                if (routerType === 'legacy') {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          })\n        );\n      }\n    }\n\n    if (resourceFromParams?.name === name && idFromParams) {\n      if ((canShow || !!show) && show && RefineKbarActionType.Show !== actionFromParams) {\n        const { can: canAccessShow } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Show,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n\n        if (canAccessShow) {\n          tempActions.push(\n            createAction({\n              name: t('actions.show', capitalize(RefineKbarActionType.Show)),\n              section,\n              icon: icon || <EyeIcon size={16} />,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: 'show',\n                  legacy: routerType === 'legacy',\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === 'legacy') {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            })\n          );\n        }\n      }\n      if ((canEdit || !!edit) && edit && RefineKbarActionType.Edit !== actionFromParams) {\n        const { can: canAccessEdit } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Edit,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessEdit) {\n          tempActions.push(\n            createAction({\n              name: t('actions.edit', capitalize(RefineKbarActionType.Edit)),\n              section,\n              icon: icon || <Pencil size={16} />,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: 'edit',\n                  legacy: routerType === 'legacy',\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === 'legacy') {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            })\n          );\n        }\n      }\n      if (canDelete) {\n        const { can: canAccessDelete } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Delete,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessDelete) {\n          tempActions.push(\n            {\n              id: 'delete',\n              name: t('actions.delete', capitalize(RefineKbarActionType.Delete)),\n              section,\n              icon: icon || <Trash2Icon size={16} />,\n            },\n            createAction({\n              name: t('buttons.delete', capitalize(RefineKbarActionType.Delete)),\n              section: t('buttons.confirm', 'Are you sure?'),\n              parent: 'delete',\n              perform: () => {\n                mutate(\n                  {\n                    resource: resource.name,\n                    id: idFromParams,\n                  },\n                  {\n                    onSuccess: () => {\n                      const p = getToPath({\n                        resource,\n                        action: 'list',\n                        legacy: routerType === 'legacy',\n                      });\n\n                      if (p) {\n                        if (routerType === 'legacy') {\n                          push(p);\n                        } else {\n                          go({ to: p });\n                        }\n                      }\n                    },\n                  }\n                );\n              },\n            }),\n            createAction({\n              name: t('buttons.cancel', 'Cancel'),\n              parent: 'delete',\n              perform: () => null,\n            })\n          );\n        }\n      }\n    }\n    return tempActions;\n  };\n  useRegisterActions(actions, [actions]);\n};\n","import React, { useContext } from 'react';\n\nimport { useRefineKbar } from '../../hooks/useRefineKbar';\nimport { RefineKbarPropsContext } from '../../index';\nimport { CommandBar } from '../commandBar';\n\nexport const RefineKbar: React.FC<{\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}> = ({ commandBarProps }) => {\n  const context = useContext(RefineKbarPropsContext);\n  useRefineKbar();\n  const props = { ...context, ...commandBarProps };\n\n  return <CommandBar {...props} />;\n};\n","import { KBarProvider, type KBarProviderProps } from 'kbar';\nimport React, { createContext } from 'react';\n\nimport type { CommandBar } from './components/index.js';\n\ninterface IKBarProviderProps extends KBarProviderProps {\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}\n\nexport const RefineKbarPropsContext = createContext<IKBarProviderProps['commandBarProps']>({});\n\nexport const RefineKbarProvider: React.FunctionComponent<IKBarProviderProps & { children: React.ReactNode }> = ({\n  children,\n  commandBarProps,\n}) => {\n  return (\n    <RefineKbarPropsContext.Provider value={commandBarProps ?? {}}>\n      <KBarProvider>{children}</KBarProvider>\n    </RefineKbarPropsContext.Provider>\n  );\n};\n\nexport type {\n  Action,\n  ActionGroup,\n  ActionId,\n  ActionImpl,\n  ActionInterface,\n  ActionSection,\n  ActionStore,\n  ActionTree,\n  History,\n  HistoryItem,\n  IKBarContext,\n  KBarOptions,\n  KBarProviderProps,\n  KBarQuery,\n  KBarState,\n} from 'kbar';\n\nexport {\n  createAction,\n  getListboxItemId,\n  KBAR_LISTBOX,\n  KBarAnimator,\n  KBarContext,\n  KBarPortal,\n  KBarPositioner,\n  KBarProvider,\n  KBarResults,\n  KBarSearch,\n  NO_GROUP,\n  Priority,\n  useKBar,\n  useMatches,\n  useRegisterActions,\n  VisualState,\n} from 'kbar';\n\nexport { RefineKbar } from './components/index.js';\nexport { useRefineKbar } from './hooks/index.js';\n","import { useNavigate } from '@remix-run/react';\nimport { HomeIcon } from 'lucide-react';\n\nimport { createAction, Priority, useRegisterActions } from '~/lib/refinedev-kbar';\n\nexport const useBackToHomeKbarActions = () => {\n  const navigate = useNavigate();\n\n  const backToHomeAction = createAction({\n    section: 'suggestions',\n    name: 'Back to home',\n    icon: <HomeIcon size={16} />,\n    priority: Priority.HIGH,\n    perform: () => {\n      navigate('/');\n    },\n  });\n\n  useRegisterActions([backToHomeAction]);\n};\n","import {\n  AccessControlContext,\n  CanReturnType,\n  pickNotDeprecated,\n  useCan,\n  useDelete,\n  useMutationMode,\n  useResource,\n  useResourceParams,\n  useTranslate,\n  useWarnAboutChange,\n} from '@refinedev/core';\nimport { MutateOptions } from '@tanstack/react-query';\nimport { useContext } from 'react';\n\nimport { EnumAction } from '~/constants';\nimport { TAny } from '~/types';\n\ntype DeleteHelperReturnType = CanReturnType & {\n  isLoading: boolean;\n  mutate: (e?: MutateOptions<unknown, unknown, unknown, unknown>) => DeleteHelperReturnType;\n};\n\nexport const useDeleteHelper = (resource: string, recordItemId: string, meta?: TAny): DeleteHelperReturnType => {\n  const accessControlContext = useContext(AccessControlContext);\n\n  const accessControlEnabled = accessControlContext.options.buttons.enableAccessControl;\n\n  const translate = useTranslate();\n\n  const id = useResourceParams();\n\n  const { resource: _resource, identifier } = useResource(resource);\n\n  const { mutationMode } = useMutationMode();\n\n  const { mutate, isLoading } = useDelete();\n\n  const { data } = useCan({\n    resource: _resource?.name,\n    action: EnumAction.delete,\n    params: { id: recordItemId ?? id, resource: _resource },\n    queryOptions: {\n      enabled: accessControlEnabled,\n    },\n  });\n\n  const reason = () => {\n    if (data?.can) return '';\n    else if (data?.reason) return data.reason;\n    else return translate(\"You don't have permission to access\");\n  };\n\n  const { setWarnWhen } = useWarnAboutChange();\n\n  const onDeleteMutate = (options?: MutateOptions<unknown, unknown, unknown, unknown>): TAny => {\n    if (accessControlEnabled && !data?.can) {\n      return;\n    }\n    if ((recordItemId ?? id) && identifier) {\n      setWarnWhen(false);\n      return mutate(\n        {\n          id: recordItemId ?? id ?? '',\n          resource: identifier,\n          mutationMode,\n          meta: pickNotDeprecated(meta),\n          metaData: pickNotDeprecated(meta),\n        },\n        options\n      );\n    }\n\n    return undefined;\n  };\n\n  return {\n    can: !(accessControlEnabled && !data?.can),\n    reason: reason(),\n    mutate: onDeleteMutate,\n    isLoading,\n  };\n};\n","import {\n  AccessControlContext,\n  CanReturnType,\n  useCan,\n  useNavigation,\n  useResource,\n  useResourceParams,\n  useTranslate,\n} from '@refinedev/core';\nimport { useContext } from 'react';\n\nimport { EnumAction } from '~/constants';\nimport { TAny } from '~/types';\n\ntype GetEditUrlReturnType = CanReturnType & {\n  url: string;\n};\n\nexport const useGetCloneUrl = (resource: string, recordItemId: string, meta?: TAny): GetEditUrlReturnType => {\n  const accessControlContext = useContext(AccessControlContext);\n  const accessControlEnabled = accessControlContext.options.buttons.enableAccessControl;\n\n  const { cloneUrl: generateCloneUrl } = useNavigation();\n\n  const { resource: _resource } = useResource(resource);\n  const { id } = useResourceParams();\n\n  const { data } = useCan({\n    resource: resource,\n    action: EnumAction.clone,\n    params: { id: recordItemId, resource: _resource },\n    queryOptions: {\n      enabled: accessControlEnabled,\n    },\n  });\n\n  const translate = useTranslate();\n\n  const reason = () => {\n    if (data?.can) return '';\n    else if (data?.reason) return data.reason;\n    else return translate('buttons.notAccessTitle', \"You don't have permission to access\");\n  };\n\n  const editUrl = resource && (recordItemId ?? id) ? generateCloneUrl(resource, recordItemId! ?? id!, meta) : '';\n\n  return {\n    can: !(accessControlEnabled && !data?.can),\n    reason: reason(),\n    url: editUrl,\n  };\n};\n","import {\n  AccessControlContext,\n  CanReturnType,\n  useCan,\n  useNavigation,\n  useResource,\n  useResourceParams,\n  useTranslate,\n} from '@refinedev/core';\nimport { useContext } from 'react';\n\nimport { EnumAction } from '~/constants';\nimport { TAny } from '~/types';\n\ntype GetEditUrlReturnType = CanReturnType & {\n  url: string;\n};\n\nexport const useGetEditUrl = (resource: string, recordItemId: string, meta?: TAny): GetEditUrlReturnType => {\n  const accessControlContext = useContext(AccessControlContext);\n  const accessControlEnabled = accessControlContext.options.buttons.enableAccessControl;\n\n  const { editUrl: generateEditUrl } = useNavigation();\n\n  const { resource: _resource } = useResource(resource);\n  const { id } = useResourceParams();\n\n  const { data } = useCan({\n    resource: resource,\n    action: EnumAction.edit,\n    params: { id: recordItemId, resource: _resource },\n    queryOptions: {\n      enabled: accessControlEnabled,\n    },\n  });\n\n  const translate = useTranslate();\n\n  const reason = () => {\n    if (data?.can) return '';\n    else if (data?.reason) return data.reason;\n    else return translate('buttons.notAccessTitle', \"You don't have permission to access\");\n  };\n\n  const editUrl = resource && (recordItemId ?? id) ? generateEditUrl(resource, recordItemId! ?? id!, meta) : '';\n\n  return {\n    can: !(accessControlEnabled && !data?.can),\n    reason: reason(),\n    url: editUrl,\n  };\n};\n","import {\n  AccessControlContext,\n  CanReturnType,\n  useCan,\n  useNavigation,\n  useResource,\n  useResourceParams,\n  useTranslate,\n} from '@refinedev/core';\nimport { useContext } from 'react';\n\nimport { EnumAction } from '~/constants';\nimport { TAny } from '~/types';\n\ntype GetShowUrlReturnType = CanReturnType & {\n  url: string;\n};\n\nexport const useGetShowUrl = (resource: string, recordItemId: string, meta?: TAny): GetShowUrlReturnType => {\n  const accessControlContext = useContext(AccessControlContext);\n  const accessControlEnabled = accessControlContext.options.buttons.enableAccessControl;\n\n  const { showUrl: generateShowUrl } = useNavigation();\n\n  const { resource: _resource } = useResource(resource);\n  const { id } = useResourceParams();\n\n  const { data } = useCan({\n    resource: resource,\n    action: EnumAction.show,\n    params: { id: recordItemId, resource: _resource },\n    queryOptions: {\n      enabled: accessControlEnabled,\n    },\n  });\n\n  const translate = useTranslate();\n\n  const reason = () => {\n    if (data?.can) return '';\n    else if (data?.reason) return data.reason;\n    else return translate('buttons.notAccessTitle', \"You don't have permission to access\");\n  };\n\n  const showUrl = resource && (recordItemId || id) ? generateShowUrl(resource, recordItemId! ?? id!, meta) : '';\n\n  return {\n    can: !(accessControlEnabled && !data?.can),\n    reason: reason(),\n    url: showUrl,\n  };\n};\n","import { BackFunction, useBack, useResourceParams } from '@refinedev/core';\n\nimport { EnumAction } from '~/constants';\n\nexport const useOnBack = (): BackFunction | undefined => {\n  const back = useBack();\n  const { action } = useResourceParams();\n\n  const onBack = action !== EnumAction.list || typeof action !== 'undefined' ? back : undefined;\n\n  return onBack;\n};\n","import { useBackToHomeKbarActions } from '~/component-refine/hooks';\nimport { RefineKbar as RefineKbarCore } from '~/lib/refinedev-kbar';\n\nexport const RefineKbar = () => {\n  useBackToHomeKbarActions();\n\n  return <RefineKbarCore />;\n};\n","import { useTranslate } from '@refinedev/core';\nimport React, { createContext, PropsWithChildren, useCallback, useState } from 'react';\n\nimport { TAny } from '~/types';\n\nimport { ConfirmDialog } from '../components/confirm';\nimport { useDeleteHelper, useOnBack } from '../hooks';\n\ntype DeleteDataType = {\n  toogle: boolean;\n  row: TAny;\n  resource: string;\n  redirectBack?: boolean;\n  onAfterHandle?: () => void;\n};\n\nexport interface DeleteContextType {\n  data: DeleteDataType;\n  updateData: (data: DeleteDataType) => void;\n}\n\nexport function DeleteActionModal(props: DeleteContextType) {\n  const back = useOnBack();\n  const { can, isLoading, mutate } = useDeleteHelper(props.data?.resource, props.data?.row?.id);\n\n  const translate = useTranslate();\n\n  const onDelete = useCallback(() => {\n    if (can) {\n      return mutate({\n        onSuccess() {\n          const isRedirectBack = props?.data?.redirectBack ?? false;\n          const onAfterHandle = props?.data?.onAfterHandle;\n          props?.updateData({\n            toogle: false,\n            row: undefined,\n            resource: '',\n            redirectBack: false,\n            onAfterHandle: undefined,\n          });\n\n          if (isRedirectBack) {\n            back?.();\n          }\n\n          if (onAfterHandle) {\n            onAfterHandle();\n          }\n        },\n      });\n    }\n\n    return undefined;\n  }, [can, props, back, mutate]);\n\n  return (\n    <ConfirmDialog\n      open={can && props?.data?.toogle}\n      loading={isLoading}\n      title={translate('Are you sure?')}\n      description={translate('This action cannot be undone.')}\n      okText={translate('Delete')}\n      cancelText={translate('Cancel')}\n      okButtonVariant={'destructive'}\n      onOpenChange={() => {\n        if (!isLoading) {\n          props?.updateData({\n            toogle: false,\n            row: undefined,\n            resource: '',\n          });\n        }\n      }}\n      onConfirm={onDelete}\n    />\n  );\n}\n\nconst DeleteContext = createContext<DeleteContextType | undefined>(undefined);\n\nconst DeleteProvider: React.FC<PropsWithChildren> = ({ children }) => {\n  const [data, setData] = useState<DeleteDataType>({\n    row: undefined,\n    resource: '',\n    toogle: false,\n    onAfterHandle: undefined,\n  });\n\n  const updateData = (data: DeleteDataType) => {\n    setData(data);\n  };\n\n  return (\n    <DeleteContext.Provider value={{ data, updateData }}>\n      {children}\n      <DeleteActionModal data={data as DeleteDataType} updateData={updateData} />\n    </DeleteContext.Provider>\n  );\n};\n\nexport { DeleteContext, DeleteProvider };\n","import * as CollapsiblePrimitive from '@radix-ui/react-collapsible';\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n","import * as React from 'react';\n\nimport { cn } from '~/utils';\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  className?: string;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        'border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\n\nInput.displayName = 'Input';\n\nexport { Input };\n","import * as SeparatorPrimitive from '@radix-ui/react-separator';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(({ className, orientation = 'horizontal', decorative = true, ...props }, ref) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn('bg-border shrink-0', orientation === 'horizontal' ? 'h-[1px] w-full' : 'h-full w-[1px]', className)}\n    {...props}\n  />\n));\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n","import * as SheetPrimitive from '@radix-ui/react-dialog';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80',\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out',\n  {\n    variants: {\n      side: {\n        top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',\n        bottom:\n          'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',\n        left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',\n        right:\n          'inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',\n      },\n    },\n    defaultVariants: {\n      side: 'right',\n    },\n  }\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = 'right', className, children, ...props }, ref) => (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n        {children}\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col space-y-2 text-center sm:text-left', className)} {...props} />\n);\nSheetHeader.displayName = 'SheetHeader';\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2', className)} {...props} />\n);\nSheetFooter.displayName = 'SheetFooter';\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn('text-foreground text-lg font-semibold', className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn('text-muted-foreground text-sm', className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n","import { cn } from '~/utils';\n\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return <div className={cn('bg-primary/10 animate-pulse rounded-md', className)} {...props} />;\n}\n\nexport { Skeleton };\n","import * as TooltipPrimitive from '@radix-ui/react-tooltip';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst TooltipArrow = TooltipPrimitive.Arrow;\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        'bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md px-3 py-1.5 text-xs',\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipArrow, TooltipContent, TooltipProvider, TooltipTrigger };\n","import { useSearchParams } from '@remix-run/react';\nimport { useDebounceFn } from 'ahooks';\n\n/**\n * 防抖提交\n * @returns function debounceSubmit\n */\nexport function useDebounceSubmit() {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const { run: debounceSubmit } = useDebounceFn(\n    (searchParamsNew: URLSearchParams) => setSearchParams(searchParamsNew, { replace: true }),\n    { wait: 300 }\n  );\n\n  return (event: React.FormEvent<HTMLFormElement>) => {\n    const formData = new FormData(event.currentTarget);\n\n    // 创建一个新的 URLSearchParams 实例，避免修改原有的实例\n    const searchParamsNew = new URLSearchParams(searchParams);\n\n    // 获取所有的表单键\n    const formKeys = new Set(Array.from(formData.keys()));\n\n    // 先清除所有将要更新的键的旧值\n    formKeys.forEach((key) => {\n      searchParamsNew.delete(key);\n    });\n\n    // 重新添加所有值\n    formData.forEach((value, key) => {\n      if (value) {\n        searchParamsNew.append(key, value.toString());\n      }\n    });\n\n    debounceSubmit(searchParamsNew);\n  };\n}\n","import * as React from 'react';\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener('change', onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener('change', onChange);\n  }, []);\n\n  return !!isMobile;\n}\n","import { useEffect, useRef } from 'react';\n\n/**\n * 在组件挂载后执行一次传入的方法\n * @param fn 挂载时执行的函数，可以返回清理函数\n */\nexport function useMountEffect(fn: () => (() => void) | void) {\n  const mountedRef = useRef(false);\n\n  useEffect(() => {\n    if (mountedRef.current) {\n      return;\n    }\n\n    mountedRef.current = true;\n    return fn();\n  }, [fn]);\n}\n","import { useSearchParams } from '@remix-run/react';\n\n/**\n * 更新搜索参数\n * @returns function updateSearchParams\n */\nexport function useUpdateSearchParams() {\n  const [, setSearchParams] = useSearchParams();\n\n  return (params: Record<string, string | null | undefined | boolean | number>) => {\n    setSearchParams(\n      (prev) => {\n        for (const [key, value] of Object.entries(params)) {\n          if (value) {\n            prev.set(key, value.toString());\n          } else {\n            prev.delete(key);\n          }\n        }\n        return prev;\n      },\n      { replace: true }\n    );\n  };\n}\n","import { Slot } from '@radix-ui/react-slot';\nimport { useFetcher } from '@remix-run/react';\nimport { cva, VariantProps } from 'class-variance-authority';\nimport { PanelLeft } from 'lucide-react';\nimport * as React from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { Input } from '~/components-shadcn/input';\nimport { Separator } from '~/components-shadcn/separator';\nimport { Sheet, SheetContent } from '~/components-shadcn/sheet';\nimport { Skeleton } from '~/components-shadcn/skeleton';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '~/components-shadcn/tooltip';\nimport { useIsMobile } from '~/hooks';\nimport { cn } from '~/utils';\n\nconst SIDEBAR_COOKIE_NAME = 'sidebarIsClose';\nconst SIDEBAR_WIDTH = '16rem';\nconst SIDEBAR_WIDTH_MOBILE = '18rem';\nconst SIDEBAR_WIDTH_ICON = '3rem';\nconst SIDEBAR_KEYBOARD_SHORTCUT = 'b';\n\ntype SidebarContext = {\n  state: 'expanded' | 'collapsed';\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error('useSidebar must be used within a SidebarProvider.');\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n  const fetcher = useFetcher();\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(openProp ?? defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === 'function' ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      const formData = new FormData();\n      formData.append(SIDEBAR_COOKIE_NAME, String(!openState));\n      fetcher.submit(formData, {\n        method: 'post',\n        action: '/api/set-preferences',\n      });\n    },\n    [setOpenProp, open, fetcher]\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? 'expanded' : 'collapsed';\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              '--sidebar-width': SIDEBAR_WIDTH,\n              '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn('group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full', className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = 'SidebarProvider';\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    side?: 'left' | 'right';\n    variant?: 'sidebar' | 'floating' | 'inset';\n    collapsible?: 'offcanvas' | 'icon' | 'none';\n  }\n>(({ side = 'left', variant = 'sidebar', collapsible = 'offcanvas', className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === 'none') {\n    return (\n      <div\n        className={cn('bg-sidebar text-sidebar-foreground z-10 flex h-full w-(--sidebar-width) flex-col', className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\n          style={\n            {\n              '--sidebar-width': SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer text-sidebar-foreground z-10 hidden md:block\"\n      data-state={state}\n      data-collapsible={state === 'collapsed' ? collapsible : ''}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          'relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear',\n          'group-data-[collapsible=offcanvas]:w-0',\n          'group-data-[side=right]:rotate-180',\n          variant === 'floating' || variant === 'inset'\n            ? 'group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]'\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon)'\n        )}\n      />\n      <div\n        className={cn(\n          'fixed inset-y-0 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex',\n          side === 'left'\n            ? 'left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]'\n            : 'right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]',\n          // Adjust the padding for floating and inset variants.\n          variant === 'floating' || variant === 'inset'\n            ? 'p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]'\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l',\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = 'Sidebar';\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn('h-7 w-7', className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  }\n);\nSidebarTrigger.displayName = 'SidebarTrigger';\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<'button'>>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          'hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex',\n          'in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize',\n          '[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize',\n          'hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full',\n          '[[data-side=left][data-collapsible=offcanvas]_&]:-right-2',\n          '[[data-side=right][data-collapsible=offcanvas]_&]:-left-2',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\nSidebarRail.displayName = 'SidebarRail';\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<'main'>>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        'bg-background relative flex min-h-svh flex-1 flex-col',\n        'peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2',\n        className\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = 'SidebarInset';\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          'bg-background focus-visible:ring-sidebar-ring h-8 w-full shadow-none focus-visible:ring-2',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\nSidebarInput.displayName = 'SidebarInput';\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn('flex flex-col gap-2 p-2', className)} {...props} />;\n});\nSidebarHeader.displayName = 'SidebarHeader';\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn('flex flex-col gap-2 p-2', className)} {...props} />;\n});\nSidebarFooter.displayName = 'SidebarFooter';\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn('bg-sidebar-border mx-2 w-auto', className)}\n        {...props}\n      />\n    );\n  }\n);\nSidebarSeparator.displayName = 'SidebarSeparator';\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        'flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden',\n        className\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = 'SidebarContent';\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn('relative flex w-full min-w-0 flex-col p-2', className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = 'SidebarGroup';\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'div';\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          'text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n          'group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\nSidebarGroupLabel.displayName = 'SidebarGroupLabel';\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<'button'> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n          // Increases the hit area of the button on mobile.\n          'after:absolute after:-inset-2 md:after:hidden',\n          'group-data-[collapsible=icon]:hidden',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\nSidebarGroupAction.displayName = 'SidebarGroupAction';\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn('w-full text-sm', className)} {...props} />\n  )\n);\nSidebarGroupContent.displayName = 'SidebarGroupContent';\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<'ul'>>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn('flex w-full min-w-0 flex-col gap-1', className)} {...props} />\n));\nSidebarMenu.displayName = 'SidebarMenu';\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<'li'>>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn('group/menu-item relative', className)} {...props} />\n));\nSidebarMenuItem.displayName = 'SidebarMenuItem';\n\nconst sidebarMenuButtonVariants = cva(\n  'peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'hover:bg-sidebar-accent hover:text-sidebar-accent-foreground',\n        outline:\n          'bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]',\n      },\n      size: {\n        default: 'h-8 text-sm',\n        sm: 'h-7 text-xs',\n        lg: 'h-12 text-sm group-data-[collapsible=icon]:p-0!',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<'button'> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = 'default', size = 'default', tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'button';\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === 'string') {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== 'collapsed' || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = 'SidebarMenuButton';\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<'button'> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'button';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n        // Increases the hit area of the button on mobile.\n        'after:absolute after:-inset-2 md:after:hidden',\n        'peer-data-[size=sm]/menu-button:top-1',\n        'peer-data-[size=default]/menu-button:top-1.5',\n        'peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:hidden',\n        showOnHover &&\n          'peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0',\n        className\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = 'SidebarMenuAction';\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        'text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none',\n        'peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground',\n        'peer-data-[size=sm]/menu-button:top-1',\n        'peer-data-[size=default]/menu-button:top-1.5',\n        'peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:hidden',\n        className\n      )}\n      {...props}\n    />\n  )\n);\nSidebarMenuBadge.displayName = 'SidebarMenuBadge';\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn('flex h-8 items-center gap-2 rounded-md px-2', className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            '--skeleton-width': width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = 'SidebarMenuSkeleton';\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<'ul'>>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        'border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5',\n        'group-data-[collapsible=icon]:hidden',\n        className\n      )}\n      {...props}\n    />\n  )\n);\nSidebarMenuSub.displayName = 'SidebarMenuSub';\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<'li'>>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = 'SidebarMenuSubItem';\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<'a'> & {\n    asChild?: boolean;\n    size?: 'sm' | 'md';\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = 'md', isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'a';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\n        'data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground',\n        size === 'sm' && 'text-xs',\n        size === 'md' && 'text-sm',\n        'group-data-[collapsible=icon]:hidden',\n        className\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = 'SidebarMenuSubButton';\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","import { CanAccess, useMenu, useResourceParams } from '@refinedev/core';\nimport { Link } from '@remix-run/react';\nimport { ChevronRight, LucideProps } from 'lucide-react';\nimport { TreeMenuItem } from 'node_modules/@refinedev/core/dist/hooks/menu/useMenu';\nimport { ForwardRefExoticComponent, RefAttributes } from 'react';\n\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '~/components-shadcn/collapsible';\nimport {\n  SidebarGroup,\n  SidebarGroupLabel,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n} from '~/components-shadcn/sidebar';\nimport { cn } from '~/utils';\n\nexport function Sidebar() {\n  const { menuItems, selectedKey, defaultOpenKeys } = useMenu();\n  const resourceParams = useResourceParams();\n\n  const getCrudPaths = (item: TreeMenuItem) => {\n    const crudPaths = [item.list?.toString(), item.create?.toString()];\n\n    if (resourceParams.id) {\n      crudPaths.push(\n        item.edit?.toString()?.replace(':id', resourceParams.id as string),\n        item.show?.toString()?.replace(':id', resourceParams.id as string)\n      );\n    }\n\n    return crudPaths.filter(Boolean) as string[];\n  };\n\n  return menuItems.map((menus_1, index) => (\n    <CanAccess key={menus_1.key} resource={menus_1.name} action=\"list\">\n      <SidebarGroup key={index}>\n        <SidebarGroupLabel>{menus_1.name}</SidebarGroupLabel>\n        <SidebarMenu>\n          {menus_1.children.map((menus_2, idx) => {\n            const isCollapsibleOpen = defaultOpenKeys.includes(menus_2.key);\n            const Icon = menus_2?.meta?.icon as unknown as ForwardRefExoticComponent<\n              Omit<LucideProps, 'ref'> & RefAttributes<SVGSVGElement>\n            >;\n\n            return (\n              <CanAccess key={menus_2.key} resource={menus_2.name} action=\"list\">\n                <Collapsible key={idx} asChild defaultOpen={isCollapsibleOpen} className=\"group/collapsible\">\n                  <SidebarMenuItem>\n                    <CollapsibleTrigger asChild>\n                      <SidebarMenuButton tooltip={menus_2.name}>\n                        {Icon && <Icon />}\n                        <span className=\"capitalize\">{menus_2.name}</span>\n                        <ChevronRight className=\"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90\" />\n                      </SidebarMenuButton>\n                    </CollapsibleTrigger>\n                    <CollapsibleContent>\n                      <SidebarMenuSub>\n                        {menus_2.children?.map((item) => {\n                          const { meta } = item;\n                          const paths = getCrudPaths(item);\n                          const isActive =\n                            paths.includes(selectedKey) ||\n                            paths.some((s) => s?.endsWith(selectedKey) || selectedKey?.endsWith(s));\n\n                          return (\n                            <CanAccess key={item.key} resource={item.name} action=\"list\">\n                              <SidebarMenuSubItem>\n                                <SidebarMenuSubButton\n                                  asChild\n                                  isActive={isActive}\n                                  className={cn(isActive && 'bg-primary! text-primary-foreground!')}\n                                >\n                                  <Link prefetch=\"intent\" viewTransition to={item.list?.toString() ?? '/#'}>\n                                    <span className=\"capitalize\">{meta?.label || item.name}</span>\n                                  </Link>\n                                </SidebarMenuSubButton>\n                              </SidebarMenuSubItem>\n                            </CanAccess>\n                          );\n                        })}\n                      </SidebarMenuSub>\n                    </CollapsibleContent>\n                  </SidebarMenuItem>\n                </Collapsible>\n              </CanAccess>\n            );\n          })}\n        </SidebarMenu>\n      </SidebarGroup>\n    </CanAccess>\n  ));\n}\n","/* eslint-disable react/prop-types */\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Table = React.forwardRef<HTMLTableElement, React.HTMLAttributes<HTMLTableElement>>(\n  ({ className, ...props }, ref) => (\n    <div className=\"relative w-full overflow-auto\">\n      <table ref={ref} className={cn('w-full caption-bottom text-sm', className)} {...props} />\n    </div>\n  )\n);\nTable.displayName = 'Table';\n\nconst TableHeader = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />\n);\nTableHeader.displayName = 'TableHeader';\n\nconst TableBody = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tbody ref={ref} className={cn('[&_tr:last-child]:border-0', className)} {...props} />\n  )\n);\nTableBody.displayName = 'TableBody';\n\nconst TableFooter = React.forwardRef<HTMLTableSectionElement, React.HTMLAttributes<HTMLTableSectionElement>>(\n  ({ className, ...props }, ref) => (\n    <tfoot ref={ref} className={cn('bg-muted/50 border-t font-medium last:[&>tr]:border-b-0', className)} {...props} />\n  )\n);\nTableFooter.displayName = 'TableFooter';\n\nconst TableRow = React.forwardRef<HTMLTableRowElement, React.HTMLAttributes<HTMLTableRowElement>>(\n  ({ className, ...props }, ref) => (\n    <tr\n      ref={ref}\n      className={cn('hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors', className)}\n      {...props}\n    />\n  )\n);\nTableRow.displayName = 'TableRow';\n\nconst TableHead = React.forwardRef<HTMLTableCellElement, React.ThHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <th\n      ref={ref}\n      className={cn(\n        'text-muted-foreground h-10 px-2 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className\n      )}\n      {...props}\n    />\n  )\n);\nTableHead.displayName = 'TableHead';\n\nconst TableCell = React.forwardRef<HTMLTableCellElement, React.TdHTMLAttributes<HTMLTableCellElement>>(\n  ({ className, ...props }, ref) => (\n    <td\n      ref={ref}\n      className={cn('p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]', className)}\n      {...props}\n    />\n  )\n);\nTableCell.displayName = 'TableCell';\n\nconst TableCaption = React.forwardRef<HTMLTableCaptionElement, React.HTMLAttributes<HTMLTableCaptionElement>>(\n  ({ className, ...props }, ref) => (\n    <caption ref={ref} className={cn('text-muted-foreground mt-4 text-sm', className)} {...props} />\n  )\n);\nTableCaption.displayName = 'TableCaption';\n\nexport { Table, TableBody, TableCaption, TableCell, TableFooter, TableHead, TableHeader, TableRow };\n","import { useEffect, useRef } from 'react';\n\nexport const useIsFirstRender = () => {\n  const firstRender = useRef(true);\n\n  useEffect(() => {\n    firstRender.current = false;\n  }, []);\n\n  return firstRender.current;\n};\n","import type { ConditionalFilter, CrudFilter, CrudOperators, LogicalFilter } from '@refinedev/core';\nimport type { ColumnDef, ColumnFilter, ColumnFiltersState } from '@tanstack/react-table';\n\nimport { TAny } from '~/types';\n\ntype Params = {\n  columnFilters?: ColumnFiltersState;\n  columns: ColumnDef<TAny, TAny>[];\n};\n\nexport const columnFiltersToCrudFilters = ({ columns, columnFilters }: Params): CrudFilter[] => {\n  return (\n    columnFilters?.map((filter) => {\n      const operator =\n        (filter as ColumnFilter & { operator?: CrudOperators }).operator ??\n        (\n          columns.find((col) => col.id === filter.id)?.meta as {\n            filterOperator?: string;\n          }\n        )?.filterOperator;\n\n      const isConditional = operator === 'and' || operator === 'or';\n\n      if (isConditional && Array.isArray(filter.value)) {\n        const filterKey =\n          (\n            columns.find((c) => c.id === filter.id)?.meta as {\n              filterKey?: string;\n            }\n          )?.filterKey ?? filter.id;\n\n        return {\n          key: filterKey,\n          operator: operator as ConditionalFilter['operator'],\n          value: filter.value,\n        };\n      }\n      const defaultOperator = Array.isArray(filter.value) ? 'in' : 'eq';\n\n      return {\n        field: filter.id,\n        operator: (operator as LogicalFilter['operator']) ?? defaultOperator,\n        value: filter.value,\n      };\n    }) ?? []\n  );\n};\n","import type { CrudFilter, LogicalFilter } from '@refinedev/core';\n\ntype Params = {\n  nextFilters: CrudFilter[];\n  coreFilters: CrudFilter[];\n};\n\nexport const getRemovedFilters = ({ nextFilters, coreFilters }: Params): CrudFilter[] => {\n  const removedFilters = coreFilters.filter(\n    (filter) =>\n      !nextFilters.some((nextFilter) => {\n        const isFilterConditional = filter.operator === 'and' || filter.operator === 'or';\n        const isCrudFilterConditional = nextFilter.operator === 'and' || nextFilter.operator === 'or';\n        const hasSameOperator = filter.operator === nextFilter.operator;\n        const hasSameKey = isFilterConditional && isCrudFilterConditional && filter.key === nextFilter.key;\n        const hasSameField =\n          !isFilterConditional &&\n          !isCrudFilterConditional &&\n          (filter as LogicalFilter).field === (nextFilter as LogicalFilter).field;\n\n        return hasSameOperator && (hasSameKey || hasSameField);\n      })\n  );\n\n  return removedFilters.map((filter) => {\n    if (filter.operator === 'and' || filter.operator === 'or') {\n      return {\n        key: filter.key,\n        operator: filter.operator,\n        value: [],\n      };\n    }\n    return {\n      field: (filter as LogicalFilter).field,\n      operator: filter.operator,\n      value: undefined,\n    };\n  });\n};\n","import type { CrudFilter, LogicalFilter } from '@refinedev/core';\nimport type { ColumnDef, ColumnFilter } from '@tanstack/react-table';\n\nimport { TAny } from '~/types';\n\ntype Params = {\n  columns: ColumnDef<TAny, TAny>[];\n  crudFilters: CrudFilter[];\n};\n\nexport const crudFiltersToColumnFilters = ({ columns, crudFilters }: Params): ColumnFilter[] => {\n  return crudFilters\n    .map((filter) => {\n      if (filter.operator === 'and' || filter.operator === 'or') {\n        if (filter.key) {\n          const filterId: string =\n            columns.find((col) => (col.meta as { filterKey?: string })?.filterKey === filter.key)?.id ?? filter.key;\n\n          return {\n            id: filterId,\n            operator: filter.operator,\n            value: filter.value,\n          };\n        }\n        return undefined;\n      }\n      return {\n        id: (filter as LogicalFilter).field,\n        operator: (filter as LogicalFilter).operator,\n        value: filter.value,\n      };\n    })\n    .filter(Boolean) as ColumnFilter[];\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  type BaseRecord,\n  type CrudFilter,\n  type CrudSorting,\n  type HttpError,\n  useTable as useTableCore,\n  type useTableProps as useTablePropsCore,\n  type useTableReturnType as useTableReturnTypeCore,\n} from '@refinedev/core';\nimport {\n  getCoreRowModel,\n  getFilteredRowModel,\n  getSortedRowModel,\n  type Table,\n  type TableOptions,\n  useReactTable,\n} from '@tanstack/react-table';\nimport isEqual from 'lodash/isEqual';\nimport { useEffect } from 'react';\n\nimport { columnFiltersToCrudFilters, crudFiltersToColumnFilters, getRemovedFilters, useIsFirstRender } from '../utils';\n\nexport type UseTableReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n> = Table<TData> & {\n  refineCore: useTableReturnTypeCore<TData, TError>;\n};\n\nexport type UseTableProps<\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n> = {\n  /**\n   * Configuration object for the core of the [useTable](/docs/api-reference/core/hooks/useTable/)\n   * @type [`useTablePropsCore<TQueryFnData, TError>`](/docs/api-reference/core/hooks/useTable/#properties)\n   */\n  refineCoreProps?: useTablePropsCore<TQueryFnData, TError, TData>;\n} & Pick<TableOptions<TData>, 'columns'> &\n  Partial<Omit<TableOptions<TData>, 'columns'>>;\n\nexport function useTable<\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  refineCoreProps: { hasPagination = true, ...refineCoreProps } = {},\n  initialState: reactTableInitialState = {},\n  ...rest\n}: UseTableProps<TQueryFnData, TError, TData>): UseTableReturnType<TData, TError> {\n  const isFirstRender = useIsFirstRender();\n\n  const useTableResult = useTableCore<TQueryFnData, TError, TData>({\n    ...refineCoreProps,\n    hasPagination,\n  });\n\n  const isServerSideFilteringEnabled = (refineCoreProps.filters?.mode || 'server') === 'server';\n  const isServerSideSortingEnabled = (refineCoreProps.sorters?.mode || 'server') === 'server';\n  const hasPaginationString = hasPagination === false ? 'off' : 'server';\n  const isPaginationEnabled = (refineCoreProps.pagination?.mode ?? hasPaginationString) !== 'off';\n\n  const {\n    tableQuery: { data },\n    current,\n    setCurrent,\n    pageSize: pageSizeCore,\n    setPageSize: setPageSizeCore,\n    sorters,\n    setSorters,\n    filters: filtersCore,\n    setFilters,\n    pageCount,\n  } = useTableResult;\n\n  const reactTableResult = useReactTable<TData>({\n    data: data?.data ?? [],\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: isServerSideSortingEnabled ? undefined : getSortedRowModel(),\n    getFilteredRowModel: isServerSideFilteringEnabled ? undefined : getFilteredRowModel(),\n    initialState: {\n      pagination: {\n        pageIndex: current - 1,\n        pageSize: pageSizeCore,\n      },\n      sorting: sorters.map((sorting) => ({\n        id: sorting.field,\n        desc: sorting.order === 'desc',\n      })),\n      columnFilters: crudFiltersToColumnFilters({\n        columns: rest.columns,\n        crudFilters: filtersCore,\n      }),\n      ...reactTableInitialState,\n    },\n    pageCount,\n    manualPagination: true,\n    manualSorting: isServerSideSortingEnabled,\n    manualFiltering: isServerSideFilteringEnabled,\n    ...rest,\n  });\n\n  const { state, columns } = reactTableResult.options;\n  const { pagination, sorting, columnFilters } = state;\n\n  const { pageIndex, pageSize } = pagination ?? {};\n\n  useEffect(() => {\n    if (pageIndex !== undefined) {\n      setCurrent(pageIndex + 1);\n    }\n  }, [pageIndex]);\n\n  useEffect(() => {\n    if (pageSize !== undefined) {\n      setPageSizeCore(pageSize);\n    }\n  }, [pageSize]);\n\n  useEffect(() => {\n    if (sorting !== undefined) {\n      const newSorters: CrudSorting = sorting.map((sorting) => ({\n        field: sorting.id,\n        order: sorting.desc ? 'desc' : 'asc',\n      }));\n\n      if (!isEqual(sorters, newSorters)) {\n        setSorters(newSorters);\n      }\n\n      if (sorting.length > 0 && isPaginationEnabled && !isFirstRender) {\n        setCurrent(1);\n      }\n    }\n  }, [sorting]);\n\n  useEffect(() => {\n    const crudFilters: CrudFilter[] = columnFiltersToCrudFilters({\n      columns,\n      columnFilters,\n    });\n\n    crudFilters.push(\n      ...getRemovedFilters({\n        nextFilters: crudFilters,\n        coreFilters: filtersCore,\n      })\n    );\n\n    if (!isEqual(crudFilters, filtersCore)) {\n      setFilters(crudFilters);\n    }\n\n    if (crudFilters.length > 0 && isPaginationEnabled && !isFirstRender) {\n      setCurrent(1);\n    }\n  }, [columnFilters, columns]);\n\n  return {\n    ...reactTableResult,\n    refineCore: useTableResult,\n  };\n}\n","import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { Check, ChevronRight, Circle } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      'focus:bg-accent data-[state=open]:bg-accent flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        'bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md',\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      'focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors select-none data-disabled:pointer-events-none data-disabled:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0',\n      inset && 'pl-8',\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      'focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden transition-colors select-none data-disabled:pointer-events-none data-disabled:opacity-50',\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      'focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden transition-colors select-none data-disabled:pointer-events-none data-disabled:opacity-50',\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn('px-2 py-1.5 text-sm font-semibold', inset && 'pl-8', className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn('bg-muted -mx-1 my-1 h-px', className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn('ml-auto text-xs tracking-widest opacity-60', className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = 'DropdownMenuShortcut';\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n};\n","import { DotsHorizontalIcon } from '@radix-ui/react-icons';\nimport { cloneElement, FC, memo, PropsWithChildren, ReactNode, useCallback, useMemo } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '~/components-shadcn/dropdown-menu';\nimport { TAny } from '~/types';\n\nimport { Link } from '../../components/link';\n\ninterface RowActionsProps {\n  row: TAny;\n  resource: string;\n  children?: ReactNode;\n}\n\nexport type RowActionProps = PropsWithChildren & {\n  to?: string;\n  title?: string;\n  asChild?: boolean;\n  className?: string;\n  disabled?: boolean;\n  icon?: ReactNode;\n  onClick?: (event: TAny) => void;\n};\n\nexport const RowAction: FC<RowActionProps> = (props) => {\n  const isLink = Boolean(props.to && !props.disabled && !props.onClick);\n\n  return (\n    <DropdownMenuItem\n      className={props.className}\n      disabled={props.disabled}\n      asChild={props.asChild || isLink}\n      onClick={props.onClick}\n    >\n      {props.asChild ? (\n        props.children\n      ) : isLink ? (\n        <Link href={props.to} title={props.title}>\n          {props.icon ? <span className=\"mr-2\">{props.icon}</span> : null}\n          {props.title}\n        </Link>\n      ) : (\n        <>\n          {props.icon ? <span className=\"mr-2\">{props.icon}</span> : null}\n          {props.title}\n        </>\n      )}\n    </DropdownMenuItem>\n  );\n};\n\nRowAction.displayName = 'RowAction';\n\nexport const RowActions = memo(function RowActions({ row, resource, children }: RowActionsProps) {\n  const appendProps = useCallback(\n    (child: ReactNode, index?: number) => {\n      return cloneElement(child as React.ReactElement, { row, resource, key: index });\n    },\n    [row, resource]\n  );\n\n  const memoizedContent = useMemo(() => {\n    return Array.isArray(children) ? children.map((child, index) => appendProps(child, index)) : appendProps(children);\n  }, [children, appendProps]);\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\">\n          <DotsHorizontalIcon className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Open menu</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">{memoizedContent}</DropdownMenuContent>\n    </DropdownMenu>\n  );\n});\n","import { CopyCheck } from 'lucide-react';\n\nimport { TAny } from '~/types';\n\nimport { useGetCloneUrl } from '../../hooks';\n\nimport type { RowActionProps } from '.';\nimport { RowAction } from '.';\n\ntype CloneActionProps = RowActionProps & {\n  row?: TAny;\n  resource?: string;\n  title?: string;\n};\n\nexport function CloneAction({ row, resource, title, disabled, ...props }: CloneActionProps) {\n  const { can, url } = useGetCloneUrl(resource!, row.id);\n\n  return (\n    <RowAction\n      icon={<CopyCheck size={16} />}\n      disabled={!can || disabled}\n      title={title || 'Clone'}\n      to={url}\n      {...props}\n    />\n  );\n}\n\nCloneAction.displayName = 'CloneAction';\n","import { Trash2 } from 'lucide-react';\nimport { useContext } from 'react';\n\nimport { TAny } from '~/types';\nimport { cn } from '~/utils';\n\nimport { useDeleteHelper } from '../../hooks';\nimport { DeleteContext } from '../../providers';\n\nimport type { RowActionProps } from '.';\nimport { RowAction } from '.';\n\ntype DeleteActionProps = RowActionProps & {\n  row?: TAny;\n  resource?: string;\n  title?: string;\n  onAfterHandle?: () => void;\n};\n\nexport function DeleteAction({\n  row,\n  resource,\n  title,\n  disabled,\n  onAfterHandle,\n  className,\n  ...props\n}: DeleteActionProps) {\n  const { can } = useDeleteHelper(resource!, row.id);\n  const deleteContext = useContext(DeleteContext);\n\n  return (\n    <RowAction\n      icon={<Trash2 size={16} />}\n      disabled={!can || disabled}\n      title={title || 'Delete'}\n      className={cn('text-destructive!', className)}\n      onClick={() =>\n        deleteContext?.updateData({\n          row,\n          resource: resource!,\n          toogle: true,\n          onAfterHandle,\n        })\n      }\n      {...props}\n    />\n  );\n}\n\nDeleteAction.displayName = 'DeleteAction';\n","import { Pencil } from 'lucide-react';\n\nimport { TAny } from '~/types';\n\nimport { useGetEditUrl } from '../../hooks';\n\nimport type { RowActionProps } from '.';\nimport { RowAction } from '.';\n\ntype EditActionProps = RowActionProps & {\n  row?: TAny;\n  resource?: string;\n  title?: string;\n};\n\nexport function EditAction({ row, resource, title, disabled, ...props }: EditActionProps) {\n  const { can, url } = useGetEditUrl(resource!, row.id);\n\n  return (\n    <RowAction icon={<Pencil size={16} />} disabled={!can || disabled} title={title || 'Edit'} to={url} {...props} />\n  );\n}\n\nEditAction.displayName = 'EditAction';\n","import { Eye } from 'lucide-react';\n\nimport { TAny } from '~/types';\n\nimport { useGetShowUrl } from '../../hooks';\n\nimport type { RowActionProps } from '.';\nimport { RowAction } from '.';\n\ntype ShowActionProps = RowActionProps & {\n  row?: TAny;\n  resource?: string;\n  title?: string;\n};\n\nexport function ShowAction({ row, resource, title, disabled, ...props }: ShowActionProps) {\n  const { can, url } = useGetShowUrl(resource!, row.id);\n\n  return (\n    <RowAction\n      icon={<Eye size={16} />}\n      disabled={!can || disabled}\n      title={title || 'View Detail'}\n      to={url}\n      {...props}\n    />\n  );\n}\n\nShowAction.displayName = 'ShowAction';\n","import { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default: 'border-transparent bg-primary text-primary-foreground shadow-sm hover:bg-primary/80',\n        secondary: 'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive: 'border-transparent bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","/* eslint-disable react/prop-types */\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport * as React from 'react';\nimport { DayPicker } from 'react-day-picker';\n\nimport { buttonVariants } from '~/components-shadcn/button';\nimport { cn } from '~/utils';\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\n\nfunction Calendar({ className, classNames, showOutsideDays = true, ...props }: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn('p-3', className)}\n      classNames={{\n        months: 'flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0',\n        month: 'space-y-4',\n        caption: 'flex justify-center pt-1 relative items-center',\n        caption_label: 'text-sm font-medium',\n        nav: 'space-x-1 flex items-center',\n        nav_button: cn(\n          buttonVariants({ variant: 'outline' }),\n          'h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100'\n        ),\n        nav_button_previous: 'absolute left-1',\n        nav_button_next: 'absolute right-1',\n        table: 'w-full border-collapse space-y-1',\n        head_row: 'flex',\n        head_cell: 'text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]',\n        row: 'flex w-full mt-2',\n        cell: cn(\n          'relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md',\n          props.mode === 'range'\n            ? '[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md'\n            : '[&:has([aria-selected])]:rounded-md'\n        ),\n        day: cn(buttonVariants({ variant: 'ghost' }), 'h-8 w-8 p-0 font-normal aria-selected:opacity-100'),\n        day_range_start: 'day-range-start',\n        day_range_end: 'day-range-end',\n        day_selected:\n          'bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground',\n        day_today: 'bg-accent text-accent-foreground border border-foreground/50',\n        day_outside: 'day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground',\n        day_disabled: 'text-muted-foreground opacity-50',\n        day_range_middle: 'aria-selected:bg-accent aria-selected:text-accent-foreground',\n        day_hidden: 'invisible',\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => <ChevronLeft className={cn('h-4 w-4', className)} {...props} />,\n        IconRight: ({ className, ...props }) => <ChevronRight className={cn('h-4 w-4', className)} {...props} />,\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = 'Calendar';\n\nexport { Calendar };\n","import { BaseRecord, useTranslate } from '@refinedev/core';\nimport { format } from 'date-fns';\nimport { FilterIcon, FilterX } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { DateRange } from 'react-day-picker';\n\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport { Calendar } from '~/components-shadcn/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '~/components-shadcn/popover';\nimport { Separator } from '~/components-shadcn/separator';\nimport { cn } from '~/utils';\n\nimport type { TableFilterProps } from '..';\n\nexport function TableFilterDateRangePickerFilter<T extends BaseRecord = BaseRecord>({\n  column,\n  title,\n  numberOfMonths = 2,\n  align = 'start',\n}: Pick<TableFilterProps<T>, 'column' | 'title' | 'numberOfMonths' | 'align'>) {\n  const t = useTranslate();\n\n  const [date, setDate] = useState<DateRange | undefined>(() => {\n    const values = column?.getFilterValue() as Date[];\n    if (values?.length >= 1) {\n      return {\n        from: values[0],\n        to: values[1],\n      };\n    }\n    return {\n      from: undefined,\n      to: undefined,\n    };\n  });\n\n  const selectedValues = new Set(column?.getFilterValue() as string[]);\n\n  useEffect(() => {\n    if (date) {\n      const dates = Object.values(date).filter(Boolean);\n      if (dates.length) {\n        column?.setFilterValue(dates.map((date: Date | undefined) => (date ? date : '')));\n      }\n    }\n  }, [column, date]);\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div className=\"inline-flex flex-row items-center gap-x-0.5\">\n          <Button\n            title={title}\n            variant=\"ghost\"\n            className={cn('h-5 px-1 py-2.5', selectedValues.size > 0 && 'text-green-500!')}\n            onClick={(e) => {\n              if (!selectedValues.size) {\n                return;\n              }\n\n              e.preventDefault();\n              column?.setFilterValue(undefined);\n              setDate({ from: undefined, to: undefined });\n            }}\n          >\n            {selectedValues.size > 0 ? (\n              <FilterX className={cn('h-3.5 w-3.5')} />\n            ) : (\n              <FilterIcon className={cn('h-3.5 w-3.5')} />\n            )}\n          </Button>\n\n          {date?.from ? (\n            <>\n              <Separator orientation=\"vertical\" className=\"mr-1 h-4\" />\n              <Badge variant=\"secondary\" className=\"text-muted-foreground cursor-pointer text-xs text-nowrap\">\n                {date.to ? (\n                  <>{[format(date.from, 'LLL dd, y'), format(date.to, 'LLL dd, y')].join(' - ')}</>\n                ) : (\n                  format(date.from, 'LLL dd, y')\n                )}\n              </Badge>\n            </>\n          ) : null}\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-auto p-0\" align={align}>\n        <Calendar\n          initialFocus\n          mode=\"range\"\n          defaultMonth={new Date()}\n          selected={date}\n          onSelect={setDate}\n          numberOfMonths={numberOfMonths}\n        />\n        {selectedValues.size > 0 && (\n          <>\n            <Separator />\n            <div className=\"flex flex-row items-center justify-center p-1\">\n              <Button\n                variant=\"ghost\"\n                className=\"h-8 w-full border-dashed px-2\"\n                onClick={() => {\n                  column?.setFilterValue(undefined);\n                  setDate({ from: undefined, to: undefined });\n                }}\n              >\n                <FilterX size={16} />\n                {t('Clear filters')}\n              </Button>\n            </div>\n          </>\n        )}\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import { CheckIcon } from '@radix-ui/react-icons';\nimport { useTranslate } from '@refinedev/core';\nimport { FilterIcon, FilterX } from 'lucide-react';\n\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from '~/components-shadcn/command';\nimport { Popover, PopoverContent, PopoverTrigger } from '~/components-shadcn/popover';\nimport { Separator } from '~/components-shadcn/separator';\nimport { cn } from '~/utils';\n\nimport type { TableFilterProps } from '..';\n\nexport function TableFilterDropdown({ column, title, options, align = 'start' }: TableFilterProps) {\n  const t = useTranslate();\n  const facets = column?.getFacetedUniqueValues();\n  const selectedValues = new Set(column?.getFilterValue() as string[]);\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div className=\"inline-flex flex-row items-center gap-x-0.5\">\n          <Button\n            title={title}\n            variant=\"ghost\"\n            className={cn('h-5 border-dashed px-1 py-2.5', selectedValues.size > 0 && 'text-green-500!')}\n            onClick={(e) => {\n              if (!selectedValues.size) {\n                return;\n              }\n\n              e.preventDefault();\n              column?.setFilterValue(undefined);\n            }}\n          >\n            {selectedValues.size > 0 ? (\n              <FilterX className={cn('h-3.5 w-3.5')} />\n            ) : (\n              <FilterIcon className={cn('h-3.5 w-3.5')} />\n            )}\n          </Button>\n\n          {selectedValues?.size > 0 && (\n            <>\n              <Separator orientation=\"vertical\" className=\"mr-1 h-4\" />\n              <Badge variant=\"secondary\" className=\"text-muted-foreground cursor-pointer text-xs text-nowrap lg:hidden\">\n                {selectedValues.size}\n              </Badge>\n              <div className=\"hidden space-x-1 lg:flex\">\n                {selectedValues.size > 2 ? (\n                  <Badge variant=\"secondary\" className=\"text-muted-foreground cursor-pointer text-xs text-nowrap\">\n                    {selectedValues.size} {t('selected')}\n                  </Badge>\n                ) : (\n                  options\n                    ?.filter((option) => selectedValues.has(option.value))\n                    .map((option) => (\n                      <Badge\n                        variant=\"secondary\"\n                        key={option.value}\n                        className=\"text-muted-foreground cursor-pointer text-xs\"\n                      >\n                        {option.label}\n                      </Badge>\n                    ))\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-[200px] p-0\" align={align}>\n        <Command>\n          <CommandInput placeholder={title} />\n          <CommandList>\n            <CommandEmpty>{t('No results found')}.</CommandEmpty>\n            <CommandGroup>\n              {options?.map((option) => {\n                const isSelected = selectedValues.has(option.value);\n                return (\n                  <CommandItem\n                    key={option.value}\n                    onSelect={() => {\n                      if (isSelected) {\n                        selectedValues.delete(option.value);\n                      } else {\n                        selectedValues.add(option.value);\n                      }\n                      const filterValues = Array.from(selectedValues);\n                      column?.setFilterValue(filterValues.length ? filterValues : undefined);\n                    }}\n                  >\n                    <div\n                      className={cn(\n                        'border-primary mr-2 flex h-4 w-4 items-center justify-center rounded-sm border',\n                        isSelected ? 'bg-primary text-primary-foreground' : 'opacity-50 [&_svg]:invisible'\n                      )}\n                    >\n                      <CheckIcon className={cn('h-4 w-4')} />\n                    </div>\n                    {option.icon && <option.icon className=\"text-muted-foreground mr-2 h-4 w-4\" />}\n                    <span>{option.label}</span>\n                    {facets?.get(option.value) && (\n                      <span className=\"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs\">\n                        {facets.get(option.value)}\n                      </span>\n                    )}\n                  </CommandItem>\n                );\n              })}\n            </CommandGroup>\n            {selectedValues.size > 0 && (\n              <>\n                <CommandSeparator />\n                <CommandGroup>\n                  <CommandItem\n                    onSelect={() => column?.setFilterValue(undefined)}\n                    className=\"justify-center text-center\"\n                  >\n                    <FilterX size={16} />\n                    {t('Clear filters')}\n                  </CommandItem>\n                </CommandGroup>\n              </>\n            )}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import { useTranslate } from '@refinedev/core';\nimport { FilterIcon, FilterX, Search } from 'lucide-react';\n\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport { Input } from '~/components-shadcn/input';\nimport { Popover, PopoverContent, PopoverTrigger } from '~/components-shadcn/popover';\nimport { Separator } from '~/components-shadcn/separator';\nimport { cn } from '~/utils';\n\nimport type { TableFilterProps } from '..';\n\nexport function TableFilterSearchColumn({ column, title, align = 'start' }: TableFilterProps) {\n  const selectedValue = column?.getFilterValue() as string;\n  const t = useTranslate();\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div className=\"inline-flex flex-row items-center gap-x-0.5\">\n          <Button\n            title={title}\n            variant=\"ghost\"\n            className={cn('h-4 border-dashed px-1 py-2.5', selectedValue && 'text-green-500')}\n            onClick={(e) => {\n              if (!selectedValue) {\n                return;\n              }\n\n              e.preventDefault();\n              column?.setFilterValue(undefined);\n            }}\n          >\n            {selectedValue ? <FilterX className={cn('h-3.5 w-3.5')} /> : <FilterIcon className={cn('h-3.5 w-3.5')} />}\n          </Button>\n\n          {selectedValue && (\n            <>\n              <Separator orientation=\"vertical\" className=\"mr-1 h-4\" />\n              <Badge variant=\"secondary\" className=\"text-muted-foreground cursor-pointer text-xs text-nowrap\">\n                {selectedValue}\n              </Badge>\n            </>\n          )}\n        </div>\n      </PopoverTrigger>\n\n      <PopoverContent className=\"w-[200px] overflow-hidden p-0 ring-0\" align={align}>\n        <div className=\"relative\">\n          <div className=\"bg-popover text-popover-foreground flex flex-row items-center px-3\">\n            <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n            <Input\n              defaultValue={selectedValue ?? ''}\n              onChange={(e) => {\n                column?.setFilterValue(e.target.value);\n              }}\n              className={cn(\n                'placeholder:text-muted-foreground h-10 rounded-md border-0 bg-transparent py-3 pl-0 text-sm ring-0 shadow-none outline-hidden focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50'\n              )}\n              placeholder={title}\n            />\n          </div>\n          {selectedValue && (\n            <>\n              <Separator />\n              <div className=\"flex flex-row items-center justify-center p-1\">\n                <Button\n                  variant=\"ghost\"\n                  className=\"h-8 w-full border-dashed px-2\"\n                  onClick={() => {\n                    column?.setFilterValue(undefined);\n                  }}\n                >\n                  <FilterX size={16} />\n                  {t('Clear filters')}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import * as CheckboxPrimitive from '@radix-ui/react-checkbox';\nimport { Check } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      'peer border-primary focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground h-4 w-4 shrink-0 rounded-sm border shadow-sm focus-visible:ring-1 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50',\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn('flex items-center justify-center text-current')}>\n      <Check className=\"h-3 w-3\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n","import { DotsVerticalIcon } from '@radix-ui/react-icons';\nimport { BaseRecord, HttpError, useTranslate } from '@refinedev/core';\nimport { FC, forwardRef, PropsWithChildren } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '~/components-shadcn/dropdown-menu';\nimport { UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { cn } from '~/utils';\n\ntype CheckAllProps = React.ComponentPropsWithoutRef<typeof Checkbox> &\n  PropsWithChildren<{\n    table: UseTableReturnType<BaseRecord, HttpError>;\n    options?: {\n      disabled?: boolean;\n      label: string;\n      className?: string;\n      onClick: () => void;\n    }[];\n  }>;\n\nexport const CheckAll: FC<CheckAllProps> = forwardRef<React.ElementRef<typeof Checkbox>, CheckAllProps>(\n  ({ table, children, options }, ref) => {\n    const t = useTranslate();\n\n    const isSomeSelected = table.getIsSomeRowsSelected();\n    const isAllSelected = table.getIsAllPageRowsSelected();\n\n    return (\n      <>\n        <Checkbox\n          ref={ref}\n          checked={isSomeSelected ? 'indeterminate' : isAllSelected}\n          onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n          className=\"ml-2\"\n          aria-label={t('Select all')}\n        />\n        {children ||\n          (Array.isArray(options) && options.length && (\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button disabled={!(isSomeSelected || isAllSelected)} size={'icon'} variant={'ghost'}>\n                  <DotsVerticalIcon className={cn('h-4 w-4', (isSomeSelected || isAllSelected) && 'text-green-500')} />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"start\">\n                <DropdownMenuLabel>{t('Bulk Actions')}</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                {!children && Array.isArray(options) && options?.length > 0\n                  ? options.map((option, key) => (\n                      <DropdownMenuItem\n                        key={key}\n                        onSelect={option.onClick}\n                        className={cn(option?.className)}\n                        disabled={option?.disabled}\n                      >\n                        {option.label}\n                      </DropdownMenuItem>\n                    ))\n                  : children}\n              </DropdownMenuContent>\n            </DropdownMenu>\n          ))}\n      </>\n    );\n  }\n);\n\nCheckAll.displayName = 'CheckAll';\n","import { ChevronLeftIcon, ChevronRightIcon, DoubleArrowLeftIcon, DoubleArrowRightIcon } from '@radix-ui/react-icons';\nimport { BaseRecord, useTranslate } from '@refinedev/core';\n\nimport { Button } from '~/components-shadcn/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '~/components-shadcn/select';\nimport { DEFAULT_PAGE_SIZE } from '~/config';\nimport { UseTableReturnType as Table } from '~/lib/refinedev-react-table';\n\ninterface DataTablePaginationProps<TData extends BaseRecord = BaseRecord> {\n  table: Table<TData>;\n}\n\nexport const Pagination = <TData extends BaseRecord = BaseRecord>({ table }: DataTablePaginationProps<TData>) => {\n  const t = useTranslate();\n\n  return (\n    <>\n      <div className=\"sm-gap-y-0 bg-background sticky bottom-4 mt-0! flex flex-col items-center justify-between gap-y-4 pt-4 sm:flex-row\">\n        <div className=\"text-muted-foreground flex-1 text-sm\">\n          {table.getFilteredSelectedRowModel().rows.length} of {table.getFilteredRowModel().rows.length} row(s)\n          selected.\n        </div>\n        <div className=\"relative flex flex-col-reverse items-center gap-y-4 space-x-6 sm:flex-row sm:gap-y-0 lg:space-x-8\">\n          <p className=\"text-sm font-medium\">Total: {table?.refineCore?.tableQuery?.data?.total ?? 0}</p>\n          <div className=\"flex items-center space-x-2\">\n            <p className=\"text-sm font-medium\">Rows per page</p>\n            <Select\n              value={`${table.getState().pagination.pageSize}`}\n              onValueChange={(value) => {\n                table.setPageSize(Number(value));\n              }}\n            >\n              <SelectTrigger className=\"h-8 w-[70px]\">\n                <SelectValue placeholder={table.getState().pagination.pageSize} />\n              </SelectTrigger>\n              <SelectContent>\n                {[DEFAULT_PAGE_SIZE, 30, 40, 50, 100].map((pageSize) => (\n                  <SelectItem key={pageSize} value={`${pageSize}`}>\n                    {pageSize}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"flex w-fit items-center justify-center text-sm font-medium\">\n            Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount()}\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              className=\"hidden h-8 w-8 p-0 lg:flex\"\n              onClick={() => table.setPageIndex(0)}\n              disabled={!table.getCanPreviousPage()}\n            >\n              <span className=\"sr-only\">Go to first page</span>\n              <DoubleArrowLeftIcon className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              className=\"h-8 w-8 p-0\"\n              onClick={() => table.previousPage()}\n              disabled={!table.getCanPreviousPage()}\n            >\n              <span className=\"sr-only\">{t('Go to previous page')}</span>\n              <ChevronLeftIcon className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              className=\"h-8 w-8 p-0\"\n              onClick={() => table.nextPage()}\n              disabled={!table.getCanNextPage()}\n            >\n              <span className=\"sr-only\">{t('Go to next page')}</span>\n              <ChevronRightIcon className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              className=\"hidden h-8 w-8 p-0 lg:flex\"\n              onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n              disabled={!table.getCanNextPage()}\n            >\n              <span className=\"sr-only\">{t('Go to last page')}</span>\n              <DoubleArrowRightIcon className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div className=\"bg-background fixed bottom-0 m-0! h-4 w-full\" />\n    </>\n  );\n};\n\nPagination.displayName = 'Pagination';\n","import { CaretDownIcon, CaretUpIcon } from '@radix-ui/react-icons';\nimport type { BaseRecord } from '@refinedev/core';\n\nimport { cn } from '~/utils';\n\nimport type { TableFilterProps } from '..';\n\nexport const SortAction = <TData extends BaseRecord = BaseRecord>({\n  column,\n}: Pick<TableFilterProps<TData>, 'column'>) => {\n  return (\n    <div\n      className=\"cursor-pointer\"\n      onClick={() => {\n        column?.toggleSorting(column?.getIsSorted() === 'asc');\n      }}\n    >\n      <div className=\"inline-flex flex-col\">\n        <CaretUpIcon className={cn('-mb-1.5 h-5 w-5', column?.getIsSorted() === 'asc' ? 'text-green-500!' : '')} />\n        <CaretDownIcon className={cn('-mt-1.5 h-5 w-5', column?.getIsSorted() === 'desc' ? 'text-green-500!' : '')} />\n      </div>\n    </div>\n  );\n};\n","import { CheckIcon } from '@radix-ui/react-icons';\nimport { useTranslate } from '@refinedev/core';\nimport { FilterIcon, FilterX } from 'lucide-react';\n\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from '~/components-shadcn/command';\nimport { Popover, PopoverContent, PopoverTrigger } from '~/components-shadcn/popover';\nimport { Separator } from '~/components-shadcn/separator';\nimport { cn } from '~/utils';\n\nimport type { TableFilterProps } from '..';\n\nexport function TableFilterRadio({ column, title, options, align = 'start' }: TableFilterProps) {\n  const t = useTranslate();\n  const selectedValue = column?.getFilterValue() as string;\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <div className=\"inline-flex flex-row items-center gap-x-0.5\">\n          <Button\n            title={title}\n            variant=\"ghost\"\n            className={cn('h-5 border-dashed px-1 py-2.5', selectedValue && 'text-green-500!')}\n            onClick={(e) => {\n              if (!selectedValue) {\n                return;\n              }\n\n              e.preventDefault();\n              column?.setFilterValue(undefined);\n            }}\n          >\n            {selectedValue ? <FilterX className={cn('h-3.5 w-3.5')} /> : <FilterIcon className={cn('h-3.5 w-3.5')} />}\n          </Button>\n\n          {selectedValue && (\n            <>\n              <Separator orientation=\"vertical\" className=\"mr-1 h-4\" />\n              <Badge\n                variant=\"secondary\"\n                className=\"text-muted-foreground cursor-pointer text-xs text-nowrap capitalize\"\n              >\n                {selectedValue}\n              </Badge>\n            </>\n          )}\n        </div>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-[200px] p-0\" align={align}>\n        <Command>\n          <CommandInput placeholder={title} />\n          <CommandList>\n            <CommandEmpty>{t('No results found')}.</CommandEmpty>\n            <CommandGroup>\n              {options?.map((option) => {\n                const isSelected = selectedValue === option.value;\n                return (\n                  <CommandItem\n                    key={option.value}\n                    onSelect={() => {\n                      column?.setFilterValue(option.value);\n                    }}\n                  >\n                    <div\n                      className={cn(\n                        'border-primary mr-2 flex h-4 w-4 items-center justify-center rounded-sm border',\n                        isSelected ? 'bg-primary text-primary-foreground' : 'opacity-50 [&_svg]:invisible'\n                      )}\n                    >\n                      <CheckIcon className={cn('h-4 w-4')} />\n                    </div>\n                    {option.icon && <option.icon className=\"text-muted-foreground mr-2 h-4 w-4\" />}\n                    <span>{option.label}</span>\n                  </CommandItem>\n                );\n              })}\n            </CommandGroup>\n            {selectedValue && (\n              <>\n                <CommandSeparator />\n                <CommandGroup>\n                  <CommandItem\n                    onSelect={() => column?.setFilterValue(undefined)}\n                    className=\"justify-center text-center\"\n                  >\n                    <FilterX size={16} />\n                    {t('Clear filters')}\n                  </CommandItem>\n                </CommandGroup>\n              </>\n            )}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import { DropdownMenuTrigger } from '@radix-ui/react-dropdown-menu';\nimport { MixerHorizontalIcon } from '@radix-ui/react-icons';\nimport { useTranslate } from '@refinedev/core';\nimport { Table } from '@tanstack/react-table';\nimport { FC, useMemo } from 'react';\n\nimport { Button } from '~/components-shadcn/button';\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n} from '~/components-shadcn/dropdown-menu';\n\ninterface DataTableViewOptionsProps<TData> {\n  table: Table<TData>;\n}\n\nexport const DataTableViewOptions = <TData,>({\n  table,\n}: DataTableViewOptionsProps<TData>): ReturnType<FC<DataTableViewOptionsProps<TData>>> => {\n  const t = useTranslate();\n  const columns = useMemo(() => {\n    return table.getAllColumns().filter((column) => typeof column.accessorFn !== 'undefined' && column.getCanHide());\n  }, [table]);\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"dashed\" className=\"ml-auto hidden h-8 lg:flex\">\n          <MixerHorizontalIcon className=\"mr-2 h-4 w-4\" />\n          {t('Columns')}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-[150px]\">\n        <DropdownMenuLabel>{t('Toggle columns')}</DropdownMenuLabel>\n        <DropdownMenuSeparator />\n        {columns.map((column) => {\n          return (\n            <DropdownMenuCheckboxItem\n              key={column.id}\n              className=\"capitalize\"\n              checked={column.getIsVisible()}\n              onCheckedChange={(value) => column.toggleVisibility(value)}\n              onSelect={(event) => event.preventDefault()}\n            >\n              {column?.columnDef?.header?.toString() || t(column.id)}\n            </DropdownMenuCheckboxItem>\n          );\n        })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nDataTableViewOptions.displayName = 'DataTableViewOptions';\n","import { Table } from '@tanstack/react-table';\nimport { cloneElement, ReactNode, useCallback } from 'react';\n\nimport { DataTableViewOptions } from './table-view-options-dropdown';\n\ninterface DataTableToolbarProps<TData> {\n  table: Table<TData>;\n  toolbar?: ReactNode;\n}\n\nexport function DataTableToolbar<TData>({ table, toolbar }: DataTableToolbarProps<TData>) {\n  const appendProps = useCallback((child: ReactNode, index?: number) => {\n    if (!child || typeof child !== 'object' || !('props' in child)) {\n      return child;\n    }\n    return cloneElement(child as React.ReactElement, { key: index, variant: child.props?.variant || 'outline' });\n  }, []);\n\n  return (\n    <div className=\"flex items-center justify-between\">\n      <div className=\"flex flex-1 items-center space-x-2\">\n        {Array.isArray(toolbar) ? toolbar.map((child, index) => appendProps(child, index)) : appendProps(toolbar)}\n      </div>\n      <DataTableViewOptions table={table} />\n    </div>\n  );\n}\n","import { PopoverContentProps } from '@radix-ui/react-popover';\nimport { BaseOption, BaseRecord, HttpError, useTranslate } from '@refinedev/core';\nimport {\n  CellContext,\n  Column,\n  ColumnDef,\n  ColumnDefTemplate,\n  ColumnMeta,\n  flexRender,\n  TableOptionsResolved,\n} from '@tanstack/react-table';\nimport React, { FC, ReactElement, useCallback, useMemo } from 'react';\n\nimport { TableBody, TableCell, TableHead, TableHeader, TableRow, Table as TableUi } from '~/components-shadcn/table';\nimport { DEFAULT_PAGE_SIZE } from '~/config';\nimport { useTable, UseTableProps, UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { TAny } from '~/types';\n\nimport { Loader } from '../components/loader';\nimport { DeleteProvider } from '../providers';\n\nimport { RowAction, RowActions } from './actions';\nimport { CloneAction } from './actions/clone';\nimport { DeleteAction } from './actions/delete';\nimport { EditAction } from './actions/edit';\nimport { ShowAction } from './actions/show';\nimport { TableFilterDateRangePickerFilter, TableFilterDropdown, TableFilterSearchColumn } from './fields';\nimport { CheckAll } from './fields/checkall';\nimport { Pagination } from './fields/pagination';\nimport { SortAction } from './fields/sort';\nimport { TableFilterRadio } from './fields/table-filter-radio';\nimport { DataTableToolbar } from './toolbar';\n\nexport type TableListFilterOption = BaseOption & {\n  icon?: React.ComponentType<{ className?: string }>;\n};\n\nexport type TableFilterProps<TData extends BaseRecord = BaseRecord> = {\n  column: Column<TData>;\n  title?: string;\n  numberOfMonths?: number;\n  align?: PopoverContentProps['align'];\n  options?: TableListFilterOption[];\n};\n\nexport type ColumnProps<\n  TData extends BaseRecord = BaseRecord,\n  TValue = unknown,\n  TError extends HttpError = HttpError,\n> = {\n  id: string;\n  accessorKey: string;\n  enableSorting?: boolean;\n  enableHiding?: boolean;\n  header?:\n    | string\n    | FC<{\n        table: UseTableReturnType<TData, TError>;\n      }>;\n  cell?: ColumnDefTemplate<CellContext<TData, TValue>>;\n  children?: ReactElement;\n  filter?: FC<TableFilterProps<TData>>;\n  meta?: ColumnMeta<TData, TValue>;\n};\n\ntype CustomColumnDef<TData extends BaseRecord = BaseRecord, TError extends HttpError = HttpError> = ColumnDef<\n  TData,\n  TError\n> &\n  Pick<ColumnProps<TData, TError>, 'filter'>;\n\nexport type TableProps<TData extends BaseRecord = BaseRecord, TError extends HttpError = HttpError> = Partial<\n  UseTableProps<TData, TError, TData>\n> & {\n  children?: ReactElement<ColumnProps<TData, TError>>[];\n  showHeader?: boolean;\n  toolbar?: React.ReactNode;\n};\n\nexport function Table<\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TData extends BaseRecord = TQueryFnData,\n  TError extends HttpError = HttpError,\n>({ children, showHeader = true, columns = [], refineCoreProps, toolbar, ...props }: TableProps<TData, TError>) {\n  const t = useTranslate();\n  const mapColumn = useCallback(\n    ({\n      id,\n      accessorKey,\n      header,\n      enableSorting,\n      enableHiding,\n      filter,\n      cell,\n      meta,\n    }: ColumnProps<TData, TError>): ColumnDef<TData> => {\n      const column: TAny = {\n        id,\n        header,\n        accessorKey,\n        enableSorting: enableSorting ?? false,\n        enableHiding: enableHiding ?? false,\n        enableColumnFilter: true,\n        enableResizing: true,\n        filter,\n        meta,\n      };\n\n      if (cell) {\n        column['cell'] = cell;\n      }\n\n      return column;\n    },\n    []\n  );\n\n  columns = useMemo<ColumnDef<TData>[]>(() => {\n    if (Array.isArray(children)) {\n      return (children as ReactElement[]).map((value: ReactElement) => value.props).map(mapColumn);\n    }\n\n    return [];\n  }, [children, mapColumn]);\n\n  const table = useTable({\n    columns,\n    refineCoreProps: {\n      initialPageSize: DEFAULT_PAGE_SIZE,\n      ...refineCoreProps,\n    },\n    ...props,\n  });\n\n  const tableOptions = useMemo<TableOptionsResolved<TData>>(() => table.options, [table]);\n\n  const isFilterable = useMemo<boolean>(\n    () => Boolean(tableOptions.enableColumnFilters || tableOptions?.enableFilters),\n    [tableOptions]\n  );\n\n  return (\n    <DeleteProvider>\n      <div className=\"mt-1 space-y-4\">\n        <DataTableToolbar table={table} toolbar={toolbar} />\n        <div className=\"border-border rounded-md border\">\n          <TableUi>\n            {showHeader && (\n              <TableHeader>\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => {\n                      const columnDef = header.column.columnDef as CustomColumnDef<TData, TError>;\n                      return (\n                        <TableHead key={header.id}>\n                          <div className=\"inline-flex flex-row items-center gap-x-2.5\">\n                            {header.isPlaceholder\n                              ? null\n                              : flexRender(header.column.columnDef.header, header.getContext())}\n                            {tableOptions.enableSorting && columnDef.enableSorting && (\n                              <SortAction column={header.column} />\n                            )}\n                            {isFilterable &&\n                              columnDef?.filter &&\n                              columnDef.filter({\n                                column: header.column,\n                                title: `${columnDef.header} Filter`,\n                              })}\n                          </div>\n                        </TableHead>\n                      );\n                    })}\n                  </TableRow>\n                ))}\n              </TableHeader>\n            )}\n            <TableBody>\n              {table.refineCore.tableQuery.isLoading ? (\n                <TableRow>\n                  <TableCell colSpan={columns.length} className=\"h-24 text-center text-nowrap\">\n                    <div className=\"flex flex-row items-center justify-center\">\n                      <Loader className=\"text-primary h-4\" />\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ) : table.getRowModel().rows?.length ? (\n                table.getRowModel().rows.map((row: TAny) => (\n                  <TableRow key={row.id} data-state={row.getIsSelected() && 'selected'}>\n                    {row.getVisibleCells().map((cell: TAny) => (\n                      <TableCell key={cell.id} className=\"text-nowrap\">\n                        {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))\n              ) : (\n                <TableRow>\n                  <TableCell colSpan={columns.length} className=\"h-24 text-center\">\n                    {t('No results')}.\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </TableUi>\n        </div>\n        <Pagination table={table} />\n      </div>\n    </DeleteProvider>\n  );\n}\n\nfunction TableColumn<TData extends BaseRecord = BaseRecord, TError extends HttpError = HttpError>(\n  props: ColumnProps<TData, TError>\n): ReactElement {\n  return props.children as ReactElement;\n}\n\nTable.Column = TableColumn;\nTable.CheckAll = CheckAll;\nTable.Actions = RowActions;\nTable.Action = RowAction;\nTable.EditAction = EditAction;\nTable.ShowAction = ShowAction;\nTable.CloneAction = CloneAction;\nTable.DeleteAction = DeleteAction;\nTable.Filter = {\n  DateRangePicker: TableFilterDateRangePickerFilter,\n  Dropdown: TableFilterDropdown,\n  Search: TableFilterSearchColumn,\n  Radio: TableFilterRadio,\n};\n\nTable.displayName = 'Table';\n","import { Link } from '@remix-run/react';\n\nimport { Button } from '~/components-shadcn/button';\n\nexport function PermissionDenied() {\n  return (\n    <div className=\"relative h-screen font-['sans-serif']\">\n      <div className=\"absolute top-1/2 left-1/2 w-full max-w-[520px] -translate-x-1/2 -translate-y-1/2 text-center leading-[1.4]\">\n        <div className=\"relative z-[-1] mx-auto mt-0 mb-5 h-[200px]\">\n          <h1 className=\"text-forceground absolute top-1/2 left-1/2 m-0 -translate-x-1/2 -translate-y-1/2 text-[236px] font-extralight uppercase\">\n            Oops!\n          </h1>\n          <h2 className=\"text-forceground bg-background absolute inset-x-0 bottom-0 m-auto inline-block px-[5px] pt-5 text-[28px] font-normal capitalize\">\n            <span className=\"bg-background absolute -top-1 -right-1 -bottom-1 -left-1 z-10 blur-xl\" />\n            {'403 - Permission Denied'}\n          </h2>\n        </div>\n        <p className=\"mb-8 text-xl text-red-500\">Sorry, You don&apos;t have permission to access this page.</p>\n\n        <Link prefetch=\"intent\" viewTransition to=\"/api/auth/logout\">\n          <Button>Back To Login</Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { Link } from '@remix-run/react';\n\nimport { Button } from '~/components-shadcn/button';\n\nexport function NotFound() {\n  return (\n    <div className=\"relative h-screen font-['sans-serif']\">\n      <div className=\"absolute top-1/2 left-1/2 w-full max-w-[520px] -translate-x-1/2 -translate-y-1/2 text-center leading-[1.4]\">\n        <div className=\"relative z-[-1] mx-auto mt-0 mb-5 h-[200px]\">\n          <h1 className=\"text-forceground absolute top-1/2 left-1/2 m-0 -translate-x-1/2 -translate-y-1/2 text-[236px] font-extralight uppercase\">\n            Oops!\n          </h1>\n          <h2 className=\"text-forceground bg-background absolute inset-x-0 bottom-0 m-auto inline-block px-[5px] pt-5 text-[28px] font-normal capitalize\">\n            <span className=\"bg-background absolute -top-1 -right-1 -bottom-1 -left-1 z-10 blur-xl\" />\n            {\"404 - The Page can't be found\"}\n          </h2>\n        </div>\n        <p className=\"mb-8 text-xl text-red-500\">Sorry, You are looking for something that isn&apos;t here.</p>\n\n        <Link prefetch=\"intent\" viewTransition to=\"/\">\n          <Button>Back To Home</Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { useBack } from '@refinedev/core';\nimport { ErrorResponse } from '@remix-run/node';\nimport { isRouteErrorResponse, useRouteError } from '@remix-run/react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { useMountEffect } from '~/hooks';\n\nexport function PageError({ error }: { error?: Error | ErrorResponse | { message: string } | unknown }) {\n  const routeError = useRouteError();\n  const back = useBack();\n\n  if (!error) {\n    error = routeError;\n  }\n\n  useMountEffect(() => {\n    console.error('@PageError', error);\n  });\n\n  return (\n    <div className=\"relative h-screen flex-1 font-['sans-serif']\">\n      <div className=\"absolute top-1/2 left-1/2 w-full -translate-x-1/2 -translate-y-1/2 px-10 text-center leading-[1.4]\">\n        <div className=\"relative z-[-1] mx-auto mt-0 mb-5 h-[200px]\">\n          <h1 className=\"text-forceground absolute top-1/2 left-1/2 m-0 -translate-x-1/2 -translate-y-1/2 text-[236px] font-extralight uppercase\">\n            Oops!\n          </h1>\n          <h2 className=\"text-forceground bg-background absolute inset-x-0 bottom-0 m-auto inline-block max-w-[520px] px-[5px] pt-5 text-[28px] font-normal capitalize\">\n            <span className=\"bg-background absolute -top-1 -right-1 -bottom-1 -left-1 z-10 blur-xl\" />\n            {isRouteErrorResponse(error) ? `${error.status} ${error.statusText}` : 'Something went wrong'}\n          </h2>\n        </div>\n        <p className=\"mb-8 text-xl text-red-500\">{(error as Error).message || 'unknown error'}</p>\n        {/* <pre className=\"mb-8 rounded-lg border p-6 text-left\">{(error as Error).message || 'unknown error'}</pre> */}\n        <Button onClick={back} className=\"mr-3\">\n          Go Back\n        </Button>\n        <Button onClick={() => location.reload()}>Try Again</Button>\n      </div>\n    </div>\n  );\n}\n","import { useBack } from '@refinedev/core';\n\nimport { Button } from '~/components-shadcn/button';\n\nexport function ComingSoon() {\n  const back = useBack();\n\n  return (\n    <div className=\"relative h-full font-['sans-serif']\">\n      <div className=\"absolute top-1/2 left-1/2 w-full max-w-[520px] -translate-x-1/2 -translate-y-1/2 text-center leading-[1.4]\">\n        <div className=\"relative z-[-1] mx-auto mt-0 mb-5 h-[200px]\">\n          <h1 className=\"text-forceground absolute top-1/2 left-1/2 m-0 -translate-x-1/2 -translate-y-1/2 text-[236px] font-extralight uppercase\">\n            Oops!\n          </h1>\n          <h2 className=\"text-forceground bg-background absolute inset-x-0 bottom-0 m-auto inline-block px-[5px] pt-5 text-[28px] font-normal capitalize\">\n            <span className=\"bg-background absolute -top-1 -right-1 -bottom-1 -left-1 z-10 blur-xl\" />\n            {'Coming Soon ...'}\n          </h2>\n        </div>\n        <p className=\"mb-8 text-xl\">Sorry, This page is under construction.</p>\n\n        <Button onClick={back} className=\"mr-3\">\n          Go Back\n        </Button>\n      </div>\n    </div>\n  );\n}\n","/**\n * 错误信息显示\n */\nexport function ErrorMessage({ error }: { error?: Error | string }) {\n  if (!error) {\n    return null;\n  }\n\n  let message = '';\n  if (typeof error === 'string') {\n    message = error;\n  } else if (error instanceof Error) {\n    message = error.message;\n  }\n  return <p className=\"text-destructive text-sm\">{message}</p>;\n}\n","import { Link } from '@remix-run/react';\n\n/** 登录、注册时的隐私政策 */\nexport function PrivacyPolicy() {\n  return (\n    <div className=\"text-muted-foreground [&_a]:hover:text-primary text-center text-xs text-balance [&_a]:underline [&_a]:underline-offset-4\">\n      {'By clicking continue, you agree to our '}\n      <Link prefetch=\"intent\" viewTransition to=\"#\">\n        Privacy Policy\n      </Link>\n      .\n    </div>\n  );\n}\n","import { useFetcher } from '@remix-run/react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { EnumAuthProvider } from '~/constants';\n\nexport const TcskOAuth2 = ({ redirectTo }: { redirectTo: string }) => {\n  const fetcher = useFetcher();\n  const loading = fetcher.state !== 'idle';\n\n  const handleLogin = () => {\n    fetcher.submit({ redirectTo }, { method: 'POST', action: `/api/auth/${EnumAuthProvider.tcshuke}` });\n  };\n\n  return (\n    <Button\n      type=\"button\"\n      variant=\"outline\"\n      className=\"w-full border-green-500 text-green-500!\"\n      onClick={handleLogin}\n      loading={loading}\n    >\n      {'Continue with TCSK'}\n    </Button>\n  );\n};\n","import { Form, Link, useActionData, useNavigation, useSearchParams } from '@remix-run/react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { Card, CardContent } from '~/components-shadcn/card';\nimport { Input } from '~/components-shadcn/input';\nimport { Label } from '~/components-shadcn/label';\n\nimport { ErrorMessage } from './error';\nimport { PrivacyPolicy } from './privacy-policy';\nimport { TcskOAuth2 } from './tcsk-oauth2';\n\n// 定义错误类型\ninterface ActionData {\n  errors?: {\n    email?: string[];\n    password?: string[];\n    default?: string[];\n  };\n}\n\n// 登录表单\nexport function LoginForm() {\n  const { errors } = useActionData<ActionData>() || {};\n  const [searchParams] = useSearchParams();\n  const redirectTo = searchParams.get('redirectTo') || '/';\n  const navigation = useNavigation();\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      <Card className=\"overflow-hidden\">\n        <CardContent className=\"grid p-0 md:grid-cols-2\">\n          <Form method=\"post\" className=\"p-6 md:p-8\">\n            <input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n\n            <div className=\"flex flex-col gap-6\">\n              <div className=\"flex flex-col\">\n                <h1 className=\"flex items-center text-2xl font-bold\">Welcome back</h1>\n                <p className=\"text-muted-foreground text-balance\">Login to your OSS Inc. account</p>\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input\n                  name=\"email\"\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Goodman@example.com\"\n                  defaultValue={searchParams.get('email') || 'administrator@goodman.com'}\n                  required\n                  autoFocus\n                  autoComplete=\"email\"\n                />\n                <ErrorMessage error={errors?.email?.[0]} />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <div className=\"flex items-center\">\n                  <Label htmlFor=\"password\">Password</Label>\n                  <Link\n                    prefetch=\"intent\"\n                    viewTransition\n                    to=\"#\"\n                    className=\"ml-auto text-sm underline-offset-2 hover:underline\"\n                  >\n                    Forgot your password?\n                  </Link>\n                </div>\n                <Input\n                  name=\"password\"\n                  id=\"password\"\n                  type=\"password\"\n                  required\n                  autoComplete=\"current-password\"\n                  minLength={6}\n                  maxLength={50}\n                  defaultValue=\"Abc@12345678\"\n                />\n                <ErrorMessage error={errors?.password?.[0]} />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Button type=\"submit\" className=\"w-full\" disabled={navigation.state === 'submitting'}>\n                  Login\n                </Button>\n                <ErrorMessage error={errors?.default?.[0]} />\n              </div>\n\n              <div className=\"after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t\">\n                <span className=\"bg-background text-muted-foreground relative z-10 px-2\">or</span>\n              </div>\n\n              <TcskOAuth2 redirectTo={redirectTo} />\n\n              <div className=\"text-center text-sm\">\n                {`Don't have an account? `}\n                <Link prefetch=\"intent\" viewTransition to=\"/register\" replace className=\"underline underline-offset-4\">\n                  Sign up\n                </Link>\n              </div>\n            </div>\n          </Form>\n          <div className=\"bg-muted relative hidden md:block\">\n            <img src=\"/logo.png\" alt=\"\" className=\"absolute inset-0 h-full w-full object-cover dark:brightness-[0.3]\" />\n          </div>\n        </CardContent>\n      </Card>\n\n      <PrivacyPolicy />\n    </div>\n  );\n}\n","import { Form, Link, useActionData, useNavigation, useSearchParams } from '@remix-run/react';\nimport { GalleryVerticalEnd } from 'lucide-react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { Input } from '~/components-shadcn/input';\nimport { Label } from '~/components-shadcn/label';\n\nimport { ErrorMessage } from './error';\nimport { PrivacyPolicy } from './privacy-policy';\nimport { TcskOAuth2 } from './tcsk-oauth2';\n\n// 定义错误类型\ninterface ActionData {\n  errors?: {\n    email?: string[];\n    code?: string[];\n    password?: string[];\n    default?: string[];\n  };\n}\n\n// 注册表单\nexport function RegisterForm() {\n  const { errors } = useActionData<ActionData>() || {};\n  const [searchParams] = useSearchParams();\n  const redirectTo = searchParams.get('redirectTo') || '/';\n  const navigation = useNavigation();\n  // const { open } = useNotification();\n  // const [isSending, setIsSending] = useState(false);\n  // const [countdown, setCountdown] = useState(0);\n\n  // async function sendVerificationCode(email: string) {\n  //   setIsSending(true);\n  //   try {\n  //     const response = await fetch('/api/send-code', {\n  //       method: 'POST',\n  //       headers: { 'Content-Type': 'application/json' },\n  //       body: JSON.stringify({ email }),\n  //     });\n\n  //     const data = await response.json();\n\n  //     if (!response.ok) {\n  //       throw new Error(data.error || '发送验证码失败');\n  //     }\n\n  //     open?.({\n  //       key: 'register-email-sent',\n  //       message: '验证码已发送',\n  //       description: '请查看您的邮箱',\n  //       type: 'success',\n  //     });\n\n  //     // 开始倒计时\n  //     setCountdown(60);\n  //     const timer = setInterval(() => {\n  //       setCountdown((prev) => {\n  //         if (prev <= 1) {\n  //           clearInterval(timer);\n  //           return 0;\n  //         }\n  //         return prev - 1;\n  //       });\n  //     }, 1000);\n  //   } catch (error) {\n  //     open?.({\n  //       key: 'register-email-sent',\n  //       message: 'Error',\n  //       description: error instanceof Error ? error.message : '发送验证码失败',\n  //       type: 'error',\n  //     });\n  //   } finally {\n  //     setIsSending(false);\n  //   }\n  // }\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      <Form method=\"post\">\n        <input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n\n        <div className=\"flex flex-col gap-6\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Link prefetch=\"intent\" viewTransition to=\"/\" className=\"flex flex-col items-center gap-2 font-medium\">\n              <div className=\"flex h-8 w-8 items-center justify-center rounded-md\">\n                <GalleryVerticalEnd className=\"size-6\" />\n              </div>\n              <span className=\"sr-only\">Remix Inc.</span>\n            </Link>\n            <h1 className=\"text-xl font-bold\">Welcome to Signup OSS Inc.</h1>\n            <div className=\"text-center text-sm\">\n              {`Already has an account? `}\n              <Link prefetch=\"intent\" viewTransition to=\"/login\" replace className=\"underline underline-offset-4\">\n                Sign in\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"flex flex-col gap-6\">\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  name=\"email\"\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Goodman@example.com\"\n                  required\n                  autoFocus\n                  autoComplete=\"email\"\n                  defaultValue=\"administrator@goodman.com\"\n                />\n                {/* <Button\n                  type=\"button\"\n                  disabled={isSending || countdown > 0 || !field.value}\n                  variant=\"outline\"\n                  onClick={sendVerificationCode}\n                >\n                  {countdown > 0 ? `${countdown}s` : 'Send Code'}\n                </Button> */}\n              </div>\n              <ErrorMessage error={errors?.email?.[0]} />\n            </div>\n\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"code\">Validate Code</Label>\n              <Input name=\"code\" id=\"code\" type=\"code\" required minLength={6} maxLength={6} />\n              <ErrorMessage error={errors?.code?.[0]} />\n            </div>\n\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                name=\"password\"\n                id=\"password\"\n                type=\"password\"\n                required\n                autoComplete=\"new-password\"\n                minLength={6}\n                maxLength={50}\n                defaultValue=\"Abc@12345678\"\n              />\n              <ErrorMessage error={errors?.password?.[0]} />\n            </div>\n\n            <div className=\"grid gap-2\">\n              <Button type=\"submit\" className=\"w-full\" disabled={navigation.state === 'submitting'}>\n                Register\n              </Button>\n              <ErrorMessage error={errors?.default?.[0]} />\n            </div>\n          </div>\n\n          <div className=\"after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t\">\n            <span className=\"bg-background text-muted-foreground relative z-10 px-2\">or</span>\n          </div>\n\n          <TcskOAuth2 redirectTo={redirectTo} />\n        </div>\n      </Form>\n\n      <PrivacyPolicy />\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { cn } from '~/utils';\n\ninterface TypographyProps extends React.HTMLAttributes<HTMLElement> {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function H1({ children, className, ...props }: TypographyProps) {\n  return (\n    <h1 className={cn('scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl', className)} {...props}>\n      {children}\n    </h1>\n  );\n}\n\nexport function H2({ children, className, ...props }: TypographyProps) {\n  return (\n    <h2\n      className={cn('mt-10 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight first:mt-0', className)}\n      {...props}\n    >\n      {children}\n    </h2>\n  );\n}\n\nexport function H3({ children, className, ...props }: TypographyProps) {\n  return (\n    <h3 className={cn('mt-8 scroll-m-20 text-2xl font-semibold tracking-tight', className)} {...props}>\n      {children}\n    </h3>\n  );\n}\n\nexport function H4({ children, className, ...props }: TypographyProps) {\n  return (\n    <h4 className={cn('scroll-m-20 text-xl font-semibold tracking-tight', className)} {...props}>\n      {children}\n    </h4>\n  );\n}\n\nexport function P({ children, className, ...props }: TypographyProps) {\n  return (\n    <p className={cn('leading-7 not-first:mt-6', className)} {...props}>\n      {children}\n    </p>\n  );\n}\n\nexport function Blockquote({ children, className, ...props }: TypographyProps) {\n  return (\n    <blockquote className={cn('mt-6 border-l-2 pl-6 italic', className)} {...props}>\n      {children}\n    </blockquote>\n  );\n}\n\nexport function List({ children, className, ...props }: TypographyProps) {\n  return (\n    <ul className={cn('my-6 ml-6 list-disc [&>li]:mt-2', className)} {...props}>\n      {children}\n    </ul>\n  );\n}\n\nexport function InlineCode({ children, className, ...props }: TypographyProps) {\n  return (\n    <code\n      className={cn('bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold', className)}\n      {...props}\n    >\n      {children}\n    </code>\n  );\n}\n\nexport function Lead({ children, className, ...props }: TypographyProps) {\n  return (\n    <p className={cn('text-muted-foreground text-xl', className)} {...props}>\n      {children}\n    </p>\n  );\n}\n\nexport function Large({ children, className, ...props }: TypographyProps) {\n  return (\n    <div className={cn('text-lg font-semibold', className)} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function Small({ children, className, ...props }: TypographyProps) {\n  return (\n    <small className={cn('text-sm leading-none font-medium', className)} {...props}>\n      {children}\n    </small>\n  );\n}\n\nexport function Muted({ children, className, ...props }: TypographyProps) {\n  return (\n    <p className={cn('text-muted-foreground text-sm', className)} {...props}>\n      {children}\n    </p>\n  );\n}\n\n// eslint-disable-next-line react/prop-types\nexport function Image({ src, alt, className, ...props }: React.ImgHTMLAttributes<HTMLImageElement>) {\n  return (\n    <img\n      src={src || '/placeholder.svg'}\n      alt={alt}\n      className={cn('w-full rounded-lg object-cover', className)}\n      {...props}\n    />\n  );\n}\n","import { Fullscreen } from 'lucide-react';\n\nimport { Button } from '~/components-shadcn/button';\n\nexport const FullscreenSwitcher = () => {\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => {\n        if (document.fullscreenElement) {\n          document.exitFullscreen();\n        } else {\n          document.documentElement.requestFullscreen();\n        }\n      }}\n    >\n      <Fullscreen />\n    </Button>\n  );\n};\n","import { useTranslation } from '@refinedev/core';\nimport { useRouteLoaderData, useSearchParams } from '@remix-run/react';\nimport { Languages } from 'lucide-react';\n\nimport { Button } from '~/components-shadcn/button';\nimport { RootLoaderData } from '~/root';\nimport { canUseDOM, cn } from '~/utils';\n\nexport function LanguageSwitcher() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { locale } = useRouteLoaderData('root') as RootLoaderData;\n  const { changeLocale, getLocale } = useTranslation();\n\n  const currentLocale = canUseDOM() ? getLocale() : locale;\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      type=\"submit\"\n      onClick={async () => {\n        const nextLocale = currentLocale === 'zh' ? 'en' : 'zh';\n        await changeLocale(nextLocale);\n\n        searchParams.set('locale', nextLocale);\n        setSearchParams(searchParams, { replace: true });\n      }}\n    >\n      <Languages className={cn('transition-all', currentLocale === 'en' && 'scale-x-[-1]')} />\n    </Button>\n  );\n}\n","import { useMatches, useSearchParams } from '@remix-run/react';\nimport { Filter, FilterX, Search } from 'lucide-react';\n\nimport { BackButton } from '~/component-refine/buttons/back';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport { Separator } from '~/components-shadcn/separator';\nimport { useKBar } from '~/lib/refinedev-kbar';\nimport { HandleFunction } from '~/types';\nimport { cn } from '~/utils';\n\nimport { FullscreenSwitcher } from './switcher-fullscreen';\nimport { LanguageSwitcher } from './switcher-language';\n\n/**\n * 工具栏\n */\nexport function NavTools() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const matches = useMatches();\n  const { query } = useKBar();\n\n  const lastMatch = matches[matches.length - 1];\n  const handle = lastMatch.handle as HandleFunction;\n\n  const defaultTools = (\n    <>\n      <div\n        className=\"flex h-8 cursor-pointer items-center gap-2 rounded-full border px-2 text-sm opacity-50\"\n        onClick={() => query.toggle()}\n      >\n        <Search className=\"size-4\" />\n        <span>Search...</span>\n        <Badge className=\"size-4 w-auto rounded-full px-1\">⌘K</Badge>\n      </div>\n      <BackButton variant=\"ghost\" size=\"icon\" />\n      <LanguageSwitcher />\n      <FullscreenSwitcher />\n    </>\n  );\n\n  const { uiTools, uiFilter } = handle || {};\n  if (!uiTools && !uiFilter) {\n    return <div className=\"flex items-center gap-1\">{defaultTools}</div>;\n  }\n\n  function changeParams(key: string, value: boolean) {\n    if (value) {\n      searchParams.set(key, '1');\n    } else {\n      searchParams.delete(key);\n    }\n    setSearchParams(searchParams, { replace: true });\n  }\n\n  const domUiTools = typeof uiTools === 'function' ? uiTools(lastMatch, matches) : uiTools;\n  const filter = Boolean(searchParams.get('filter'));\n  return (\n    <div className=\"flex items-center gap-1\">\n      {defaultTools}\n\n      {uiFilter && (\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className={cn(filter && 'text-green-500')}\n          onClick={() => changeParams('filter', !filter)}\n        >\n          {filter ? <FilterX /> : <Filter />}\n        </Button>\n      )}\n\n      <Separator orientation=\"vertical\" className=\"h-4\" />\n\n      {domUiTools}\n    </div>\n  );\n}\n","import { useMatches, useSearchParams } from '@remix-run/react';\nimport * as React from 'react';\n\nimport { Sidebar } from '~/components-shadcn/sidebar';\nimport { HandleFunction } from '~/types';\nimport { cn } from '~/utils';\n\n/**\n * 右侧筛选栏\n */\nexport function SidebarRight({ ...props }: React.ComponentProps<typeof Sidebar>) {\n  const [searchParams] = useSearchParams();\n\n  const matches = useMatches();\n  const lastMatch = matches[matches.length - 1];\n  const handle = lastMatch.handle as HandleFunction;\n\n  const { uiFilter } = handle || {};\n  if (!uiFilter) {\n    return null;\n  }\n\n  const isActive = Boolean(searchParams.get('filter'));\n  return (\n    <Sidebar\n      collapsible=\"none\"\n      className={cn('sticky top-0 flex h-svh w-0 border-l transition-all', isActive && 'w-(--sidebar-width)')}\n      {...props}\n    >\n      {typeof uiFilter === 'function' ? uiFilter(lastMatch, matches) : uiFilter}\n    </Sidebar>\n  );\n}\n","import { Outlet, useRouteLoaderData } from '@remix-run/react';\n\nimport { Breadcrumbs } from '~/component-refine';\nimport { SidebarLeft } from '~/components';\nimport { Separator } from '~/components-shadcn/separator';\nimport { SidebarInset, SidebarProvider, SidebarTrigger } from '~/components-shadcn/sidebar';\nimport { loader, type RootLoaderData } from '~/root';\n\nimport { NavTools } from './nav-tools';\nimport { SidebarRight } from './sidebar-right';\n\nexport function Layout() {\n  const { sidebarIsClose } = useRouteLoaderData<typeof loader>('root') as RootLoaderData;\n\n  return (\n    <SidebarProvider open={!sidebarIsClose || sidebarIsClose !== 'true'}>\n      <SidebarLeft />\n      <SidebarInset>\n        <header className=\"bg-background sticky top-0 z-10 flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12\">\n          <div className=\"flex items-center gap-2 px-4\">\n            <SidebarTrigger className=\"-ml-1\" />\n            <Separator orientation=\"vertical\" className=\"mr-2 h-4\" />\n            <Breadcrumbs />\n          </div>\n          <div className=\"ml-auto px-3\">\n            <NavTools />\n          </div>\n        </header>\n        <div className=\"flex max-w-[calc(100vw-var(--sidebar-width))] flex-1 flex-col gap-4 p-4 pt-0 transition-[max-width] duration-200 ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:max-w-[calc(100vw-var(--sidebar-width-icon))] group-data-[collapsible=offcanvas]/sidebar-wrapper:max-w-[100vw]\">\n          <Outlet />\n        </div>\n      </SidebarInset>\n      <SidebarRight />\n    </SidebarProvider>\n  );\n}\n","import { Moon, Sun } from 'lucide-react';\nimport { Theme } from 'remix-themes';\n\n// 主题切换\nexport function ThemeSwitcher({\n  theme,\n  setTheme,\n}: {\n  theme: Theme | null;\n  setTheme: React.Dispatch<React.SetStateAction<Theme | null>>;\n}) {\n  const toggleTheme = () => {\n    const themeNext = theme && theme === Theme.DARK ? Theme.LIGHT : Theme.DARK;\n    setTheme(themeNext);\n    document.documentElement.classList.remove(theme || Theme.LIGHT);\n    document.documentElement.classList.add(themeNext);\n  };\n\n  return (\n    <div className=\"w-full cursor-pointer px-0 py-2 select-none\" onClick={toggleTheme}>\n      <Sun size={16} className=\"absolute scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90\" />\n      <Moon size={16} className=\"absolute scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0\" />\n      <span>&nbsp;</span>\n    </div>\n  );\n}\n","/* eslint-disable import/namespace */\nimport * as Sentry from '@sentry/remix';\nimport { Activity, Bug } from 'lucide-react';\nimport { useRef } from 'react';\nimport { useTheme } from 'remix-themes';\n\nimport {\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from '~/components-shadcn/sidebar';\nimport { useMountEffect } from '~/hooks';\nimport { cn } from '~/utils';\n\nimport { ThemeSwitcher } from './switcher-theme';\n\n// 次要菜单\nconst items = [{ title: 'Service Health Check', url: '/playground/dashboard/health', icon: Activity }];\n\nexport function NavSecondary() {\n  const [theme, setTheme] = useTheme();\n  const buttonRef = useRef(null);\n\n  useMountEffect(() => {\n    if (!buttonRef.current) {\n      return;\n    }\n    const feedback = Sentry.feedbackIntegration({ autoInject: false, colorScheme: theme });\n    feedback.attachTo(buttonRef.current);\n  });\n\n  return (\n    <SidebarGroup className=\"mt-auto opacity-80\">\n      <SidebarGroupContent>\n        <SidebarMenu>\n          {items.map((item) => (\n            <SidebarMenuItem key={item.title}>\n              <SidebarMenuButton asChild size=\"sm\">\n                <a href={item.url}>\n                  <item.icon className={cn(item.title === 'Service Health Check' && 'animate-pulse text-green-500')} />\n                  <span>{item.title}</span>\n                </a>\n              </SidebarMenuButton>\n            </SidebarMenuItem>\n          ))}\n\n          <SidebarMenuItem key=\"sentry-feedback\">\n            <SidebarMenuButton asChild size=\"sm\">\n              <div ref={buttonRef} className=\"cursor-pointer\">\n                <Bug className=\"text-yellow-500\" />\n                <span>Report a Bug</span>\n              </div>\n            </SidebarMenuButton>\n          </SidebarMenuItem>\n\n          <SidebarMenuItem key=\"theme-switch\">\n            <SidebarMenuButton asChild size=\"sm\">\n              <div className=\"cursor-pointer\">\n                <ThemeSwitcher theme={theme} setTheme={setTheme} />\n              </div>\n            </SidebarMenuButton>\n          </SidebarMenuItem>\n        </SidebarMenu>\n      </SidebarGroupContent>\n    </SidebarGroup>\n  );\n}\n","import * as AvatarPrimitive from '@radix-ui/react-avatar';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn('relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full', className)}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image ref={ref} className={cn('aspect-square h-full w-full', className)} {...props} />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn('bg-muted flex h-full w-full items-center justify-center rounded-full', className)}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarFallback, AvatarImage };\n","import { useLogout } from '@refinedev/core';\nimport { useRouteLoaderData } from '@remix-run/react';\nimport { BadgeCheck, Bell, ChevronsUpDown, CreditCard, LogOut } from 'lucide-react';\n\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '~/components-shadcn/dropdown-menu';\nimport { SidebarMenu, SidebarMenuButton, SidebarMenuItem, useSidebar } from '~/components-shadcn/sidebar';\nimport { loader } from '~/root';\n\nexport function NavUser() {\n  const { user } = useRouteLoaderData<typeof loader>('root') || {};\n  const { mutate: logout } = useLogout();\n  const { isMobile } = useSidebar();\n\n  function onLoginout() {\n    logout();\n  }\n\n  return (\n    <SidebarMenu>\n      <SidebarMenuItem>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <SidebarMenuButton\n              size=\"lg\"\n              className=\"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            >\n              <Avatar className=\"h-8 w-8 rounded-lg\">\n                <AvatarImage src={user?.avatar || '/avatar.jpg'} alt={user?.name || ''} />\n                <AvatarFallback className=\"rounded-lg\">{user?.name?.charAt(0) || '?'}</AvatarFallback>\n              </Avatar>\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                <span className=\"truncate font-semibold capitalize\">{user?.name || 'unknown user'}</span>\n                <span className=\"truncate text-xs\">{user?.email || '...'}</span>\n              </div>\n              <ChevronsUpDown className=\"ml-auto size-4\" />\n            </SidebarMenuButton>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            className=\"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg\"\n            side={isMobile ? 'bottom' : 'right'}\n            align=\"end\"\n            sideOffset={4}\n          >\n            <DropdownMenuLabel className=\"p-0 font-normal\">\n              <div className=\"flex items-center gap-2 px-1 py-1.5 text-left text-sm\">\n                <Avatar className=\"h-8 w-8 rounded-lg\">\n                  <AvatarImage src={user?.avatar || '/avatar.jpg'} alt={user?.name || ''} />\n                  <AvatarFallback className=\"rounded-lg\">{user?.name?.charAt(0) || '?'}</AvatarFallback>\n                </Avatar>\n                <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                  <span className=\"truncate font-semibold capitalize\">{user?.name || 'unknown user'}</span>\n                  <span className=\"truncate text-xs\">{user?.email || '...'}</span>\n                </div>\n              </div>\n            </DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuGroup>\n              <DropdownMenuItem>\n                <BadgeCheck />\n                Account\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <CreditCard />\n                Billing\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <Bell />\n                Notifications\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={onLoginout}>\n              <LogOut />\n              <span>Log out</span>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </SidebarMenuItem>\n    </SidebarMenu>\n  );\n}\n","import * as React from 'react';\n\nimport { Sidebar as RefineSidebar } from '~/component-refine';\nimport { NavUser, RoleSwitcher } from '~/components';\nimport { Sidebar, SidebarContent, SidebarFooter, SidebarHeader, SidebarRail } from '~/components-shadcn/sidebar';\n\nimport { NavSecondary } from './nav-secondary';\n\n// 左侧导航栏\nexport function SidebarLeft({ ...props }: React.ComponentProps<typeof Sidebar>) {\n  return (\n    <Sidebar collapsible=\"icon\" {...props}>\n      <SidebarHeader>\n        <RoleSwitcher />\n        {/* <SidebarSearchForm /> */}\n      </SidebarHeader>\n      <SidebarContent>\n        <RefineSidebar />\n        <NavSecondary />\n      </SidebarContent>\n      <SidebarFooter>\n        <NavUser />\n      </SidebarFooter>\n      <SidebarRail />\n    </Sidebar>\n  );\n}\n","import { useRouteLoaderData } from '@remix-run/react';\nimport { ChevronsUpDown, GalleryVerticalEnd, Plus } from 'lucide-react';\nimport * as React from 'react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuTrigger,\n} from '~/components-shadcn/dropdown-menu';\nimport { SidebarMenu, SidebarMenuButton, SidebarMenuItem, useSidebar } from '~/components-shadcn/sidebar';\nimport { rolesAll } from '~/constants';\nimport { RootLoaderData } from '~/root';\nimport { webapi } from '~/utils';\n\nexport function RoleSwitcher() {\n  const { isMobile } = useSidebar();\n  const { user } = (useRouteLoaderData('root') || {}) as RootLoaderData;\n\n  const { role, roles = [] } = user || {};\n  const userRoles = rolesAll.filter((item) => roles.includes(item.value));\n\n  const [activeRole, setActiveRole] = React.useState(\n    rolesAll.find((item) => {\n      return item.value === role;\n    })\n  );\n\n  const switchRole = React.useCallback(async (selectedRole: typeof activeRole) => {\n    try {\n      await webapi.post('/permissions/switch', {\n        role: selectedRole?.value,\n      });\n      setActiveRole(selectedRole);\n\n      location.reload();\n    } catch (error) {\n      console.error(error);\n    }\n  }, []);\n\n  return (\n    <SidebarMenu>\n      <SidebarMenuItem>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <SidebarMenuButton\n              size=\"lg\"\n              className=\"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            >\n              <div className=\"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 shrink-0 items-center justify-center rounded-lg\">\n                <GalleryVerticalEnd className=\"size-4\" />\n              </div>\n              <div className=\"grid flex-1 text-left text-sm leading-tight\">\n                <span className=\"truncate font-semibold\">OSS Inc.</span>\n                <span className=\"truncate text-xs\">{activeRole?.label || 'unknown'}</span>\n              </div>\n              <ChevronsUpDown className=\"ml-auto\" />\n            </SidebarMenuButton>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            className=\"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg\"\n            align=\"start\"\n            side={isMobile ? 'bottom' : 'right'}\n            sideOffset={4}\n          >\n            <DropdownMenuLabel className=\"text-muted-foreground text-xs\">roles</DropdownMenuLabel>\n            {userRoles.map((role, index) => (\n              <DropdownMenuItem\n                key={role.value}\n                onClick={() => switchRole(role)}\n                className=\"gap-2 p-2\"\n                disabled={role.value === activeRole?.value}\n              >\n                <div className=\"flex size-6 items-center justify-center rounded-sm border\">\n                  <role.icon className=\"size-4 shrink-0\" />\n                </div>\n                {role.label}\n                <DropdownMenuShortcut>⌘{index + 1}</DropdownMenuShortcut>\n              </DropdownMenuItem>\n            ))}\n            <DropdownMenuSeparator />\n            <DropdownMenuItem className=\"gap-2 p-2\">\n              <div className=\"bg-background flex size-6 items-center justify-center rounded-md border\">\n                <Plus className=\"size-4\" />\n              </div>\n              <div className=\"text-muted-foreground font-medium\">Apply Role</div>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </SidebarMenuItem>\n    </SidebarMenu>\n  );\n}\n","import { useTheme } from 'remix-themes';\nimport { Toaster as Sonner } from 'sonner';\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const [theme = 'system'] = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps['theme']}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',\n          description: 'group-[.toast]:text-muted-foreground whitespace-pre-line select-text',\n          actionButton: 'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',\n          cancelButton: 'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',\n          icon: 'self-start mt-0.5',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster };\n","import { User } from '@prisma/client';\nimport { AuthActionResponse, AuthProvider, CheckResponse } from '@refinedev/core';\nimport * as Sentry from '@sentry/remix';\n\nimport { TAuthProvider, TRole } from '~/constants';\nimport { PermissionRule, TAny } from '~/types';\nimport { canUseDOM, verifySignature, webapi } from '~/utils';\n\n// 添加全局类型声明\ndeclare global {\n  interface Window {\n    __PERMISSIONS_DATA__?: {\n      permissions: PermissionRule[];\n      signature: string;\n    };\n  }\n}\n\ntype AuthProviderLoginParams = {\n  providerName: TAuthProvider;\n  email: string;\n  password: string;\n  redirectTo?: string;\n};\n\nlet permissionsCache: PermissionRule[] | null = null;\nlet identityCache: User | null = null;\n\nexport const authProvider: {\n  login: (\n    params: AuthProviderLoginParams\n  ) => Promise<AuthActionResponse & { user?: User & { role: TRole; roles: TRole[] } }>;\n  logout: () => Promise<AuthActionResponse>;\n  check: () => Promise<CheckResponse>;\n  getIdentity: () => Promise<User | null>;\n  getPermissions: (params?: Record<string, TAny>) => Promise<PermissionRule[]>;\n  setPermissions: (permissions: PermissionRule[]) => Promise<void>;\n  onError: Required<Pick<AuthProvider, 'onError'>>['onError'];\n} = {\n  login: async ({ providerName, email, password, redirectTo = '/' }: AuthProviderLoginParams) => {\n    try {\n      const response = await webapi.post(`/auth/${providerName}`, {\n        email,\n        password,\n      });\n\n      const res = await response.json();\n\n      if (response.ok && res.id) {\n        return {\n          success: true,\n          redirectTo,\n          user: res,\n        };\n      }\n\n      return {\n        success: false,\n        error: {\n          message: res.message || '登录失败',\n          name: 'Invalid credentials',\n        },\n      };\n    } catch (error: TAny) {\n      return {\n        success: false,\n        error: {\n          message: error.message || '登录失败，请检查用户名和密码',\n          name: 'Invalid credentials',\n        },\n      };\n    }\n  },\n\n  logout: async () => {\n    Sentry.setUser(null);\n\n    const redirectTo = encodeURIComponent(window.location.href);\n    window.location.href = `/api/auth/logout?redirectTo=${redirectTo}`;\n\n    return {\n      success: true,\n      redirectTo: `/login?redirectTo=${redirectTo}`,\n    };\n  },\n\n  check: async () => {\n    const redirectTo = `/login?redirectTo=${window.location.href}`;\n\n    try {\n      const response = await webapi.get(`/auth/me`);\n      const { data } = await response.json();\n      if (data && data.id) {\n        return {\n          authenticated: true,\n        };\n      }\n\n      return {\n        authenticated: false,\n        error: {\n          message: '未登录',\n          name: 'Not authenticated',\n        },\n        logout: true,\n        redirectTo,\n      };\n    } catch (error) {\n      return {\n        authenticated: false,\n        error: {\n          message: '未登录',\n          name: 'Not authenticated',\n        },\n        logout: true,\n        redirectTo,\n      };\n    }\n  },\n\n  getIdentity: async () => {\n    try {\n      if (identityCache) {\n        return identityCache;\n      }\n\n      const response = await webapi.get(`/auth/me`);\n      const { data } = await response.json();\n      if (data && data.id) {\n        identityCache = data;\n        return data;\n      }\n\n      return null;\n    } catch (error) {\n      console.error('@authProvider.getIdentity', error);\n      return null;\n    }\n  },\n\n  onError: async (error) => {\n    if (error.status === 401 || error.status === 403) {\n      return {\n        logout: true,\n        redirectTo: '/login',\n        error,\n      };\n    }\n\n    return { error };\n  },\n\n  setPermissions: async (permissions: PermissionRule[]) => {\n    permissionsCache = permissions;\n  },\n  getPermissions: async () => {\n    // 优先使用内存缓存\n    if (permissionsCache?.length) {\n      return permissionsCache;\n    }\n\n    // 尝试从全局变量获取并验证权限数据\n    if (canUseDOM() && window.__PERMISSIONS_DATA__) {\n      const { permissions, signature } = window.__PERMISSIONS_DATA__;\n\n      if (!permissions?.length) {\n        return [];\n      }\n\n      if (await verifySignature({ data: permissions }, signature)) {\n        permissionsCache = permissions;\n        return permissionsCache;\n      } else {\n        console.error('@authProvider.getPermissions - 权限数据验证失败，可能被篡改');\n      }\n    }\n\n    return [];\n  },\n};\n","import { AccessControlProvider } from '@refinedev/core';\n\nimport { EnumAction } from '~/constants';\n\nimport { authProvider } from './auth';\n\nexport const accessControlProvider: AccessControlProvider = {\n  can: async ({ resource = '', action, params }) => {\n    try {\n      const permissions = await authProvider.getPermissions();\n\n      if (!permissions?.length) {\n        return {\n          can: false,\n          reason: 'No permission rules found',\n        };\n      }\n\n      if (action === EnumAction.delete || action === EnumAction.edit || action === EnumAction.show) {\n        resource = `${resource}/${params?.id}`;\n      } else if (action === EnumAction.field) {\n        resource = `${resource}/${params?.field}`;\n      }\n\n      const matchedRules = permissions.filter((rule) => {\n        return (\n          (rule.object === '*' || keyMatch(resource, rule.object)) &&\n          (rule.action === '*' || regexMatch(action, rule.action))\n        );\n      });\n\n      // 如果没有匹配的规则，则拒绝访问\n      if (matchedRules.length === 0) {\n        return {\n          can: false,\n          reason: 'Permission denied',\n        };\n      }\n\n      // 按照规则的具体程度排序：具体路径 > 通配符路径\n      const sortedRules = matchedRules.sort((a, b) => {\n        const aSpecificity = (a.object.match(/\\*/g) || []).length;\n        const bSpecificity = (b.object.match(/\\*/g) || []).length;\n        return aSpecificity - bSpecificity;\n      });\n\n      // 使用最具体的规则（数组第一个元素）\n      const mostSpecificRule = sortedRules[0];\n      const permitted = mostSpecificRule.effect !== 'deny';\n\n      return {\n        can: permitted,\n        reason: !permitted ? 'You are not allowed to perform this action' : undefined,\n      };\n    } catch (error) {\n      console.error('@accessControlProvider - Permission check failed:', error);\n      return {\n        can: false,\n        reason: 'Permission check failed',\n      };\n    }\n  },\n  options: {\n    buttons: { enableAccessControl: true, hideIfUnauthorized: false },\n    queryOptions: { cacheTime: 5 * 60 * 1000, staleTime: 0 },\n  },\n};\n\nfunction keyMatch(key1: string, key2: string): boolean {\n  const key2Parts = key2.split('/*');\n\n  if (key2Parts.length === 1) {\n    return key1 === key2;\n  }\n\n  const basePath = key2Parts[0];\n  return key1.startsWith(basePath);\n}\n\nfunction regexMatch(pattern1: string, pattern2: string): boolean {\n  try {\n    const regex = new RegExp('^' + pattern2 + '$');\n    return regex.test(pattern1);\n  } catch {\n    return pattern1 === pattern2;\n  }\n}\n","import type { HttpError } from '@refinedev/core';\nimport axios from 'axios';\n\nexport const axiosInstance = axios.create();\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    const customError: HttpError = {\n      ...error,\n      message: error.response?.data?.message || error.message,\n      statusCode: error.response?.status,\n    };\n\n    return Promise.reject(customError);\n  }\n);\n","import { type ComparisonOperator, CondOperator } from '@nestjsx/crud-request';\nimport type { CrudOperators } from '@refinedev/core';\n\nexport const mapOperator = (operator: CrudOperators): ComparisonOperator => {\n  switch (operator) {\n    case 'and':\n      return '$and';\n    case 'or':\n      return '$or';\n    case 'eq':\n      return CondOperator.EQUALS;\n    case 'ne':\n      return CondOperator.NOT_EQUALS;\n    case 'lt':\n      return CondOperator.LOWER_THAN;\n    case 'gt':\n      return CondOperator.GREATER_THAN;\n    case 'lte':\n      return CondOperator.LOWER_THAN_EQUALS;\n    case 'gte':\n      return CondOperator.GREATER_THAN_EQUALS;\n    case 'in':\n      return CondOperator.IN;\n    case 'nin':\n      return CondOperator.NOT_IN;\n    case 'contains':\n      return CondOperator.CONTAINS_LOW;\n    case 'ncontains':\n      return CondOperator.EXCLUDES_LOW;\n    case 'containss':\n      return CondOperator.CONTAINS;\n    case 'ncontainss':\n      return CondOperator.EXCLUDES;\n    case 'null':\n      return CondOperator.IS_NULL;\n    case 'nnull':\n      return CondOperator.NOT_NULL;\n    case 'startswith':\n      return CondOperator.STARTS_LOW;\n    case 'startswiths':\n      return CondOperator.STARTS;\n    case 'endswith':\n      return CondOperator.ENDS_LOW;\n    case 'endswiths':\n      return CondOperator.ENDS;\n    case 'between':\n      return CondOperator.BETWEEN;\n  }\n\n  return CondOperator.EQUALS;\n};\n","import type { RequestQueryBuilder, SCondition } from '@nestjsx/crud-request';\nimport type { CrudFilter, CrudFilters } from '@refinedev/core';\n\nimport { mapOperator } from './mapOperator';\n\nexport const generateSearchFilter = (filters: CrudFilters): SCondition => {\n  return createSearchQuery({\n    operator: 'and',\n    value: filters,\n  });\n};\n\nexport const createSearchQuery = (filter: CrudFilter): SCondition => {\n  if (filter.operator !== 'and' && filter.operator !== 'or' && 'field' in filter) {\n    // query\n    return {\n      [filter.field]: {\n        [mapOperator(filter.operator)]: filter.value,\n      },\n    };\n  }\n\n  const { operator } = filter;\n\n  return {\n    [mapOperator(operator)]: filter.value.map((filter) => createSearchQuery(filter)),\n  };\n};\n\nexport const handleFilter = (query: RequestQueryBuilder, filters?: CrudFilters) => {\n  if (Array.isArray(filters) && filters.length > 0) {\n    query.search(generateSearchFilter(filters));\n  }\n  return query;\n};\n","import type { QueryJoin, QueryJoinArr, RequestQueryBuilder } from '@nestjsx/crud-request';\n\nexport const handleJoin = (\n  query: RequestQueryBuilder,\n  join?: QueryJoin | QueryJoinArr | (QueryJoin | QueryJoinArr)[]\n) => {\n  if (join) {\n    query.setJoin(join);\n  }\n  return query;\n};\n","import type { RequestQueryBuilder } from '@nestjsx/crud-request';\nimport type { Pagination } from '@refinedev/core';\n\nimport { DEFAULT_PAGE_SIZE } from '~/config';\n\nexport const handlePagination = (query: RequestQueryBuilder, pagination?: Pagination) => {\n  const { current = 1, pageSize = DEFAULT_PAGE_SIZE, mode = 'server' } = pagination ?? {};\n\n  if (mode === 'server') {\n    query\n      .setLimit(pageSize)\n      .setPage(current)\n      .setOffset((current - 1) * pageSize);\n  }\n\n  return query;\n};\n","import type { QuerySort, QuerySortArr, QuerySortOperator, RequestQueryBuilder } from '@nestjsx/crud-request';\nimport type { CrudSorting } from '@refinedev/core';\n\nexport type SortBy = QuerySort | QuerySortArr | Array<QuerySort | QuerySortArr>;\n\nexport const generateSort = (sort?: CrudSorting): SortBy | undefined => {\n  if (sort && sort.length > 0) {\n    const multipleSort: SortBy = [];\n    sort.map(({ field, order }) => {\n      if (field && order) {\n        multipleSort.push({\n          field: field,\n          order: order.toUpperCase() as QuerySortOperator,\n        });\n      }\n    });\n    return multipleSort;\n  }\n\n  return;\n};\n\nexport const handleSort = (query: RequestQueryBuilder, sorters?: CrudSorting) => {\n  const sortBy = generateSort(sorters);\n  if (sortBy) {\n    query.sortBy(sortBy);\n  }\n\n  return query;\n};\n","/**\n * 转换 Prisma 错误消息为简短提示\n * @param errorMessage Prisma 原始错误消息\n * @returns 简化后的错误消息\n */\nexport function transformPrismaError(errorMessage: string): string {\n  if (!errorMessage.includes('prisma')) {\n    return errorMessage;\n  }\n\n  // 提取错误类型，如 \\nInvalid `prisma.post.update()` invocation ...\n  const errorType = errorMessage.split('invocation')[0];\n\n  // 提取最后的错误提示（通常在最后一行）\n  const errorDetails = errorMessage.split('\\n').pop() || '';\n\n  // 组合简化后的错误消息\n  return `${errorType}, ${errorDetails}`.trim();\n}\n","import type { HttpError, ValidationErrors } from '@refinedev/core';\n\nimport { TAny } from '~/types';\nimport { tryParse } from '~/utils';\n\nimport { transformPrismaError } from './transformPrismaError';\n\n/**\n * 服务器端验证\n * https://refine.dev/docs/guides-concepts/forms/#server-side-validation-\n * https://refine.dev/docs/core/interface-references/#httperror\n *\n * throw new Error(\n *  JSON.stringify({\n *    title: ['Title is required'],\n *    description: 'description is required',\n *    content: {\n *      key: 'form.error.content',\n *      message: 'Content is required.',\n *    },\n *    status: true,\n *  })\n *);\n */\nexport const transformHttpError = (error: TAny): HttpError => {\n  const { status, data, original } = tryParse(error?.message);\n\n  const tryTransformPrismaError = transformPrismaError(!status ? String(original) : '');\n  const message = tryTransformPrismaError || error.response?.data?.name || error.response.statusText;\n  const statusCode = error.status || error.response.status;\n\n  const httpError: HttpError = {\n    message,\n    statusCode,\n    errors: status ? (data as ValidationErrors) : undefined,\n  };\n\n  return httpError;\n};\n","import { CondOperator, RequestQueryBuilder } from '@nestjsx/crud-request';\nimport type { DataProvider } from '@refinedev/core';\nimport type { AxiosInstance } from 'axios';\nimport queryString from 'query-string';\n\nimport { axiosInstance, handleFilter, handleJoin, handlePagination, handleSort, transformHttpError } from './utils';\n\nexport const dataProvider = (apiUrl: string, httpClient: AxiosInstance = axiosInstance): Required<DataProvider> => ({\n  getList: async ({ resource, pagination, filters, sorters, meta }) => {\n    try {\n      const url = `${apiUrl}/${resource}`;\n\n      let query = RequestQueryBuilder.create();\n\n      query = handleFilter(query, filters);\n      query = handleJoin(query, meta?.join);\n      query = handlePagination(query, pagination);\n      query = handleSort(query, sorters);\n\n      const { data } = await httpClient.get(`${url}?${query.query()}`);\n\n      // without pagination\n      if (Array.isArray(data)) {\n        return {\n          data,\n          total: data.length,\n        };\n      }\n\n      // with pagination\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  getMany: async ({ resource, ids, meta }) => {\n    try {\n      const url = `${apiUrl}/${resource}`;\n\n      let query = RequestQueryBuilder.create().setFilter({\n        field: 'id',\n        operator: CondOperator.IN,\n        value: ids,\n      });\n\n      query = handleJoin(query, meta?.join);\n\n      const { data } = await httpClient.get(`${url}?${query.query()}`);\n\n      return {\n        data,\n      };\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  create: async ({ resource, variables }) => {\n    try {\n      const url = `${apiUrl}/${resource}`;\n      const { data } = await httpClient.post(url, variables);\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  update: async ({ resource, id, variables }) => {\n    try {\n      const url = `${apiUrl}/${resource}/${id}`;\n      const { data } = await httpClient.patch(url, variables);\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  updateMany: async ({ resource, ids, variables }) => {\n    try {\n      const url = `${apiUrl}/${resource}/bulk`;\n      const { data } = await httpClient.put(url, { ids, variables });\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  createMany: async ({ resource, variables }) => {\n    try {\n      const url = `${apiUrl}/${resource}/bulk`;\n      const { data } = await httpClient.post(url, { variables });\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  getOne: async ({ resource, id, meta }) => {\n    try {\n      const url = `${apiUrl}/${resource}/${id}`;\n\n      let query = RequestQueryBuilder.create();\n\n      query = handleJoin(query, meta?.join);\n\n      const { data } = await httpClient.get(`${url}?${query.query()}`);\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  deleteOne: async ({ resource, id }) => {\n    try {\n      const url = `${apiUrl}/${resource}/${id}`;\n      const { data } = await httpClient.delete(url);\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  deleteMany: async ({ resource, ids }) => {\n    try {\n      const url = `${apiUrl}/${resource}/bulk`;\n      const { data } = await httpClient.delete(url, {\n        data: { ids },\n      });\n\n      return data;\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n\n  getApiUrl: () => {\n    return apiUrl;\n  },\n\n  custom: async ({ url, method, meta, filters, sorters, payload, query, headers }) => {\n    try {\n      let requestQueryBuilder = RequestQueryBuilder.create();\n\n      requestQueryBuilder = handleFilter(requestQueryBuilder, filters);\n\n      requestQueryBuilder = handleJoin(requestQueryBuilder, meta?.join);\n\n      requestQueryBuilder = handleSort(requestQueryBuilder, sorters);\n\n      let requestUrl = `${url}?${requestQueryBuilder.query()}`;\n\n      if (query) {\n        requestUrl = `${requestUrl}&${queryString.stringify(query)}`;\n      }\n\n      let axiosResponse;\n      switch (method) {\n        case 'put':\n        case 'post':\n        case 'patch':\n          axiosResponse = await httpClient[method](url, payload, {\n            headers,\n          });\n          break;\n        case 'delete':\n          axiosResponse = await httpClient.delete(url, {\n            data: payload,\n            headers: headers,\n          });\n          break;\n        default:\n          axiosResponse = await httpClient.get(requestUrl, { headers });\n          break;\n      }\n\n      const { data } = axiosResponse;\n\n      return Promise.resolve({ data });\n    } catch (error) {\n      const httpError = transformHttpError(error);\n\n      throw httpError;\n    }\n  },\n});\n","import { DataProvider } from '@refinedev/core';\n\nimport { apiBase } from '~/config';\nimport dataProviderNestjsxCrud from '~/lib/refinedev-nestjsx-crud';\n\nexport const dataProvider: DataProvider = dataProviderNestjsxCrud(apiBase);\n","import { AuditLogProvider, BaseKey, MetaQuery } from '@refinedev/core';\n\nimport { EnumResource } from '~/constants';\nimport { TAny } from '~/types';\n\nimport { dataProvider } from './data';\n\nexport const auditLogProvider: AuditLogProvider = {\n  get: async (params: {\n    resource: string;\n    action?: string;\n    meta?: Record<number | string, TAny>;\n    author?: Record<number | string, TAny>;\n    metaData?: MetaQuery;\n  }) => {\n    const { resource, action, meta, author, metaData } = params;\n\n    const filters = [\n      {\n        field: 'resource',\n        operator: 'eq' as const,\n        value: resource,\n      },\n    ];\n\n    if (action) {\n      filters.push({\n        field: 'action',\n        operator: 'eq' as const,\n        value: action,\n      });\n    }\n\n    if (meta?.id) {\n      filters.push({\n        field: 'meta.id',\n        operator: 'eq' as const,\n        value: meta.id,\n      });\n    }\n\n    if (author?.id) {\n      filters.push({\n        field: 'userId',\n        operator: 'eq' as const,\n        value: author.id,\n      });\n    }\n\n    const { data } = await dataProvider.getList({\n      resource: EnumResource.log,\n      filters,\n      pagination: metaData?.pagination,\n      sort: metaData?.sort,\n    });\n\n    return data;\n  },\n\n  create: async (params: {\n    resource: string;\n    action: string;\n    data?: TAny;\n    author?: Record<number | string, TAny>;\n    previousData?: TAny;\n    meta?: Record<number | string, TAny>;\n  }) => {\n    const { resource, action, data, previousData, meta } = params;\n\n    const logEntry = {\n      resource,\n      action,\n      data: JSON.stringify(data),\n      previousData: JSON.stringify(previousData),\n      meta: JSON.stringify(meta),\n    };\n\n    const response = await dataProvider.create({\n      resource: EnumResource.log,\n      variables: logEntry,\n    });\n\n    return response.data;\n  },\n\n  update: async (params: { id: BaseKey; name: string }) => {\n    const { id, name } = params;\n\n    const response = await dataProvider.update({\n      resource: EnumResource.log,\n      id,\n      variables: {\n        name,\n        updatedAt: Date.now(),\n      },\n    });\n\n    return response.data;\n  },\n};\n","// i18n - 国际化\n// https://flaglog.com/country-codes\n\nimport { type I18nProvider } from '@refinedev/core';\nimport i18next, { changeLanguage, use as i18nextUse, t } from 'i18next';\nimport Cookies from 'js-cookie';\nimport { initReactI18next } from 'react-i18next';\n\nimport { defaultNS, fallbackLanguage, LocaleLanguage, resourcesLanguages, supportedLanguages } from '~/config';\nimport { canUseDOM, webapi } from '~/utils';\n\n// 获取 cookie\nconst getCookieLocale = () => {\n  try {\n    const preferences = Cookies.get('preferences');\n    if (!preferences) return null;\n\n    return JSON.parse(preferences)?.locale as LocaleLanguage;\n  } catch (error) {\n    console.error('@getCookieLocale', error);\n    return null;\n  }\n};\n\n// 客户端初始化\nconst initialLocale = canUseDOM() ? getCookieLocale() || fallbackLanguage : fallbackLanguage;\nif (!i18next.isInitialized) {\n  i18nextUse(initReactI18next).init({\n    resources: resourcesLanguages,\n    supportedLngs: supportedLanguages,\n    lng: initialLocale,\n    ns: [defaultNS],\n    react: { useSuspense: false },\n  });\n} else if (i18next.language !== initialLocale) {\n  changeLanguage(initialLocale);\n}\n\n// 同步服务端和客户端的语言设置\nexport async function syncServiceLocaleToClient(locale?: LocaleLanguage) {\n  if (i18next.isInitialized && locale !== i18next?.language) {\n    try {\n      await changeLanguage(locale);\n    } catch (error) {\n      console.error('@syncServiceLocaleToClient', error);\n    }\n  }\n}\n\nexport const i18nProvider: I18nProvider = {\n  translate: (key: string, defaultMessage?: string) => {\n    return t(key, defaultMessage || key);\n  },\n\n  changeLocale: async (locale: string) => {\n    await changeLanguage(locale);\n\n    const res = await webapi.post(`/set-preferences`, {\n      locale,\n    });\n\n    const { data } = await res.json();\n\n    return Promise.resolve(data);\n  },\n\n  getLocale: () => {\n    return i18next.language;\n  },\n};\n","import { NotificationProvider } from '@refinedev/core';\nimport { toast } from 'sonner';\n\nlet lastNotificationKey: string | undefined = undefined;\n\nexport const notificationProvider: NotificationProvider = {\n  open: ({ key, message, description, type }) => {\n    lastNotificationKey = key;\n    const id = key === lastNotificationKey ? key : undefined;\n\n    // 成功通知\n    if (type === 'success') {\n      toast.success(message, { description, id });\n    }\n\n    // 失败通知\n    else if (type === 'error') {\n      toast.error(message, { description, id });\n    }\n\n    // 处理中通知\n    else if (type === 'progress') {\n      toast.loading(message, { description, id });\n    }\n  },\n  close: (key) => {\n    toast.dismiss(key);\n    lastNotificationKey = undefined;\n  },\n};\n\nexport const useNotificationProvider = (): NotificationProvider => {\n  return notificationProvider;\n};\n","export function redirect(url: string, init: ResponseInit | number = 302) {\n  let responseInit = init;\n\n  if (typeof responseInit === 'number') {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === 'undefined') {\n    responseInit.status = 302;\n  }\n\n  const headers = new Headers(responseInit.headers);\n  headers.set('Location', url);\n\n  return new Response(null, { ...responseInit, headers });\n}\n","import { Cookie, SetCookie, type SetCookieInit } from '@mjackson/headers';\n\n/**\n * This class is used to store the state and code verifier for the OAuth2 flow.\n *\n * If the user is redirected to the authorization endpoint, we need to store the\n * state and code verifier in a cookie so we can check that the state matches\n * when the user is redirected back to the application.\n *\n * The problem is that the user can open multiple tabs, and we need to keep\n * track of the state and code verifier for each tab. This class helps us do\n * that.\n *\n * It's a simple class that stores the state in a Set and the code verifier in a\n * Map. The state is used as the key to the code verifier, so we can easily\n * retrieve it when needed. We also have a method to convert the store to a\n * string, so we can store it in a cookie.\n *\n * The class also has a static method to create a new instance from a Request\n * object, this is useful when we need to get the store from the cookie.\n */\nexport class StateStore {\n  states = new Set<string>();\n  codeVerifiers = new Map<string, string>();\n\n  state: string | undefined;\n  codeVerifier: string | undefined;\n\n  constructor(params = new URLSearchParams()) {\n    for (const [state, verifier] of params) {\n      if (state === 'state') continue;\n      this.states.add(state);\n      this.codeVerifiers.set(state, verifier);\n    }\n  }\n\n  /**\n   * Append a new state and code verifier to the store\n   */\n  set(state: string, verifier?: string) {\n    this.state = state;\n    this.codeVerifier = verifier;\n\n    this.states.add(state);\n    if (verifier) this.codeVerifiers.set(state, verifier);\n  }\n\n  /**\n   * Check if the store has the given state\n   */\n  has(state?: string) {\n    if (state) return this.states.has(state);\n    return this.states.size > 0;\n  }\n\n  /**\n   * Get the code verifier for the given state\n   */\n  get(state: string) {\n    return this.codeVerifiers.get(state);\n  }\n\n  /**\n   * Convert the store to a string\n   *\n   * This is useful when we need to store the store in a cookie\n   */\n  toString() {\n    if (!this.state) return '';\n    if (!this.codeVerifier) return '';\n\n    const params = new URLSearchParams();\n\n    params.set('state', this.state);\n    params.set(this.state, this.codeVerifier);\n\n    return params.toString();\n  }\n\n  toSetCookie(cookieName = 'oauth2', options: Omit<SetCookieInit, 'value'> = {}) {\n    const id = crypto.randomUUID();\n    return new SetCookie({\n      value: this.toString(),\n      httpOnly: true, // Prevents JavaScript from accessing the cookie\n      maxAge: 60 * 5, // 5 minutes\n      path: '/', // Allow the cookie to be sent to any path\n      sameSite: 'Lax', // Prevents it from being sent in cross-site requests\n      ...options,\n      name: `${cookieName}:${id}`,\n    });\n  }\n\n  /**\n   * Create a new instance from a Request object by getting the store from a\n   * cookie with the given name.\n   */\n  static fromRequest(request: Request, cookieName = 'oauth2') {\n    const cookie = new Cookie(request.headers.get('cookie') ?? '');\n\n    const params = new URLSearchParams();\n\n    for (const name of cookie.names()) {\n      if (name.startsWith(cookieName)) {\n        for (const [key, value] of new URLSearchParams(cookie.get(name))) {\n          params.append(key, value);\n        }\n      }\n    }\n\n    return new StateStore(params);\n  }\n}\n","import { ObjectParser } from '@edgefirst-dev/data/parser';\nimport { type SetCookieInit } from '@mjackson/headers';\nimport {\n  CodeChallengeMethod,\n  generateCodeVerifier,\n  generateState,\n  OAuth2Client,\n  OAuth2RequestError,\n  type OAuth2Tokens,\n} from 'arctic';\nimport createDebug from 'debug';\nimport { Strategy } from 'remix-auth/strategy';\n\nimport { redirect } from './redirect.js';\nimport { StateStore } from './store.js';\n\ntype URLConstructor = ConstructorParameters<typeof URL>[0];\n\nconst debug = createDebug('OAuth2Strategy');\n\nconst WELL_KNOWN = '.well-known/openid-configuration';\n\nexport { CodeChallengeMethod, OAuth2RequestError };\n\nexport class OAuth2Strategy<User> extends Strategy<User, OAuth2StrategyVerifyOptions> {\n  override name = 'oauth2';\n\n  protected client: OAuth2Client;\n\n  constructor(\n    protected options: OAuth2StrategyConstructorOptions,\n    verify: Strategy.VerifyFunction<User, OAuth2StrategyVerifyOptions>\n  ) {\n    super(verify);\n\n    this.client = new OAuth2Client(options.clientId, options.clientSecret, options.redirectURI?.toString() ?? null);\n  }\n\n  private get cookieName() {\n    if (typeof this.options.cookie === 'string') {\n      return this.options.cookie || 'oauth2';\n    }\n    return this.options.cookie?.name ?? 'oauth2';\n  }\n\n  private get cookieOptions() {\n    if (typeof this.options.cookie !== 'object') return {};\n    return this.options.cookie ?? {};\n  }\n\n  override async authenticate(request: Request): Promise<User> {\n    debug('Request URL', request.url);\n\n    const url = new URL(request.url);\n\n    const stateUrl = url.searchParams.get('state');\n    const error = url.searchParams.get('error');\n\n    if (error) {\n      const description = url.searchParams.get('error_description');\n      const uri = url.searchParams.get('error_uri');\n      throw new OAuth2RequestError(error, description, uri, stateUrl);\n    }\n\n    if (!stateUrl) {\n      debug('No state found in the URL, redirecting to authorization endpoint');\n\n      const { state, codeVerifier, url } = this.createAuthorizationURL();\n\n      debug('State', state);\n      debug('Code verifier', codeVerifier);\n\n      url.search = this.authorizationParams(url.searchParams, request).toString();\n\n      debug('Authorization URL', url.toString());\n\n      const store = StateStore.fromRequest(request, this.cookieName);\n      store.set(state, codeVerifier);\n\n      throw redirect(url.toString(), {\n        headers: {\n          'Set-Cookie': store.toSetCookie(this.cookieName, this.cookieOptions).toString(),\n        },\n      });\n    }\n\n    const code = url.searchParams.get('code');\n\n    if (!code) throw new ReferenceError('Missing code in the URL');\n\n    const store = StateStore.fromRequest(request, this.cookieName);\n\n    if (!store.has()) {\n      throw new ReferenceError('Missing state on cookie.');\n    }\n\n    if (!store.has(stateUrl)) {\n      throw new RangeError(\"State in URL doesn't match state in cookie.\");\n    }\n\n    const codeVerifier = store.get(stateUrl);\n\n    if (!codeVerifier) {\n      throw new ReferenceError('Missing code verifier on cookie.');\n    }\n\n    debug('Validating authorization code');\n\n    const tokens = await this.validateAuthorizationCode(code, codeVerifier);\n\n    debug('Verifying the user profile');\n    const user = await this.verify({ request, tokens });\n\n    debug('User authenticated');\n\n    return user;\n  }\n\n  protected createAuthorizationURL() {\n    const state = generateState();\n    const codeVerifier = generateCodeVerifier();\n\n    const url = this.client.createAuthorizationURLWithPKCE(\n      this.options.authorizationEndpoint.toString(),\n      state,\n      this.options.codeChallengeMethod ?? CodeChallengeMethod.S256,\n      codeVerifier,\n      this.options.scopes ?? []\n    );\n\n    return { state, codeVerifier, url };\n  }\n\n  protected validateAuthorizationCode(code: string, codeVerifier: string) {\n    return this.client.validateAuthorizationCode(this.options.tokenEndpoint.toString(), code, codeVerifier);\n  }\n\n  /**\n   * Return extra parameters to be included in the authorization request.\n   *\n   * Some OAuth 2.0 providers allow additional, non-standard parameters to be\n   * included when requesting authorization.  Since these parameters are not\n   * standardized by the OAuth 2.0 specification, OAuth 2.0-based authentication\n   * strategies can override this function in order to populate these\n   * parameters as required by the provider.\n   */\n  protected authorizationParams(params: URLSearchParams, _request: Request): URLSearchParams {\n    return new URLSearchParams(params);\n  }\n\n  /**\n   * Get a new OAuth2 Tokens object using the refresh token once the previous\n   * access token has expired.\n   * @param refreshToken The refresh token to use to get a new access token\n   * @returns The new OAuth2 tokens object\n   * @example\n   * ```ts\n   * let tokens = await strategy.refreshToken(refreshToken);\n   * console.log(tokens.accessToken());\n   * ```\n   */\n  public refreshToken(refreshToken: string) {\n    return this.client.refreshAccessToken(\n      this.options.tokenEndpoint.toString(),\n      refreshToken,\n      this.options.scopes ?? []\n    );\n  }\n\n  /**\n   * Users the token revocation endpoint of the identity provider to revoke the\n   * access token and make it invalid.\n   *\n   * @param token The access token to revoke\n   * @example\n   * ```ts\n   * // Get it from where you stored it\n   * let accessToken = await getAccessToken();\n   * await strategy.revokeToken(tokens.access_token);\n   * ```\n   */\n  public revokeToken(token: string) {\n    const endpoint = this.options.tokenRevocationEndpoint;\n    if (!endpoint) throw new Error('Token revocation endpoint is not set.');\n    return this.client.revokeToken(endpoint.toString(), token);\n  }\n\n  /**\n   * Discover the OAuth2 issuer and create a new OAuth2Strategy instance from\n   * the OIDC configuration that is returned.\n   *\n   * This method will fetch the OIDC configuration from the issuer and create a\n   * new OAuth2Strategy instance with the provided options and verify function.\n   *\n   * @param uri The URI of the issuer, this can be a full URL or just the domain\n   * @param options The rest of the options to pass to the OAuth2Strategy constructor, clientId, clientSecret, redirectURI, and scopes are required.\n   * @param verify The verify function to use with the OAuth2Strategy instance\n   * @returns A new OAuth2Strategy instance\n   * @example\n   * ```ts\n   * let strategy = await OAuth2Strategy.discover(\n   *   \"https://accounts.google.com\",\n   *   {\n   *     clientId: \"your-client-id\",\n   *     clientSecret: \"your-client-secret\",\n   *     redirectURI: \"https://your-app.com/auth/callback\",\n   *     scopes: [\"openid\", \"email\", \"profile\"],\n   *   },\n   *   async ({ tokens }) => {\n   *     return getUserProfile(tokens.access_token);\n   *   },\n   * );\n   */\n  static async discover<U>(\n    uri: string | URL,\n    options: Pick<OAuth2StrategyConstructorOptions, 'clientId' | 'clientSecret' | 'cookie' | 'redirectURI' | 'scopes'> &\n      Partial<\n        Omit<OAuth2StrategyConstructorOptions, 'clientId' | 'clientSecret' | 'cookie' | 'redirectURI' | 'scopes'>\n      >,\n    verify: Strategy.VerifyFunction<U, OAuth2StrategyVerifyOptions>\n  ) {\n    // Parse the URI into a URL object\n    const url = new URL(uri);\n\n    if (!url.pathname.includes('well-known')) {\n      // Add the well-known path to the URL if it's not already there\n      url.pathname = url.pathname.endsWith('/') ? `${url.pathname}${WELL_KNOWN}` : `${url.pathname}/${WELL_KNOWN}`;\n    }\n\n    // Fetch the metadata from the issuer and validate it\n    const response = await fetch(url, {\n      headers: { Accept: 'application/json' },\n    });\n\n    // If the response is not OK, throw an error\n    if (!response.ok) throw new Error(`Failed to discover issuer at ${url}`);\n\n    // Parse the response body\n    const parser = new ObjectParser(await response.json());\n\n    // biome-ignore lint/complexity/noThisInStatic: This is need for subclasses\n    return new OAuth2Strategy(\n      {\n        authorizationEndpoint: new URL(parser.string('authorization_endpoint')),\n        tokenEndpoint: new URL(parser.string('token_endpoint')),\n        tokenRevocationEndpoint: parser.has('revocation_endpoint')\n          ? new URL(parser.string('revocation_endpoint'))\n          : undefined,\n        codeChallengeMethod: parser.has('code_challenge_methods_supported')\n          ? parser.array('code_challenge_methods_supported').includes('S256')\n            ? CodeChallengeMethod.S256\n            : CodeChallengeMethod.Plain\n          : undefined,\n        ...options,\n      },\n      verify\n    );\n  }\n}\n\nexport interface OAuth2StrategyVerifyOptions {\n  /** The request that triggered the verification flow */\n  request: Request;\n  /** The OAuth2 tokens retrivied from the identity provider */\n  tokens: OAuth2Tokens;\n}\n\nexport interface OAuth2StrategyConstructorOptions {\n  /**\n   * The name of the cookie used to keep state and code verifier around.\n   *\n   * The OAuth2 flow requires generating a random state and code verifier, and\n   * then checking that the state matches when the user is redirected back to\n   * the application. This is done to prevent CSRF attacks.\n   *\n   * The state and code verifier are stored in a cookie, and this option\n   * allows you to customize the name of that cookie if needed.\n   * @default \"oauth2\"\n   */\n  cookie?: string | (Omit<SetCookieInit, 'value'> & { name: string });\n\n  /**\n   * This is the Client ID of your application, provided to you by the Identity\n   * Provider you're using to authenticate users.\n   */\n  clientId: string;\n  /**\n   * This is the Client Secret of your application, provided to you by the\n   * Identity Provider you're using to authenticate users.\n   */\n  clientSecret: string | null;\n\n  /**\n   * The endpoint the Identity Provider asks you to send users to log in, or\n   * authorize your application.\n   */\n  authorizationEndpoint: URLConstructor;\n  /**\n   * The endpoint the Identity Provider uses to let's you exchange an access\n   * code for an access and refresh token.\n   */\n  tokenEndpoint: URLConstructor;\n  /**\n   * The URL of your application where the Identity Provider will redirect the\n   * user after they've logged in or authorized your application.\n   */\n  redirectURI: URLConstructor | null;\n\n  /**\n   * The endpoint the Identity Provider uses to revoke an access or refresh\n   * token, this can be useful to log out the user.\n   */\n  tokenRevocationEndpoint?: URLConstructor;\n\n  /**\n   * The scopes you want to request from the Identity Provider, this is a list\n   * of strings that represent the permissions you want to request from the\n   * user.\n   */\n  scopes?: string[];\n\n  /**\n   * The code challenge method to use when sending the authorization request.\n   * This is used when the Identity Provider requires a code challenge to be\n   * sent with the authorization request.\n   * @default \"CodeChallengeMethod.S256\"\n   */\n  codeChallengeMethod?: CodeChallengeMethod;\n}\n","import type { Password, User } from '@prisma/client';\nimport bcrypt from 'bcryptjs';\n\nimport { EnumRole, EnumRoleId, TAuthProvider } from '~/constants';\nimport { db } from '~/services';\nimport { TAny } from '~/types';\n\n/** 根据 ID 获取用户 */\nexport async function getUserById(id: User['id']) {\n  const user = await db.user.findUnique({\n    where: { id },\n    include: {\n      roles: {\n        include: {\n          role: true,\n        },\n      },\n    },\n  });\n\n  return withRoles(user);\n}\n\n/** 根据 Email 获取用户 */\nexport async function getUserByEmail(email: User['email']) {\n  const user = await db.user.findUnique({\n    where: { email },\n    include: {\n      roles: {\n        include: {\n          role: true,\n        },\n      },\n    },\n  });\n\n  return withRoles(user);\n}\n\n/** 创建新用户，默认分配 guest 权限 */\nexport async function createUser({\n  email,\n  name,\n  password,\n  provider,\n}: {\n  email: User['email'];\n  password?: string;\n  name?: string;\n  provider: TAuthProvider;\n}) {\n  const user = await db.user.create({\n    data: {\n      email,\n      name: name || email.split('@')[0],\n      provider,\n      password: password\n        ? {\n            create: {\n              hash: await bcrypt.hash(password, 10),\n            },\n          }\n        : undefined,\n    },\n  });\n\n  await db.userRole.create({\n    data: {\n      userId: user.id,\n      roleId: EnumRoleId.guest,\n    },\n  });\n\n  return { ...user, role: EnumRole.guest, roles: [EnumRole.guest] };\n}\n\n/** 删除用户 */\nexport async function deleteUserByEmail(email: User['email']) {\n  return db.user.delete({ where: { email } });\n}\n\n/** 验证用户登录 */\nexport async function verifyUserpassLogin(email: User['email'], password: Password['hash']) {\n  const user = await db.user.findUnique({\n    where: { email },\n    include: {\n      password: true,\n      roles: {\n        include: {\n          role: true,\n        },\n      },\n    },\n  });\n\n  if (!user || !user.password) {\n    return null;\n  }\n\n  const isValid = await bcrypt.compare(password, user.password.hash);\n  if (!isValid) {\n    return null;\n  }\n\n  return withRoles(user);\n}\n\n// 提取角色\nconst withRoles = (_userWithRoles: (User & { roles: { role: { title: string } & Record<string, TAny> }[] }) | null) => {\n  if (!_userWithRoles) {\n    return null;\n  }\n\n  const roles = _userWithRoles.roles.map((userRole) => userRole.role.title);\n  const userWithRoles = {\n    ..._userWithRoles,\n    password: '******',\n    roles,\n    role: roles[0],\n  };\n\n  return userWithRoles;\n};\n","/**\n * auth.server.ts\n * https://sergiodxa.github.io/remix-auth/\n */\nimport { User } from '@prisma/client';\nimport { Authenticator } from 'remix-auth';\nimport { FormStrategy } from 'remix-auth-form';\nimport invariant from 'tiny-invariant';\n\nimport { EnumAuthProvider } from '~/constants';\nimport { OAuth2Strategy } from '~/lib/remix-auth-oauth2';\nimport { verifyUserpassLogin } from '~/models/user.server';\n\ninvariant(process.env.TCSK_CLIENT_ID, 'TCSK_CLIENT_ID must be set.');\ninvariant(process.env.TCSK_CLIENT_SECRET, 'TCSK_CLIENT_SECRET must be set.');\ninvariant(process.env.TCSK_AUTHORIZE, 'TCSK_AUTHORIZE must be set.');\ninvariant(process.env.TCSK_TOKEN, 'TCSK_TOKEN must be set.');\ninvariant(process.env.TCSK_REDIRECT, 'TCSK_REDIRECT must be set.');\ninvariant(process.env.TCSK_PROFILE, 'TCSK_PROFILE must be set.');\n\n// 创建认证器实例\nexport const authenticator = new Authenticator<User>();\n\n// TCSK OAuth2 策略\nconst tcskStrategy = new OAuth2Strategy<User>(\n  {\n    clientId: process.env.TCSK_CLIENT_ID,\n    clientSecret: process.env.TCSK_CLIENT_SECRET,\n    authorizationEndpoint: process.env.TCSK_AUTHORIZE,\n    tokenEndpoint: process.env.TCSK_TOKEN,\n    redirectURI: process.env.TCSK_REDIRECT,\n    scopes: ['profile'],\n  },\n  async ({ tokens }) => {\n    const { access_token } = (tokens?.data || {}) as Record<string, string>;\n    try {\n      const response = await fetch(process.env.TCSK_PROFILE!, {\n        headers: {\n          Authorization: `Bearer ${access_token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch user profile');\n      }\n\n      const data = await response.json();\n      const { email, realName } = data || {};\n\n      return {\n        email,\n        name: realName,\n      } as User;\n    } catch (error) {\n      console.error('Error fetching user profile:', error);\n      throw error;\n    }\n  }\n);\n\n// 表单登录策略\nconst strategyForm = new FormStrategy(async ({ form }) => {\n  const email = form.get('email') as string;\n  const password = form.get('password') as string;\n\n  console.log(email, password);\n  const user = await verifyUserpassLogin(email, password);\n  if (!user) {\n    throw new Error('Invalid email or password.');\n  }\n\n  return user;\n});\n\n// 注册认证策略\nauthenticator.use(strategyForm, EnumAuthProvider.userpass);\nauthenticator.use(tcskStrategy, EnumAuthProvider.tcshuke);\n","import { PrismaClient } from '@prisma/client';\n\nimport { singleton } from '~/utils';\n\n/**\n * Prisma 客户端\n * 硬编码一个唯一的键，这样当这个模块被重新导入时我们可以查找到之前的客户端实例\n */\nexport const db = singleton('prisma', () => new PrismaClient());\n","import { newModelFromString } from 'casbin';\n\n/**\n * 访问控制模型\n * RBAC（基于角色的访问控制）和 ACL（访问控制列表）的混合模型\n */\nconst MODEL_CONF = `\n[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act, eft\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow)) && !some(where (p.eft == deny))\n\n[matchers]\nm = g(r.sub, p.sub) && keyMatch(r.obj, p.obj) && regexMatch(r.act, p.act)\n`;\n\n// 使用 newModelFromString 创建模型\nexport const MODEL = newModelFromString(MODEL_CONF);\n","import { newEnforcer } from 'casbin';\nimport { PrismaAdapter } from 'casbin-prisma-adapter';\n\nimport { db } from '~/services/db.server';\n\nimport { MODEL } from './casbin-rules.server';\n\n// 保存 enforcer 实例\nlet enforcer: Awaited<ReturnType<typeof newEnforcer>> | null = null;\n\nexport async function createEnforcer() {\n  if (enforcer) {\n    return enforcer;\n  }\n\n  const adapter = await PrismaAdapter.newAdapter(db);\n  enforcer = await newEnforcer(MODEL, adapter);\n\n  return enforcer;\n}\n","import { createCookieSessionStorage, redirect } from '@remix-run/node';\nimport invariant from 'tiny-invariant';\n\nimport { getUserById } from '~/models/user.server';\nimport { SessionUser } from '~/types';\n\ninvariant(process.env.VITE_SECRET, 'VITE_SECRET must be set.');\n\nexport const sessionStorage = createCookieSessionStorage({\n  cookie: {\n    name: '__session',\n    secrets: [process.env.VITE_SECRET ?? ''],\n    path: '/',\n    sameSite: 'lax',\n    httpOnly: true,\n    secure: process.env.NODE_ENV === 'production',\n    maxAge: 60 * 60 * 24 * 7, // 7 days\n  },\n});\n\nexport const { getSession, commitSession, destroySession } = sessionStorage;\n\n// 重定向到登录页\nconst redirectToLogin = (request: Request, redirectTo = request.url) => {\n  const searchParams = new URLSearchParams([['redirectTo', redirectTo]]);\n  throw redirect(`/login?${searchParams}`);\n};\n\n// 获取用户 Session\nexport async function getUserSession(request: Request) {\n  try {\n    return getSession(request.headers.get('Cookie'));\n  } catch (error) {\n    return null;\n  }\n}\n\n// 获取用户信息\nexport async function getUser(request: Request) {\n  try {\n    let user = null;\n    const session = await getUserSession(request);\n    const { role, id } = session?.get('user') as SessionUser;\n\n    if (id) {\n      user = await getUserById(id);\n    }\n\n    return { ...user, role };\n  } catch (error) {\n    return null;\n  }\n}\n\n// 校验用户登录 Session\nexport async function requireUserSession(request: Request, redirectTo: string = request.url) {\n  try {\n    const user = await getUser(request);\n    if (!user?.id) {\n      redirectToLogin(request, redirectTo);\n    }\n\n    return user;\n  } catch (error) {\n    redirectToLogin(request, redirectTo);\n  }\n}\n\n// 检验用户信息\nexport async function requireUser(request: Request) {\n  try {\n    const user = await getUser(request);\n\n    if (!user?.id) {\n      throw new Error('Unauthorized');\n    }\n\n    return { user, session: await getUserSession(request) };\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n","import { TRole } from '~/constants';\nimport { PermissionRule } from '~/types';\n\nimport { createEnforcer } from './casbin-enforcer.server';\nimport { getUserSession } from './session.server';\n\nexport async function checkPermission(subject: string, object: string, action: string): Promise<boolean> {\n  const enforcer = await createEnforcer();\n  return enforcer.enforce(subject, object, action);\n}\n\nexport async function getPermissions({\n  request,\n  userRole,\n}: {\n  request?: Request;\n  userRole?: TRole;\n}): Promise<PermissionRule[]> {\n  let rules: PermissionRule[] = [];\n\n  const enforcer = await createEnforcer();\n  const policies = await enforcer.getPolicy();\n\n  const rulesAll = policies.map(([subject, object, action, effect]) => ({\n    subject,\n    object,\n    action,\n    effect,\n  }));\n\n  let role = userRole;\n  if (!role && request) {\n    const session = await getUserSession(request);\n    const user = session?.get('user');\n    if (user?.role) {\n      role = user.role;\n    }\n  }\n\n  if (role) {\n    rules = rulesAll.filter((rule) => rule.subject === role);\n  }\n\n  return rules;\n}\n","import { Theme } from 'remix-themes';\n\nimport { LocaleLanguage } from '~/config';\n\nexport interface CookiePreferences {\n  sidebarIsClose?: string;\n  locale?: LocaleLanguage;\n  theme?: Theme | null;\n}\n\n/** 获取用户偏好Cookie */\nexport const getPreferencesCookie = async (request: Request): Promise<CookiePreferences> => {\n  const cookieHeader = request.headers.get('Cookie') || '';\n  const cookies = cookieHeader.split('; ').find((s) => s.startsWith('preferences='));\n\n  try {\n    return JSON.parse(cookies?.split('=')[1] || '{}') as CookiePreferences;\n  } catch (error) {\n    return {};\n  }\n};\n\n/** 获取待设置的用户偏好Cookie */\nexport const getPreferencesNextCookie = async (request: Request, cookie: CookiePreferences) => {\n  const exitingCookie = (await getPreferencesCookie(request)) || {};\n\n  const newCookie = JSON.stringify({\n    ...exitingCookie,\n    ...cookie,\n  });\n\n  return `preferences=${newCookie}; Path=/; SameSite=Lax`;\n};\n\n/** 设置用户偏好Cookie */\nexport const setPreferencesCookie = async (request: Request, cookie: CookiePreferences) => {\n  const newCookie = await getPreferencesNextCookie(request, cookie);\n\n  return new Response(null, {\n    headers: {\n      'Set-Cookie': newCookie,\n    },\n  });\n};\n","import { DataProvider } from '@refinedev/core';\n\nimport { dataResources, DEFAULT_PAGE_SIZE } from '~/config';\nimport { Resources } from '~/constants';\nimport { db } from '~/services';\nimport { PrismaFunc } from '~/types';\nimport { buildOrderByClause, buildWhereClause, Filter, parseRefineFilters, processDateFields } from '~/utils';\n\nfunction isPrismaModel(resource: string): resource is Resources {\n  return dataResources.some((r) => r.name.endsWith(resource));\n}\n\nexport const dataService: DataProvider = {\n  // 获取列表数据\n  getList: async ({ resource, pagination, sorters, filters, meta }) => {\n    const { current = 1, pageSize = DEFAULT_PAGE_SIZE } = pagination ?? {};\n    const skip = (Number(current) - 1) * Number(pageSize);\n\n    // 构建过滤条件\n    const parsedFilters = filters ? parseRefineFilters(filters as Filter[]) : [];\n    const where = parsedFilters.length > 0 ? buildWhereClause(parsedFilters) : {};\n\n    // 构建排序条件\n    const orderBy = sorters ? buildOrderByClause(sorters) : {};\n    if (!Object.keys(orderBy).length) {\n      orderBy.createdAt = 'desc';\n    }\n\n    // 确保 resource 是有效的 Prisma 模型\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    // 处理关联字段的查询条件\n    const whereCondition = Object.entries(where).reduce((acc, [key, value]) => {\n      if (key.includes('.')) {\n        const [relation, field] = key.split('.');\n        return {\n          ...acc,\n          [relation]: {\n            [field]: value,\n          },\n        };\n      }\n      return { ...acc, [key]: value };\n    }, {});\n\n    // 处理所有查询条件中的日期字段\n    const processedWhereCondition = processDateFields(whereCondition);\n\n    const queryParams = {\n      skip,\n      take: Number(pageSize),\n      where: processedWhereCondition,\n      orderBy,\n      ...meta,\n    };\n\n    const [total, items] = await Promise.all([\n      prismaModel.count({ where: processedWhereCondition }),\n      prismaModel.findMany(queryParams),\n    ]);\n\n    // 确保返回的数据格式符合 Refine 的期望\n    const result = {\n      data: items,\n      total,\n    };\n\n    return result;\n  },\n\n  // 创建数据\n  create: async ({ resource, variables, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    const data = await prismaModel.create({\n      data: variables,\n      ...meta,\n    });\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 更新数据\n  update: async ({ resource, id, variables, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    // 先检查记录是否存在\n    const existingRecord = await prismaModel.findUnique({\n      where: { id },\n      select: { id: true },\n    });\n\n    if (!existingRecord) {\n      throw new Error(`要更新的 \\`${resource}\\` 记录不存在, ID: ${id}`);\n    }\n\n    const data = await prismaModel.update({\n      where: { id },\n      data: variables,\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 删除数据\n  deleteOne: async ({ resource, id, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    // 先检查记录是否存在\n    const existingRecord = await prismaModel.findUnique({\n      where: { id },\n      select: { id: true },\n    });\n\n    if (!existingRecord) {\n      throw new Error(`要删除的 \\`${resource}\\` 记录不存在, ID: ${id}`);\n    }\n\n    const data = await prismaModel.delete({\n      where: { id },\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 获取单条数据\n  getOne: async ({ resource, id, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    const data = await prismaModel.findUnique({\n      where: { id },\n      ...meta,\n    });\n\n    if (!data) {\n      throw new Error(`404 数据实体 \\`${resource}\\` 中没有找到相关数据`);\n    }\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 获取多条数据\n  getMany: async ({ resource, ids, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    const data = await prismaModel.findMany({\n      where: {\n        id: {\n          in: ids,\n        },\n      },\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 批量创建\n  createMany: async ({ resource, variables, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    const data = await prismaModel.createMany({\n      data: variables,\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 批量删除\n  deleteMany: async ({ resource, ids, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    // 检查所有要删除的记录是否存在\n    const existingRecords = await prismaModel.findMany({\n      where: {\n        id: {\n          in: ids,\n        },\n      },\n      select: { id: true },\n    });\n\n    // 找出不存在的ID\n    const existingIds = existingRecords.map((record) => record.id);\n    const nonExistingIds = ids.filter((id) => !existingIds.includes(id));\n\n    if (nonExistingIds.length > 0) {\n      throw new Error(`要删除的 \\`${resource}\\` 记录不存在, ID: ${nonExistingIds.join(', ')}`);\n    }\n\n    const data = await prismaModel.deleteMany({\n      where: {\n        id: {\n          in: ids,\n        },\n      },\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 批量更新\n  updateMany: async ({ resource, ids, variables, meta }) => {\n    if (!isPrismaModel(resource)) {\n      throw new Error(`invalid resource type: ${resource}`);\n    }\n    const prismaModel = db[resource] as PrismaFunc;\n\n    // 先检查记录是否存在\n    const existingRecords = await prismaModel.findMany({\n      where: {\n        id: {\n          in: ids,\n        },\n      },\n      select: { id: true },\n    });\n\n    // 找出不存在的ID\n    const existingIds = existingRecords.map((record) => record.id);\n    const nonExistingIds = ids.filter((id) => !existingIds.includes(id));\n\n    if (nonExistingIds.length > 0) {\n      throw new Error(`要更新的 \\`${resource}\\` 记录不存在, ID: ${nonExistingIds.join(', ')}`);\n    }\n\n    const data = await prismaModel.updateMany({\n      where: {\n        id: {\n          in: ids,\n        },\n      },\n      data: variables,\n      ...meta,\n    });\n\n    return {\n      success: true,\n      data,\n    };\n  },\n\n  // 获取 API URL\n  // 用 db 时不需要 API URL，但为了展示完整性保留\n  getApiUrl: () => {\n    return '';\n  },\n\n  // 自定义请求\n  // 由于使用 db，通常不需要这个方法，但为了展示完整性保留\n  custom: async () => {\n    throw new Error('Custom method not implemented');\n  },\n};\n","import \"/Users/jiezhiyong/Documents/GitHub/refine/app/styles/base.css?transform-only\";export default \"__VITE_CSS_URL__2f55736572732f6a69657a6869796f6e672f446f63756d656e74732f4769744875622f726566696e652f6170702f7374796c65732f626173652e6373733f7472616e73666f726d2d6f6e6c79__\"","import \"/Users/jiezhiyong/Documents/GitHub/refine/app/styles/tailwind.css?transform-only\";export default \"__VITE_CSS_URL__2f55736572732f6a69657a6869796f6e672f446f63756d656e74732f4769744875622f726566696e652f6170702f7374796c65732f7461696c77696e642e6373733f7472616e73666f726d2d6f6e6c79__\"","import { User } from '@prisma/client';\nimport { Refine } from '@refinedev/core';\nimport { DevtoolsPanel, DevtoolsProvider } from '@refinedev/devtools';\nimport routerProvider, { UnsavedChangesNotifier } from '@refinedev/remix-router';\nimport type { ErrorResponse, HeadersFunction, LinksFunction, LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport type { ShouldRevalidateFunctionArgs } from '@remix-run/react';\nimport {\n  data,\n  isRouteErrorResponse,\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n  useNavigation,\n  useRouteError,\n} from '@remix-run/react';\nimport * as Sentry from '@sentry/remix';\nimport { captureRemixErrorBoundaryError, withSentry } from '@sentry/remix';\nimport { Loader } from 'lucide-react';\nimport nProgress from 'nprogress';\nimport nProgressStyles from 'nprogress/nprogress.css?url';\nimport { type PropsWithChildren, useEffect } from 'react';\nimport { PreventFlashOnWrongTheme, Theme, ThemeProvider } from 'remix-themes';\n\nimport { RefineKbar } from '~/component-refine';\nimport { NotFound, PageError } from '~/components';\nimport { Toaster } from '~/components-shadcn/sonner';\nimport { fallbackLanguage, LocaleLanguage } from '~/config/i18n';\nimport { dataResources } from '~/config/resources';\nimport { TRole } from '~/constants/roles';\nimport { RefineKbarProvider } from '~/lib/refinedev-kbar';\nimport {\n  accessControlProvider,\n  auditLogProvider,\n  authProvider,\n  dataProvider,\n  i18nProvider,\n  notificationProvider,\n  syncServiceLocaleToClient,\n} from '~/providers';\nimport { getPreferencesCookie, getUser } from '~/services';\nimport { getPermissions } from '~/services/casbin-permission.server';\nimport baseStyles from '~/styles/base.css?url';\nimport tailwindStyles from '~/styles/tailwind.css?url';\nimport { PermissionRule } from '~/types/casbin';\nimport { cn } from '~/utils';\nimport { generateSignature } from '~/utils/signature';\n\n/** 元数据 */\nexport const meta: MetaFunction = () => [\n  { property: 'og:title', content: 'This app is the best.' },\n  { name: 'description', content: 'Welcome to Remix!' },\n];\n\n/** 链接 */\nexport const links: LinksFunction = () => [\n  { rel: 'stylesheet', href: tailwindStyles },\n  { rel: 'stylesheet', href: baseStyles },\n  { rel: 'stylesheet', href: nProgressStyles },\n];\n\n/** 自定义 HTTP 标头 */\nexport const headers: HeadersFunction = () => ({\n  'Document-Policy': 'js-profiling',\n});\n\n/** 创建应用程序约定 */\nexport const handle = { i18n: ['translation'] };\n\n/** 加载器返回数据类型定义 */\nexport type RootLoaderData = {\n  user: (User & { role: TRole; roles: TRole[] }) | null;\n  theme: Theme | null;\n  sidebarIsClose?: string;\n  locale: LocaleLanguage;\n  permissions: PermissionRule[];\n  permissionsSignature: string;\n};\n\n/** 加载器 */\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const [user, permissions, { locale, sidebarIsClose, theme }] = await Promise.all([\n    getUser(request),\n    getPermissions({ request }),\n    getPreferencesCookie(request),\n  ]);\n\n  const localeNext = locale || fallbackLanguage;\n  await syncServiceLocaleToClient(localeNext);\n\n  // 在服务端为权限数据生成签名\n  const permissionsSignature = await generateSignature(permissions);\n\n  return data({\n    user,\n    theme: theme || Theme.LIGHT,\n    locale: localeNext,\n    sidebarIsClose,\n    permissions,\n    permissionsSignature,\n  });\n}\n\n/** 水和回退处理 */\nexport function HydrateFallback() {\n  return (\n    <h1 className=\"bg-background fixed inset-0 z-10 flex items-center justify-center\">\n      <Loader className=\"animate-spin\" />\n    </h1>\n  );\n}\n\nfunction Document({\n  children,\n  title,\n  specifiedTheme,\n  script = true,\n  locale,\n}: PropsWithChildren<{\n  title?: string;\n  specifiedTheme: Theme | null | string;\n  script?: boolean;\n  locale: LocaleLanguage;\n}>) {\n  const { permissions, permissionsSignature, user } = useLoaderData<typeof loader>();\n\n  // 设置 Sentry 用户信息\n  Sentry.setUser({ email: user?.email, username: user?.name || '?', id: user?.id });\n\n  // 重新登录后因为 window.__PERMISSIONS_DATA__ 设置成功时机不能确保早于客户端内层路由调用 useCan 的时机\n  // 所以这里手动设置一下\n  authProvider.setPermissions(permissions);\n\n  return (\n    <html lang={locale} className={cn(specifiedTheme ?? 'light')} suppressHydrationWarning>\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <Meta />\n        {title && <title>{title}</title>}\n        <PreventFlashOnWrongTheme ssrTheme={Boolean(specifiedTheme)} />\n        <Links />\n      </head>\n      <body>\n        <DevtoolsProvider>\n          <RefineKbarProvider>\n            <Refine\n              resources={dataResources}\n              routerProvider={routerProvider}\n              dataProvider={dataProvider}\n              authProvider={authProvider}\n              accessControlProvider={accessControlProvider}\n              notificationProvider={notificationProvider}\n              i18nProvider={i18nProvider}\n              auditLogProvider={auditLogProvider}\n              // liveProvider={liveProvider}\n              options={{\n                disableTelemetry: true,\n                mutationMode: 'pessimistic',\n                syncWithLocation: true,\n                warnWhenUnsavedChanges: true,\n                liveMode: 'auto',\n                reactQuery: {\n                  clientConfig: {\n                    defaultOptions: { queries: { networkMode: 'always' }, mutations: { networkMode: 'always' } },\n                  },\n                },\n              }}\n              onLiveEvent={(event) => {\n                console.log('@onLiveEvent', event);\n              }}\n            >\n              {children}\n              <UnsavedChangesNotifier />\n              <RefineKbar />\n              <DevtoolsPanel />\n            </Refine>\n          </RefineKbarProvider>\n        </DevtoolsProvider>\n        <ScrollRestoration />\n        {script && <Scripts crossOrigin=\"anonymous\" />}\n\n        {/* 注入权限数据和签名到全局变量 */}\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `\n              window.__PERMISSIONS_DATA__ = {\n                permissions: ${JSON.stringify(permissions)},\n                signature: \"${permissionsSignature}\"\n              };\n            `,\n          }}\n        />\n      </body>\n    </html>\n  );\n}\n\nfunction DocumentWithThemeProviders({\n  children,\n  title,\n  script = true,\n}: PropsWithChildren<{ title?: string; script?: boolean }>) {\n  const { theme, locale } = useLoaderData<typeof loader>() || {};\n\n  return (\n    <ThemeProvider specifiedTheme={theme} themeAction=\"/api/set-preferences\">\n      <Document title={title} specifiedTheme={theme} script={script} locale={locale}>\n        {children}\n        <Toaster richColors position=\"top-right\" />\n      </Document>\n    </ThemeProvider>\n  );\n}\n\nfunction App() {\n  const navigation = useNavigation();\n\n  nProgress.configure({ showSpinner: false });\n  useEffect(() => {\n    if (navigation.state === 'idle') nProgress.done();\n    else nProgress.start();\n  }, [navigation.state]);\n\n  return (\n    <DocumentWithThemeProviders>\n      <Outlet />\n    </DocumentWithThemeProviders>\n  );\n}\n\n/** 根组件 */\nexport default withSentry(App);\n\n/** 全局错误边界处理 */\nexport function ErrorBoundary() {\n  const error = useRouteError() as ErrorResponse | Error;\n  captureRemixErrorBoundaryError(error);\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <DocumentWithThemeProviders title={`${error.status} ${error.statusText}`} script={false}>\n        {error.status === 404 ? <NotFound /> : <PageError error={{ message: error.data }} />}\n      </DocumentWithThemeProviders>\n    );\n  }\n\n  return (\n    <DocumentWithThemeProviders title=\"Oh no!\" script={false}>\n      <PageError error={error as Error} />\n    </DocumentWithThemeProviders>\n  );\n}\n\n/** 重新验证处理 */\nexport function shouldRevalidate({ defaultShouldRevalidate }: ShouldRevalidateFunctionArgs) {\n  return defaultShouldRevalidate;\n}\n","import { MetaFunction } from '@remix-run/node';\n\nimport { PageError } from '~/components/500';\nimport { getDefaultTitle } from '~/utils/get-default-title';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// UI\nexport default function DashboardViewTransition() {\n  return (\n    <div className=\"flex flex-1 items-center justify-center\">\n      <img\n        alt=\"\"\n        width={400}\n        height={400}\n        className=\"border-secondary rounded-lg border shadow-lg\"\n        src=\"/logo.png\"\n        style={{\n          viewTransitionName: 'image-expand',\n        }}\n      />\n    </div>\n  );\n}\n\n// 错误边界\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'border-input placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[60px] w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs focus-visible:ring-1 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n","// 审计日志状态类型\nexport const LOG_STATUS = {\n  create: 'create',\n  createMany: 'createMany',\n  delete: 'delete',\n  deleteMany: 'deleteMany',\n  update: 'update',\n  updateMany: 'updateMany',\n} as const;\n\nexport const LOG_STATUS_LIST = Object.values(LOG_STATUS);\n\n// 审计日志状态\nexport type LogStatus = (typeof LOG_STATUS)[keyof typeof LOG_STATUS];\n\n// 审计日志状态映射\nexport const LOG_STATUS_MAP = {\n  create: { badge: 'outline' },\n  createMany: { badge: 'outline' },\n  delete: { badge: 'destructive' },\n  deleteMany: { badge: 'destructive' },\n  update: { badge: undefined },\n  updateMany: { badge: undefined },\n};\n","// 文章状态类型\nexport const POST_STATUS = {\n  DRAFT: 'DRAFT',\n  PUBLISHED: 'PUBLISHED',\n  REJECTED: 'REJECTED',\n} as const;\n\nexport const POST_STATUS_LIST = Object.values(POST_STATUS);\n\n// 文章状态\nexport type PostStatus = (typeof POST_STATUS)[keyof typeof POST_STATUS];\n\n// 文章状态映射\nexport const POST_STATUS_MAP = {\n  DRAFT: { badge: 'outline' },\n  PUBLISHED: { badge: undefined },\n  REJECTED: { badge: 'destructive' },\n};\n","import { User } from '@prisma/client';\n\nimport { TRole } from '~/constants';\n\nexport type SessionUser = User & { role: TRole; roles: TRole[] };\n\nexport const USER_PROVIDER = {\n  userpass: 'userpass',\n  tcshuke: 'tcshuke',\n} as const;\n","import { zodResolver } from '@hookform/resolvers/zod';\nimport { Post } from '@prisma/client';\nimport { GetOneResponse, RedirectAction, useModalReturnType, useSelect } from '@refinedev/core';\nimport { useForm } from '@refinedev/react-hook-form';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport { useCallback } from 'react';\nimport { z } from 'zod';\n\nimport { CloneButton, DeleteButton, ShowButton } from '~/component-refine';\nimport { Combobox, Field, Form, Select } from '~/component-refine/components';\nimport { PageError } from '~/components';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '~/components-shadcn/dialog';\nimport { Input } from '~/components-shadcn/input';\nimport { Textarea } from '~/components-shadcn/textarea';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { HandleFunction, POST_STATUS_LIST } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 创建应用程序约定\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\n// 页面初始化时的`GET`请求 && 表单`GET`请求\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const [initialData] = await Promise.all([\n    dataService.getOne<Post>({\n      resource: EnumResource.post,\n      id: params?.id || '',\n    }),\n  ]);\n\n  return {\n    initialData,\n  };\n}\n\n// UI\nexport default function PostEdit() {\n  const { initialData } = useLoaderData<typeof loader>();\n  return <PostForm initialData={initialData} />;\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <ShowButton variant=\"ghost\" size=\"icon\" />\n      <DeleteButton variant=\"ghost\" size=\"icon\" />\n      <CloneButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n\n// 编辑表单\nconst formSchema = z.object({\n  title: z.string().min(2, { message: 'Title must be at least 2 characters.' }),\n  content: z.string().min(2),\n  status: z.string(),\n  categoryId: z.string(),\n});\ntype TFormSchema = z.infer<typeof formSchema>;\n\n// 过滤数据，只保留 formSchema 中定义的字段\nconst filterFormData = (data: Partial<Post> | undefined) => {\n  if (!data) return undefined;\n\n  return {\n    title: data.title,\n    content: data.content,\n    status: data.status,\n    categoryId: data.categoryId,\n  };\n};\n\nexport const PostForm = ({\n  className,\n  redirect = EnumAction.list,\n  initialData,\n  formModalClose,\n}: {\n  className?: string;\n  redirect?: RedirectAction;\n  initialData?: GetOneResponse<Post>;\n  formModalClose?: () => void;\n}) => {\n  const categoryOptions = useSelect({ resource: EnumResource.category }).options;\n\n  const { data } = initialData || {};\n\n  const enableAutoSave = true; // 注意：autoSave 不会触发表单验证\n  const form = useForm<TFormSchema>({\n    resolver: zodResolver(formSchema),\n    defaultValues: filterFormData(data),\n    warnWhenUnsavedChanges: true,\n    refineCoreProps: {\n      resource: EnumResource.post,\n      action: data?.id ? EnumAction.edit : EnumAction.create,\n      id: data?.id,\n      queryOptions: initialData\n        ? {\n            queryFn: () => initialData,\n            initialData: initialData,\n          }\n        : undefined,\n      redirect,\n      autoSave: {\n        enabled: enableAutoSave,\n        debounce: 2000,\n        invalidateOnUnmount: true,\n        onFinish: (values) => {\n          return modifyingDataBeforeSubmission(values as TFormSchema);\n        },\n      },\n    },\n  });\n\n  // 提交前修改数据，注意：返回新的数据对象而不是修改原对象\n  const modifyingDataBeforeSubmission = useCallback((values: TFormSchema) => {\n    return { ...values };\n  }, []);\n\n  return (\n    <Form\n      {...form}\n      autoSave={enableAutoSave}\n      modifyingDataBeforeSubmission={modifyingDataBeforeSubmission}\n      className={className}\n      formModalClose={formModalClose}\n      recordItemId={data?.id}\n    >\n      <Field {...form} name=\"title\" label=\"Title\">\n        <Input placeholder=\"Title\" />\n      </Field>\n\n      <Field {...form} name=\"categoryId\" label=\"Category\">\n        <Combobox options={categoryOptions} popoverProps={{ modal: Boolean(formModalClose) }} />\n      </Field>\n\n      <Field {...form} name=\"status\" label=\"Status\">\n        <Select options={POST_STATUS_LIST.map((status) => ({ label: status, value: status }))} />\n      </Field>\n\n      <Field {...form} name=\"content\" label=\"Content\">\n        <Textarea placeholder=\"Content\" rows={10} />\n      </Field>\n    </Form>\n  );\n};\n\nexport function PostFormModal(props: useModalReturnType & { record?: Post }) {\n  const { visible, close, record } = props;\n\n  return (\n    <Dialog open={visible} onOpenChange={close}>\n      <DialogContent className=\"max-w-6xl\">\n        <DialogHeader className=\"border-b pb-4\">\n          <DialogTitle>Edit Post</DialogTitle>\n          <DialogDescription>This is a Demo for Edit Form on Modal.</DialogDescription>\n        </DialogHeader>\n\n        <PostForm className=\"p-0\" formModalClose={close} initialData={record ? { data: { ...record } } : undefined} />\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { Post } from '@prisma/client';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\n\nimport { PageError } from '~/components';\nimport { EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { getDefaultTitle } from '~/utils';\n\nimport { PostForm } from './playground.article.post.edit.$id';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 页面初始化时的`GET`请求 && 表单`GET`请求\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const [initialData] = await Promise.all([\n    dataService.getOne<Post>({\n      resource: EnumResource.post,\n      id: params?.id || '',\n    }),\n  ]);\n\n  return { initialData };\n}\n\n// UI\nexport default function PostClone() {\n  const { initialData } = useLoaderData<typeof loader>();\n  return <PostForm initialData={initialData} />;\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { Category, Post, User } from '@prisma/client';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { CalendarIcon, ClockIcon, LeafyGreen, MailIcon } from 'lucide-react';\n\nimport { CloneButton, DeleteButton, EditButton } from '~/component-refine';\nimport { PageError } from '~/components';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Badge } from '~/components-shadcn/badge';\nimport { H1, Image, P } from '~/components-shadcn/typography';\nimport { EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { HandleFunction, POST_STATUS_MAP, PostStatus, TAny } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 创建应用程序约定\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\n// 页面初始化时的`GET`请求 && 表单`GET`请求\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const [initialData] = await Promise.all([\n    dataService.getOne<Post & { category?: Category; user?: User }>({\n      resource: EnumResource.post,\n      id: params?.id || '',\n      meta: {\n        include: {\n          user: true,\n          category: true,\n        },\n      },\n    }),\n  ]);\n\n  return { initialData };\n}\n\n// UI\nexport default function PostShow() {\n  const { initialData } = useLoaderData<typeof loader>();\n  const { data } = initialData;\n\n  return (\n    <article className=\"px-8 pt-8 pb-4\">\n      <header className=\"mb-8\">\n        <H1 className=\"relative mb-4 inline-flex gap-3 text-4xl font-bold\">\n          <span>{data.title}</span>\n          <div className=\"inline-flex shrink-0 items-start pt-3.5\">\n            <Badge className=\"tracking-wide\" variant={POST_STATUS_MAP[data.status as PostStatus]?.badge as TAny}>\n              {data.status?.charAt(0)?.toUpperCase() + data.status?.slice(1)?.toLowerCase()}\n            </Badge>\n          </div>\n        </H1>\n\n        <div className=\"text-muted-foreground mb-8 flex flex-wrap items-center gap-4 text-sm\">\n          <div className=\"flex items-center\">\n            <LeafyGreen className=\"mr-2 h-4 w-4\" />\n            <span>Category: {data.category?.title}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <CalendarIcon className=\"mr-2 h-4 w-4\" />\n            <span>Created: {new Date(data.createdAt).toLocaleDateString()}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <ClockIcon className=\"mr-2 h-4 w-4\" />\n            <span>Updated: {dayjs(data.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</span>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <Avatar>\n            <AvatarImage src={data.user?.avatar || ''} alt={data.user?.name || ''} />\n            <AvatarFallback>{data.user?.name?.slice(0, 2).toUpperCase()}</AvatarFallback>\n          </Avatar>\n          <div>\n            <p className=\"font-medium\">{data.user?.name}</p>\n            <p className=\"text-muted-foreground flex items-center text-sm\">\n              <MailIcon className=\"mr-2 h-4 w-4\" />\n              {data.user?.email}\n            </p>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"prose mb-8 max-w-none\">\n        <P>{data.content}</P>\n      </div>\n\n      <Image src={''} alt={data.title} className=\"h-[700px]\" />\n    </article>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <EditButton variant=\"ghost\" size=\"icon\" />\n      <DeleteButton variant=\"ghost\" size=\"icon\" />\n      <CloneButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { Document, Image, Page, PDFViewer, StyleSheet, Text, View } from '@react-pdf/renderer';\n\nimport { TAny } from '~/types';\n\ntype PdfProps = {\n  record: TAny;\n};\n\n/**\n * PDF Layout 示例\n * 实际使用时请根据需要修改，在业务路由中使用\n */\nexport const PdfLayout = ({ record }: PdfProps) => {\n  return (\n    <PDFViewer style={styles.viewer}>\n      <Document>\n        <Page style={styles.page} size=\"A4\">\n          <View>\n            <Image src={'/logo.png'} style={{ width: '100px', height: 'auto' }} />\n            <View style={styles.inoviceTextNumberContainer}>\n              <Text style={styles.inoviceText}>{`Title: ${record.title}`}</Text>\n              <Text style={styles.inoviceId}>{`Date: 2024-01-01 00:00:00`}</Text>\n            </View>\n          </View>\n          <View style={styles.dividerLG} />\n\n          <View style={styles.inoviceForFromCotnainer}>\n            <View style={styles.inoviceFor}>\n              <Text style={styles.inoviceForFromTitle}>Inovice For:</Text>\n              <View>\n                <Text style={styles.inoviceForFromText}>{'Kshlerin, Heaney and Lehner'}</Text>\n                <Text style={styles.inoviceForFromText}>{'Margie Smith'}</Text>\n                <Text style={styles.inoviceForFromText}>{'margie@example.com'}</Text>\n              </View>\n            </View>\n\n            <View style={styles.inoviceFrom}>\n              <Text style={styles.inoviceForFromTitle}>From:</Text>\n              <View>\n                <Text style={styles.inoviceForFromText}>{'Emard Inc'}</Text>\n                <Text style={styles.inoviceForFromText}>{'Huntington Beach'}</Text>\n                <Text style={styles.inoviceForFromText}>{'College St, 4091, United States'}</Text>\n              </View>\n            </View>\n          </View>\n\n          <View style={styles.table}>\n            <View style={styles.tableHeader}>\n              <Text style={[styles.tableHeaderItem, { width: '40%' }]}>Mission</Text>\n              <Text style={[styles.tableHeaderItem, { width: '20%' }]}>Day</Text>\n              <Text style={[styles.tableHeaderItem, { width: '20%' }]}>Day Rate</Text>\n              <Text style={[styles.tableHeaderItem, { width: '20%' }]}>Total</Text>\n            </View>\n            {[\n              { mission: 'transition models', day: 3, daily_rate: 209, total: 627 },\n              { mission: 'strategize initiatives ', day: 4, daily_rate: 253, total: 1012 },\n              { mission: 'incubate experiences ', day: 4, daily_rate: 254, total: 1016 },\n            ].map((item, index) => {\n              return (\n                <View key={index} style={styles.tableRow}>\n                  <Text style={[styles.tableCol, { width: '40%' }]}>{item.mission}</Text>\n                  <Text style={[styles.tableCol, { width: '20%' }]}>{item?.day}</Text>\n                  <Text style={[styles.tableCol, { width: '20%' }]}>{item?.daily_rate}</Text>\n                  <Text style={[styles.tableCol, { width: '20%' }]}>{item?.daily_rate * item?.day}</Text>\n                </View>\n              );\n            })}\n          </View>\n\n          <View style={styles.signatureTotalContainer}>\n            <View style={styles.signatureContainer}>\n              <Text style={styles.signatureText}>Signature:</Text>\n            </View>\n            <View style={styles.totalContainer}>\n              <Text style={styles.totalText}>Total: {'2,655'}</Text>\n              <Text style={styles.totalText}>Discount(%): {'0'}</Text>\n              <Text style={styles.totalText}>Tax(%): {'0'}</Text>\n            </View>\n          </View>\n          <View style={styles.footer}>\n            <Text style={styles.footerText}>{'Huntington Beach'}</Text>\n            <Text style={styles.footerText}>{'College St, 4091, United States'}</Text>\n          </View>\n        </Page>\n      </Document>\n    </PDFViewer>\n  );\n};\n\nconst styles = StyleSheet.create({\n  viewer: {\n    width: '100%',\n    height: '80vh',\n    border: 'none',\n  },\n  page: {\n    display: 'flex',\n    padding: '0.4in 0.4in',\n    fontSize: 12,\n    color: '#333',\n    backgroundColor: '#fff',\n  },\n  inoviceTextNumberContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  inoviceText: {\n    color: '#3aabf0',\n  },\n  inoviceId: {\n    textAlign: 'center',\n  },\n  inoviceForFromCotnainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  inoviceForFromTitle: {\n    marginBottom: 12,\n  },\n  inoviceFor: {\n    flex: 1.5,\n  },\n  inoviceFrom: {\n    flex: 1,\n  },\n  inoviceForFromText: {\n    color: '#787878',\n    lineHeight: 1.2,\n  },\n  dividerLG: {\n    width: '100%',\n    height: 1,\n    marginTop: 20,\n    marginBottom: 20,\n    backgroundColor: '#e5e5e5',\n  },\n  table: {\n    marginTop: 16,\n  },\n  tableHeader: {\n    display: 'flex',\n    flexDirection: 'row',\n    textAlign: 'left',\n  },\n  tableHeaderItem: {\n    paddingVertical: 8,\n    paddingHorizontal: 4,\n    border: '1px solid #000',\n  },\n  tableRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  tableCol: {\n    paddingVertical: 8,\n    paddingHorizontal: 4,\n    border: '1px solid #000',\n  },\n  signatureTotalContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 16,\n  },\n  signatureContainer: {},\n  totalContainer: {},\n  signatureText: {\n    lineHeight: 1.2,\n  },\n  totalText: {\n    lineHeight: 1.2,\n  },\n  footer: {\n    borderTop: '1px solid #e5e5e5',\n    paddingTop: 16,\n    marginTop: 'auto',\n  },\n  footerText: {\n    color: '#787878',\n    lineHeight: 1.2,\n  },\n});\n","import { Post } from '@prisma/client';\nimport { BaseRecord, HttpError, useCan, useDeleteMany, useModal, useUserFriendlyName } from '@refinedev/core';\nimport { parseTableParams } from '@refinedev/remix-router';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { Paperclip } from 'lucide-react';\nimport { useCallback, useRef } from 'react';\n\nimport { CreateButton, ExportButton, ImportButton, ShowButton, Table, TableFilterProps } from '~/component-refine';\nimport { PageError } from '~/components';\nimport { PdfLayout } from '~/components/pdf';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '~/components-shadcn/dialog';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { type UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { PostFormModal } from '~/routes/playground.article.post.edit.$id';\nimport { dataService } from '~/services';\nimport { HandleFunction, POST_STATUS, POST_STATUS_MAP, PostStatus, TAny } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\n// 自定义获取的数据类型声明\ntype PostRecord = Post & { user: { name: string; avatar: string } & { category: { title: string } } };\n\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const tableParams = parseTableParams(url.search);\n\n  const data = await dataService.getList<Post>({\n    ...tableParams,\n    resource: EnumResource.post,\n    meta: {\n      include: {\n        user: { select: { name: true, avatar: true } },\n        category: { select: { title: true } },\n      },\n    },\n  });\n\n  return { initialData: data };\n}\n\nexport default function PostIndex() {\n  const { initialData } = useLoaderData<typeof loader>();\n  const { mutate: deleteMany } = useDeleteMany();\n  const { data: deletePermission } = useCan({ resource: EnumResource.post, action: EnumAction.delete });\n  const { data: filedHitPermission } = useCan({\n    resource: EnumResource.post,\n    action: EnumAction.field,\n    params: { field: 'hit' },\n  });\n\n  const recordRef = useRef<PostRecord>();\n  const useModalReturn1 = useModal();\n  const useModalReturn2 = useModal();\n  const friendly = useUserFriendlyName();\n\n  const bulkDeleteAction = (table: UseTableReturnType<BaseRecord, HttpError>) => {\n    const rows = table.getSelectedRowModel().rows;\n    const label = `Delete Selected (${rows.length}) ${friendly('Row', rows.length > 1 ? 'plural' : 'singular')}`;\n\n    return {\n      className: 'text-destructive!',\n      label,\n      disabled: !deletePermission?.can,\n      onClick: () => {\n        deleteMany(\n          {\n            resource: EnumResource.post,\n            ids: rows.map((row) => row.original.id!),\n          },\n          {\n            onSuccess: () => {\n              table.resetRowSelection();\n            },\n          }\n        );\n      },\n    };\n  };\n\n  return (\n    <>\n      <PostFormModal {...useModalReturn1} record={recordRef.current} />\n      <Table\n        enableSorting\n        enableFilters\n        enableHiding\n        toolbar={[<CreateButton key=\"create\" />]}\n        initialState={{\n          columnVisibility: {\n            updatedAt: false,\n          },\n          sorting: [\n            {\n              id: 'createdAt',\n              desc: true,\n            },\n          ],\n        }}\n        refineCoreProps={{\n          queryOptions: { initialData },\n          meta: {\n            join: [\n              {\n                field: EnumResource.user,\n                select: ['name', 'avatar'],\n              },\n              {\n                field: EnumResource.category,\n                select: ['title'],\n              },\n            ],\n          },\n        }}\n      >\n        <Table.Column\n          accessorKey=\"id\"\n          id=\"id\"\n          header={({ table }) => <Table.CheckAll table={table} options={[bulkDeleteAction(table)]} />}\n          cell={({ row }) => (\n            <Checkbox\n              className=\"ml-2\"\n              checked={row.getIsSelected()}\n              onCheckedChange={(value) => row.toggleSelected(!!value)}\n              aria-label=\"Select row\"\n              key={`checkbox-${row.original.id}`}\n            />\n          )}\n        />\n\n        <Table.Column\n          header=\"Title\"\n          accessorKey=\"title\"\n          id=\"title\"\n          meta={{\n            filterOperator: 'contains',\n          }}\n          filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Title\" />}\n          cell={({ row: { index, original }, table }) => {\n            const pageIndex = table.getState().pagination.pageIndex;\n            const pageSize = table.getState().pagination.pageSize;\n            return (\n              <ShowButton recordItemId={original.id} asChild>\n                <span className=\"text-muted-foreground inline-block min-w-8\">\n                  {pageIndex * pageSize + index + 1}.&nbsp;\n                </span>\n                <span className=\"py-3 underline-offset-2 hover:text-green-600 hover:underline\">{original.title}</span>\n              </ShowButton>\n            );\n          }}\n        />\n\n        <Table.Column\n          header=\"Category\"\n          accessorKey=\"category.title\"\n          id=\"category.title\"\n          meta={{\n            filterOperator: 'contains',\n          }}\n          enableHiding\n          filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Category\" />}\n        />\n\n        <Table.Column\n          header=\"Hit\"\n          accessorKey=\"hit\"\n          id=\"hit\"\n          enableSorting\n          enableHiding\n          cell={({ row: { original } }) => <span>{original.hit.toLocaleString()}</span>}\n        />\n\n        <Table.Column\n          header=\"Status\"\n          accessorKey=\"status\"\n          id=\"status\"\n          enableSorting\n          enableHiding\n          cell={({ row: { original } }) => (\n            <Badge variant={POST_STATUS_MAP[original.status as PostStatus]?.badge as TAny}>\n              {original.status?.charAt(0)?.toUpperCase() + original.status?.slice(1)?.toLowerCase()}\n            </Badge>\n          )}\n          filter={(props: TableFilterProps) => (\n            <Table.Filter.Dropdown\n              {...props}\n              options={Object.entries(POST_STATUS).map(([key, value]) => ({\n                label: key?.charAt(0)?.toUpperCase() + key?.slice(1)?.toLowerCase(),\n                value,\n              }))}\n            />\n          )}\n        />\n\n        <Table.Column\n          header=\"CreatedAt\"\n          accessorKey=\"createdAt\"\n          id=\"createdAt\"\n          enableSorting\n          enableHiding\n          filter={(props: TableFilterProps) => <Table.Filter.DateRangePicker {...props} align=\"end\" />}\n          cell={({ row: { original } }) => dayjs(original.createdAt).format('YYYY-MM-DD HH:mm:ss')}\n        />\n\n        <Table.Column\n          header=\"UpdatedAt\"\n          accessorKey=\"updatedAt\"\n          id=\"updatedAt\"\n          enableSorting\n          enableHiding\n          filter={(props: TableFilterProps) => <Table.Filter.DateRangePicker {...props} align=\"end\" />}\n          cell={({ row: { original } }) => dayjs(original.updatedAt).format('YYYY-MM-DD HH:mm:ss')}\n        />\n\n        <Table.Column\n          header=\"Author\"\n          accessorKey=\"user.name\"\n          id=\"user.name\"\n          enableHiding\n          meta={{\n            filterOperator: 'contains',\n          }}\n          filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Author\" />}\n          cell={useCallback(\n            ({ row: { original } }: { row: { original: BaseRecord } }) => (\n              <div className=\"flex items-center gap-2\">\n                <Avatar className=\"size-6\">\n                  <AvatarImage src={original.user?.avatar || ''} alt={original.user?.name || ''} />\n                  <AvatarFallback>{original.user?.name?.slice(0, 1).toUpperCase()}</AvatarFallback>\n                </Avatar>\n                <span>{original.user?.name}</span>\n              </div>\n            ),\n            []\n          )}\n        />\n\n        <Table.Column\n          header=\"Actions\"\n          accessorKey=\"id\"\n          id=\"actions\"\n          cell={useCallback(\n            ({ row: { original } }: { row: { original: PostRecord } }) => (\n              <Table.Actions row={original} resource=\"post\">\n                <Table.ShowAction />\n                <Table.EditAction />\n\n                <Table.EditAction\n                  title=\"Edit in Modal\"\n                  onClick={() => {\n                    recordRef.current = original;\n                    useModalReturn1.show();\n                  }}\n                />\n\n                <Table.CloneAction />\n                <Table.DeleteAction />\n\n                <Table.ShowAction\n                  title=\"Show PDF\"\n                  icon={<Paperclip size={16} />}\n                  onClick={() => {\n                    recordRef.current = original;\n                    useModalReturn2.show();\n                  }}\n                />\n              </Table.Actions>\n            ),\n            [useModalReturn1, useModalReturn2]\n          )}\n        />\n      </Table>\n\n      {/* View PDF in Modal */}\n      <Dialog open={useModalReturn2.visible} onOpenChange={useModalReturn2.close}>\n        <DialogContent className=\"max-w-6xl\">\n          <DialogHeader className=\"border-b pb-4\">\n            <DialogTitle>View PDF</DialogTitle>\n            <DialogDescription>This is a Demo for View PDF on Modal.</DialogDescription>\n          </DialogHeader>\n          <PdfLayout record={recordRef.current} />\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <ImportButton variant=\"ghost\" size=\"icon\" />\n      <ExportButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { MetaFunction } from '@remix-run/node';\n\nimport { PageError } from '~/components';\nimport { getDefaultTitle } from '~/utils';\n\nimport { PostForm } from './playground.article.post.edit.$id';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// UI\nexport default function PostCreate() {\n  return <PostForm />;\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { LoaderFunctionArgs, redirect } from '@remix-run/node';\n\nimport { EnumAuthProvider } from '~/constants';\nimport { createUser, getUserByEmail } from '~/models/user.server';\nimport { authenticator, commitSession, getSession } from '~/services';\nimport { TAny } from '~/types';\n\n// OAuth2 认证回调 - 处理重定向触发的 GET 请求\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  const { provider } = params;\n  if (!provider) {\n    return Response.json({ message: 'provider is required' }, { status: 405 });\n  }\n\n  // 确保使用 HTTPS URL、创建新的请求对象，使用 HTTPS URL\n  const url = new URL(request.url);\n  url.protocol = 'https:';\n  const secureRequest = new Request(url, request);\n\n  try {\n    const user = await authenticator.authenticate(provider, secureRequest);\n    const { email, name } = user;\n    if (!email || !name) {\n      return Response.json({ message: 'Authentication failed, unable to get user.' }, { status: 401 });\n    }\n\n    const session = await getSession(secureRequest.headers.get('Cookie'));\n    const existingUser = await getUserByEmail(email);\n\n    if (existingUser?.id) {\n      session.set('user', existingUser);\n    } else {\n      const userNew = await createUser({ email, name, provider: EnumAuthProvider.tcshuke });\n      session.set('user', userNew);\n    }\n\n    const headers = new Headers();\n    headers.append('Set-Cookie', await commitSession(session));\n\n    return redirect('/', {\n      headers,\n    });\n  } catch (error: TAny) {\n    console.error('@authenticator.OAuth2.callback', error);\n    return Response.json({ message: error?.message || 'Authentication failed, unknown error.' }, { status: 401 });\n  }\n};\n","import { MetaFunction } from '@remix-run/node';\n\nimport { ComingSoon, PageError } from '~/components';\nimport { getDefaultTitle } from '~/utils';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// UI\nexport default function DashboardIndex() {\n  return <ComingSoon />;\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { useTranslation } from '@refinedev/core';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { Form, UIMatch, useSearchParams } from '@remix-run/react';\nimport { t } from 'i18next';\nimport {\n  ArrowDown,\n  ArrowUp,\n  Bell,\n  ChevronRight,\n  Copy,\n  CornerUpLeft,\n  CornerUpRight,\n  FileText,\n  GalleryVerticalEnd,\n  LineChart,\n  Link,\n  MoreHorizontal,\n  Plus,\n  Search,\n  Settings2,\n  Star,\n  Trash,\n  Trash2,\n} from 'lucide-react';\nimport React from 'react';\nimport { DateRange } from 'react-day-picker';\n\nimport { PageError } from '~/components';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Button } from '~/components-shadcn/button';\nimport { Calendar } from '~/components-shadcn/calendar';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '~/components-shadcn/collapsible';\nimport { Label } from '~/components-shadcn/label';\nimport { Popover, PopoverContent, PopoverTrigger } from '~/components-shadcn/popover';\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarInput,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarSeparator,\n} from '~/components-shadcn/sidebar';\nimport { useDebounceSubmit, useUpdateSearchParams } from '~/hooks';\nimport { syncServiceLocaleToClient } from '~/providers';\nimport { getPreferencesCookie } from '~/services';\nimport { HandleFunction } from '~/types';\nimport { tryParse } from '~/utils';\n\n// 元数据\nexport const meta: MetaFunction<typeof loader> = ({ data }) => {\n  return [{ title: data?.title }, { name: 'description', content: data?.description }];\n};\n\n// 创建应用程序约定\nexport const handle: HandleFunction = {\n  uiTools: (_match: UIMatch, _matchs: UIMatch[]) => {\n    return <UiTools />;\n  },\n  uiFilter: (_match: UIMatch, _matchs: UIMatch[]) => {\n    return <UiFilter />;\n  },\n};\n\n// 加载器\nexport async function loader({ request }: LoaderFunctionArgs) {\n  // 注意：如果要使用 SSR 进行翻译，需要手动同步服务端与客户端的 locale\n  await syncServiceLocaleToClient((await getPreferencesCookie(request)).locale);\n\n  return { title: t('title'), description: t('description') };\n}\n\n// UI\nexport default function DashboardAbout() {\n  const { translate: t } = useTranslation();\n  return (\n    <div className=\"flex flex-1 flex-col items-center justify-center text-center\">\n      <h1 className=\"text-6xl text-[#3defe9]\">{t('title', '')}</h1>\n      <p className=\"my-10 text-3xl text-[#fecc1b]\">{t('description', '')}</p>\n\n      <div className=\"space-y-2 space-x-2 *:py-1 *:text-sm\">\n        <Badge>前后端一体化架构</Badge>\n        <Badge>SSR 服务端渲染</Badge>\n        <Badge>路由并行加载</Badge>\n        <Badge>CRUD 开发简化</Badge>\n        <Badge>状态持久化</Badge>\n        <Badge>TypeScript 类型安全</Badge>\n        <br />\n        <Badge>身份验证</Badge>\n        <Badge>访问控制</Badge>\n        <Badge>审计日志</Badge>\n        <Badge>实时数据</Badge>\n        <Badge>调试辅助</Badge>\n        <Badge>主题切换</Badge>\n        <Badge>多国语言</Badge>\n        <br />\n        <Badge>日志上报 & 监控告警</Badge>\n      </div>\n\n      {/* <PrefetchPageLinks page=\"/playground/article/post\" /> */}\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n\n// UI - 导航工具\nconst dataTools = [\n  [\n    { label: 'Customize Page', icon: Settings2 },\n    { label: 'Turn into wiki', icon: FileText },\n  ],\n  [\n    { label: 'Copy Link', icon: Link },\n    { label: 'Duplicate', icon: Copy },\n    { label: 'Move to', icon: CornerUpRight },\n    { label: 'Move to Trash', icon: Trash2 },\n  ],\n  [\n    { label: 'Undo', icon: CornerUpLeft },\n    { label: 'View analytics', icon: LineChart },\n    { label: 'Version History', icon: GalleryVerticalEnd },\n    { label: 'Show delete pages', icon: Trash },\n    { label: 'Notifications', icon: Bell },\n  ],\n  [\n    { label: 'Import', icon: ArrowUp },\n    { label: 'Export', icon: ArrowDown },\n  ],\n];\n\nfunction UiTools() {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [searchParams] = useSearchParams();\n  const updateSearchParams = useUpdateSearchParams();\n\n  const starred = Boolean(searchParams.get('starred'));\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <div className=\"text-muted-foreground ml-2 hidden font-medium md:inline-block\">Edit Oct 08</div>\n\n      <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={() => updateSearchParams({ starred: !starred })}>\n        <Star className={starred ? 'fill-yellow-400' : ''} />\n      </Button>\n\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\n        <PopoverTrigger asChild>\n          <Button variant=\"ghost\" size=\"icon\" className=\"data-[state=open]:bg-accent h-7 w-7\">\n            <MoreHorizontal />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-56 overflow-hidden rounded-lg p-0\" align=\"end\">\n          <Sidebar collapsible=\"none\" className=\"bg-transparent\">\n            <SidebarContent>\n              {dataTools.map((group, index) => (\n                <SidebarGroup key={index} className=\"border-b last:border-none\">\n                  <SidebarGroupContent className=\"gap-0\">\n                    <SidebarMenu>\n                      {group.map((item, index) => {\n                        const isActive = Boolean(searchParams.get(item.label));\n                        return (\n                          <SidebarMenuItem key={index}>\n                            <SidebarMenuButton\n                              onClick={() => updateSearchParams({ [item.label]: !isActive })}\n                              isActive={isActive}\n                            >\n                              <item.icon /> <span>{item.label}</span>\n                            </SidebarMenuButton>\n                          </SidebarMenuItem>\n                        );\n                      })}\n                    </SidebarMenu>\n                  </SidebarGroupContent>\n                </SidebarGroup>\n              ))}\n            </SidebarContent>\n          </Sidebar>\n        </PopoverContent>\n      </Popover>\n    </div>\n  );\n}\n\n// UI - 右侧过滤器\nconst dataFilter = {\n  checkbox: [\n    {\n      title: 'Calendars Type',\n      name: 'calendarsType',\n      items: [\n        { label: 'Personal', id: 'personal' },\n        { label: 'Work', id: 'work' },\n        { label: 'Family', id: 'family' },\n      ],\n    },\n    {\n      title: 'Calendars Favorites',\n      name: 'calendarsFavorites',\n      items: [\n        { label: 'Holidays', id: 'holidays' },\n        { label: 'Birthdays', id: 'birthdays' },\n      ],\n    },\n  ],\n};\n\nfunction UiFilter() {\n  const [searchParams] = useSearchParams();\n  const dateRange = tryParse(searchParams.get('dateRange')) as unknown as DateRange;\n  const updateSearchParams = useUpdateSearchParams();\n  const debounceSubmit = useDebounceSubmit();\n\n  return (\n    <Form className=\"flex flex-1 flex-col overflow-x-hidden\" onChange={(event) => debounceSubmit(event)}>\n      <SidebarContent>\n        <SidebarGroup className=\"p-0\">\n          <Calendar\n            className=\"[&_[role=gridcell]]:w-[33px]\"\n            mode=\"range\"\n            selected={dateRange}\n            onSelect={(res) => {\n              updateSearchParams({ dateRange: JSON.stringify(res) });\n            }}\n          />\n        </SidebarGroup>\n\n        <SidebarSeparator className=\"mx-0\" />\n\n        <SidebarGroup>\n          <div className=\"relative\">\n            <Search className=\"pointer-events-none absolute top-1/2 left-2 size-4 -translate-y-1/2 opacity-50 select-none\" />\n            <Label htmlFor=\"desc\" className=\"sr-only\">\n              Search\n            </Label>\n            <SidebarInput\n              type=\"search\"\n              id=\"desc\"\n              name=\"desc\"\n              defaultValue={searchParams.get('desc') || ''}\n              placeholder=\"Search ...\"\n              className=\"pl-8\"\n            />\n          </div>\n        </SidebarGroup>\n\n        {dataFilter.checkbox.map((group, index) => (\n          <React.Fragment key={group.name}>\n            <SidebarSeparator className=\"mx-0\" />\n            <SidebarGroup className=\"py-0\">\n              <Collapsible defaultOpen={index === 0} className=\"group/collapsible\">\n                <SidebarGroupLabel\n                  asChild\n                  className=\"group/label text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground w-full text-sm\"\n                >\n                  <CollapsibleTrigger>\n                    {group.title}\n                    <ChevronRight className=\"ml-auto transition-transform group-data-[state=open]/collapsible:rotate-90\" />\n                  </CollapsibleTrigger>\n                </SidebarGroupLabel>\n\n                <CollapsibleContent className=\"space-y-2 px-2 py-2\">\n                  {group.items.map((item, index) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <Checkbox\n                        name={group.name}\n                        id={item.id}\n                        value={item.id}\n                        defaultChecked={Boolean(searchParams.getAll(group.name).includes(item.id))}\n                      />\n                      <Label htmlFor={item.id} className=\"text-sm font-normal\">\n                        {item.label}\n                      </Label>\n                    </div>\n                  ))}\n                </CollapsibleContent>\n              </Collapsible>\n            </SidebarGroup>\n          </React.Fragment>\n        ))}\n      </SidebarContent>\n\n      <SidebarFooter>\n        <SidebarMenu>\n          <SidebarMenuItem>\n            <SidebarMenuButton type=\"button\">\n              <Plus />\n              <span>New</span>\n            </SidebarMenuButton>\n          </SidebarMenuItem>\n        </SidebarMenu>\n      </SidebarFooter>\n    </Form>\n  );\n}\n","import { Role } from '@prisma/client';\nimport { BaseRecord, HttpError, useCan, useDeleteMany, useUserFriendlyName } from '@refinedev/core';\nimport { parseTableParams } from '@refinedev/remix-router';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { useCallback } from 'react';\n\nimport { ExportButton, ShowButton } from '~/component-refine';\nimport { Table, TableFilterProps } from '~/component-refine/table';\nimport { PageError } from '~/components';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { type UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { dataService } from '~/services';\nimport { HandleFunction } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const tableParams = parseTableParams(url.search);\n\n  const data = await dataService.getList<Role>({\n    ...tableParams,\n    resource: EnumResource.role,\n    meta: {\n      include: {\n        creator: { select: { name: true, avatar: true } },\n      },\n    },\n  });\n\n  return { initialData: data };\n}\n\nexport default function RoleIndex() {\n  const { initialData } = useLoaderData<typeof loader>();\n\n  const friendly = useUserFriendlyName();\n  const { mutate: deleteMany } = useDeleteMany();\n  const { data: deletePermission } = useCan({ resource: EnumResource.role, action: EnumAction.delete });\n\n  const bulkDeleteAction = (table: UseTableReturnType<BaseRecord, HttpError>) => {\n    const rows = table.getSelectedRowModel().rows;\n    const label = `Delete Selected (${rows.length}) ${friendly('Row', rows.length > 1 ? 'plural' : 'singular')}`;\n\n    return {\n      className: 'text-destructive!',\n      label,\n      disabled: !deletePermission?.can,\n      onClick: () => {\n        deleteMany(\n          {\n            resource: EnumResource.role,\n            ids: rows.map((row) => row.original.id!),\n          },\n          {\n            onSuccess: () => {\n              table.resetRowSelection();\n            },\n          }\n        );\n      },\n    };\n  };\n\n  return (\n    <Table\n      enableSorting\n      enableFilters\n      enableHiding\n      initialState={{\n        sorting: [\n          {\n            id: 'createdAt',\n            desc: true,\n          },\n        ],\n      }}\n      refineCoreProps={{\n        queryOptions: { initialData },\n        meta: {\n          join: [\n            {\n              field: 'creator',\n              select: ['name', 'avatar'],\n            },\n          ],\n        },\n      }}\n    >\n      <Table.Column\n        accessorKey=\"id\"\n        id=\"id\"\n        header={({ table }) => <Table.CheckAll table={table} options={[bulkDeleteAction(table)]} />}\n        cell={({ row }) => (\n          <Checkbox\n            className=\"ml-2\"\n            checked={row.getIsSelected()}\n            onCheckedChange={(value) => row.toggleSelected(!!value)}\n            aria-label=\"Select row\"\n            key={`checkbox-${row.original.id}`}\n          />\n        )}\n      />\n\n      <Table.Column\n        header=\"Title\"\n        accessorKey=\"title\"\n        id=\"title\"\n        meta={{\n          filterOperator: 'contains',\n        }}\n        filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Title\" />}\n        cell={({ row: { index, original }, table }) => {\n          const pageIndex = table.getState().pagination.pageIndex;\n          const pageSize = table.getState().pagination.pageSize;\n\n          return (\n            <ShowButton recordItemId={original.id} asChild>\n              <span className=\"text-muted-foreground inline-block min-w-8\">\n                {pageIndex * pageSize + index + 1}.&nbsp;\n              </span>\n              <span className=\"py-3 capitalize underline-offset-2 visited:text-red-600 hover:text-green-600 hover:underline\">\n                {original.title}\n              </span>\n            </ShowButton>\n          );\n        }}\n      />\n\n      <Table.Column\n        header=\"CreatedAt\"\n        accessorKey=\"createdAt\"\n        id=\"createdAt\"\n        enableSorting\n        enableHiding\n        filter={(props: TableFilterProps) => <Table.Filter.DateRangePicker {...props} align=\"end\" />}\n        cell={({ row: { original } }) => dayjs(original.createdAt).format('YYYY-MM-DD HH:mm:ss')}\n      />\n\n      <Table.Column\n        header=\"Creator\"\n        accessorKey=\"creator\"\n        id=\"creator\"\n        enableHiding\n        meta={{\n          filterOperator: 'contains',\n        }}\n        filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Creator\" />}\n        cell={useCallback(\n          ({ row: { original } }: { row: { original: BaseRecord } }) => (\n            <div className=\"flex items-center gap-2\">\n              <Avatar className=\"size-6\">\n                <AvatarImage src={original.creator?.avatar || ''} alt={original.creator?.name || ''} />\n                <AvatarFallback>{original.creator?.name?.slice(0, 1).toUpperCase()}</AvatarFallback>\n              </Avatar>\n              <span>{original.creator?.name}</span>\n            </div>\n          ),\n          []\n        )}\n      />\n\n      <Table.Column\n        header=\"Actions\"\n        accessorKey=\"id\"\n        id=\"actions\"\n        cell={({ row: { original } }: { row: { original: BaseRecord } }) => (\n          <ShowButton recordItemId={original.id} size=\"icon\" variant=\"ghost\" />\n        )}\n      />\n    </Table>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <ExportButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { User } from '@prisma/client';\nimport { BaseRecord, HttpError, useCan, useDeleteMany, useUserFriendlyName } from '@refinedev/core';\nimport { parseTableParams } from '@refinedev/remix-router';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { useCallback } from 'react';\n\nimport { DeleteButton, ExportButton, ShowButton, Table, TableFilterProps } from '~/component-refine';\nimport { PageError } from '~/components';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { type UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { dataService } from '~/services';\nimport { HandleFunction, TAny, USER_PROVIDER } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const tableParams = parseTableParams(url.search);\n\n  const data = await dataService.getList<User>({\n    ...tableParams,\n    resource: EnumResource.user,\n    meta: {\n      include: {\n        _count: {\n          select: {\n            Post: true,\n          },\n        },\n      },\n    },\n  });\n\n  return { initialData: data };\n}\n\nexport default function UserIndex() {\n  const { initialData } = useLoaderData<typeof loader>();\n\n  const friendly = useUserFriendlyName();\n  const { mutate: deleteMany } = useDeleteMany();\n  const { data: deletePermission } = useCan({ resource: EnumResource.user, action: EnumAction.delete });\n\n  const bulkDeleteAction = (table: UseTableReturnType<BaseRecord, HttpError>) => {\n    const rows = table.getSelectedRowModel().rows;\n    const label = `Delete Selected (${rows.length}) ${friendly('Row', rows.length > 1 ? 'plural' : 'singular')}`;\n\n    return {\n      className: 'text-destructive!',\n      label,\n      disabled: !deletePermission?.can,\n      onClick: () => {\n        deleteMany(\n          {\n            resource: EnumResource.user,\n            ids: rows.map((row) => row.original.id!),\n          },\n          {\n            onSuccess: () => {\n              table.resetRowSelection();\n            },\n          }\n        );\n      },\n    };\n  };\n\n  return (\n    <Table\n      enableSorting\n      enableFilters\n      enableHiding\n      initialState={{\n        sorting: [\n          {\n            id: 'createdAt',\n            desc: true,\n          },\n        ],\n      }}\n      refineCoreProps={{\n        queryOptions: { initialData },\n        meta: {\n          join: [\n            {\n              field: EnumResource.post,\n              count: true,\n            },\n          ],\n        },\n      }}\n    >\n      <Table.Column\n        accessorKey=\"id\"\n        id=\"id\"\n        header={({ table }) => <Table.CheckAll table={table} options={[bulkDeleteAction(table)]} />}\n        cell={({ row }) => (\n          <Checkbox\n            className=\"ml-2\"\n            checked={row.getIsSelected()}\n            onCheckedChange={(value) => row.toggleSelected(!!value)}\n            aria-label=\"Select row\"\n            key={`checkbox-${row.original.id}`}\n          />\n        )}\n      />\n\n      <Table.Column\n        header=\"Name\"\n        accessorKey=\"name\"\n        id=\"name\"\n        enableHiding\n        meta={{\n          filterOperator: 'contains',\n        }}\n        filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Author\" />}\n        cell={useCallback(\n          ({ row: { index, original }, table }: { row: { index: number; original: BaseRecord }; table: TAny }) => {\n            const pageIndex = table.getState().pagination.pageIndex;\n            const pageSize = table.getState().pagination.pageSize;\n\n            return (\n              <ShowButton recordItemId={original.id} asChild>\n                <span className=\"text-muted-foreground inline-block min-w-8\">\n                  {pageIndex * pageSize + index + 1}.&nbsp;\n                </span>\n\n                <span className=\"py-3 capitalize underline-offset-2 hover:text-green-600 hover:underline\">\n                  {original.name}\n                </span>\n              </ShowButton>\n            );\n          },\n          []\n        )}\n      />\n\n      <Table.Column\n        header=\"Provider\"\n        accessorKey=\"provider\"\n        id=\"provider\"\n        enableSorting\n        enableHiding\n        cell={({ row: { original } }) => {\n          return (\n            <Badge variant=\"outline\">{original.provider?.charAt(0)?.toUpperCase() + original.provider?.slice(1)}</Badge>\n          );\n        }}\n        filter={(props: TableFilterProps) => (\n          <Table.Filter.Radio\n            {...props}\n            options={Object.entries(USER_PROVIDER).map(([key, value]) => ({\n              label: key?.charAt(0)?.toUpperCase() + key?.slice(1),\n              value,\n            }))}\n          />\n        )}\n      />\n\n      <Table.Column\n        header=\"CreatedAt\"\n        accessorKey=\"createdAt\"\n        id=\"createdAt\"\n        enableSorting\n        enableHiding\n        filter={(props: TableFilterProps) => <Table.Filter.DateRangePicker {...props} align=\"end\" />}\n        cell={({ row: { original } }) => dayjs(original.createdAt).format('YYYY-MM-DD HH:mm:ss')}\n      />\n\n      <Table.Column\n        header=\"Actions\"\n        accessorKey=\"id\"\n        id=\"actions\"\n        cell={({ row: { original } }: { row: { original: BaseRecord } }) => (\n          <DeleteButton recordItemId={original.id} size=\"icon\" variant=\"ghost\" className=\"text-destructive!\" />\n        )}\n      />\n    </Table>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <ExportButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { type ActionFunctionArgs } from '@remix-run/node';\n\nimport { EnumAuthProvider } from '~/constants';\nimport { authenticator, commitSession, getSession } from '~/services';\nimport { TAny } from '~/types';\n\nexport async function loader() {\n  return Response.json({ message: 'Method not allowed' }, { status: 405 });\n}\n\nexport const action = async ({ request, params }: ActionFunctionArgs) => {\n  try {\n    const { provider } = params as { provider: EnumAuthProvider };\n    if (!provider || ![EnumAuthProvider.userpass, EnumAuthProvider.tcshuke].includes(provider)) {\n      return Response.json({ message: 'Method not allowed' }, { status: 405 });\n    }\n\n    // 处理不同的认证提供者\n    const user = await authenticator.authenticate(provider, request);\n\n    // 处理 userpass 认证提供者成功回调 - 将用户信息存入session\n    if (provider === EnumAuthProvider.userpass && user) {\n      const session = await getSession(request.headers.get('Cookie'));\n      session.set('user', user);\n\n      const headers = new Headers();\n      headers.append('Set-Cookie', await commitSession(session));\n\n      return Response.json(user, { headers });\n    }\n\n    return Response.json({ message: 'Authentication failed, unable to get user.' }, { status: 401 });\n  } catch (error: TAny) {\n    // 处理 OAuth2.tcshuke 认证提供者 302 重定向\n    if (error.status === 302) {\n      return error;\n    }\n\n    console.error('@authenticator', error);\n    return Response.json({ message: error?.message || 'Authentication failed, unknown error.' }, { status: 401 });\n  }\n};\n","import * as TabsPrimitive from '@radix-ui/react-tabs';\nimport * as React from 'react';\n\nimport { cn } from '~/utils';\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'bg-muted text-muted-foreground inline-flex h-9 items-center justify-center rounded-lg p-1',\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'ring-offset-background focus-visible:ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center rounded-md px-3 py-1 text-sm font-medium whitespace-nowrap transition-all focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm',\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'ring-offset-background focus-visible:ring-ring mt-2 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden',\n      className\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger };\n","import { zodResolver } from '@hookform/resolvers/zod';\nimport { Category } from '@prisma/client';\nimport { HttpError, useDelete, useModal, useNotification, useSelect, useTranslation, useUpdate } from '@refinedev/core';\nimport { useModalForm, useStepsForm } from '@refinedev/react-hook-form';\nimport { ActionFunctionArgs, LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { Link, useViewTransitionState } from '@remix-run/react';\nimport { CheckCheck, Undo2 } from 'lucide-react';\nimport { useCallback } from 'react';\nimport { FieldValues } from 'react-hook-form';\nimport { z } from 'zod';\n\nimport { Combobox, Field, Select } from '~/component-refine/components';\nimport { PageError } from '~/components/500';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '~/components-shadcn/alert-dialog';\nimport { Button } from '~/components-shadcn/button';\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '~/components-shadcn/dialog';\nimport { Form } from '~/components-shadcn/form';\nimport { Input } from '~/components-shadcn/input';\nimport { Tabs, TabsList, TabsTrigger } from '~/components-shadcn/tabs';\nimport { Textarea } from '~/components-shadcn/textarea';\nimport { H2 } from '~/components-shadcn/typography';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { requireUserSession } from '~/services/session.server';\nimport { POST_STATUS, POST_STATUS_LIST } from '~/types';\nimport { getAllParams } from '~/utils/get-all-params';\nimport { getDefaultTitle } from '~/utils/get-default-title';\n\n// 元数据\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\n// 加载器\nexport async function loader({ request, params }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  const mergedParams = await getAllParams<{ redirectTo?: string }>(request, params);\n  return {};\n}\n\n// 处理 POST、PATCH、DELETE 请求\nexport async function action({ request, params }: ActionFunctionArgs) {\n  const mergedParams = await getAllParams<{ id?: string }>(request, params);\n  return {};\n}\n\n// UI\nexport default function DashboardDemo() {\n  return (\n    <div className=\"px-8 pt-8 pb-4\">\n      <H2>useViewTransition</H2>\n      <DemoUseViewTransitionState />\n\n      <H2>Notification</H2>\n      <DemoNotification />\n\n      <H2>AlertDialog & Modal & useModal</H2>\n      <DemoModal />\n\n      <H2>useModalForm</H2>\n      <DemoUseModalForm />\n\n      <H2>useStepsForm</H2>\n      <DemoUseStepsForm />\n\n      <H2>sentry</H2>\n      <DemoSentry />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n\nconst DemoNotification = () => {\n  const { open: openNotification, close: closeNotification } = useNotification();\n\n  return (\n    <ul className=\"mt-4 flex gap-2\">\n      <Button\n        onClick={() => {\n          openNotification?.({\n            key: 'my-notification-abc',\n            message: 'Test Notification',\n            description: 'This is a test notification.',\n            type: 'progress',\n          });\n        }}\n      >\n        Progress\n      </Button>\n\n      <Button\n        onClick={() => {\n          openNotification?.({\n            key: 'my-notification-abc',\n            message: 'Test Notification',\n            description: 'This is a test notification.',\n            type: 'success',\n          });\n        }}\n      >\n        Success\n      </Button>\n\n      <Button\n        onClick={() => {\n          openNotification?.({\n            key: 'my-notification-abc',\n            message: 'Test Notification',\n            description: 'This is a test notification.',\n            type: 'error',\n          });\n        }}\n      >\n        Failed\n      </Button>\n\n      <Button\n        onClick={() => {\n          closeNotification?.('my-notification-abc');\n        }}\n      >\n        Close\n      </Button>\n    </ul>\n  );\n};\n\nconst DemoModal = () => {\n  const { visible: modalVisible, show: showModal, close: closeModal } = useModal();\n\n  return (\n    <ul className=\"mt-4 flex gap-2\">\n      <AlertDialog>\n        <AlertDialogTrigger asChild>\n          <Button>Show AlertDialog</Button>\n        </AlertDialogTrigger>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This action cannot be undone. This will permanently delete your account and remove your data from our\n              servers.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction>Continue</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <Dialog\n        open={modalVisible}\n        onOpenChange={(open) => {\n          if (open) {\n            showModal();\n          } else {\n            closeModal();\n          }\n        }}\n      >\n        <DialogTrigger asChild>\n          <Button>Show Modal</Button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Are you absolutely sure?</DialogTitle>\n            <DialogDescription>\n              This action cannot be undone. This will permanently delete your account and remove your data from our\n              servers.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <DialogClose asChild>\n              <Button variant=\"outline\">Cancel</Button>\n            </DialogClose>\n            <Button>Continue</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      <Button onClick={showModal}>Show Modal - useModal</Button>\n    </ul>\n  );\n};\n\n/**\n * useModalForm\n * https://refine.dev/docs/packages/react-hook-form/use-modal-form/\n */\nconst editPostId = '0d97bea4-a06f-4f7e-8771-d4b884a46be7';\nconst formSchema = z.object({\n  title: z.string().min(2, { message: 'Title must be at least 2 characters.' }),\n  content: z.string().min(2).optional(),\n});\ntype FormSchema1 = z.infer<typeof formSchema>;\n\nconst DemoUseModalForm = () => {\n  const { options } = useSelect<Category, HttpError>({\n    resource: EnumResource.category,\n  });\n\n  // 提交前修改数据，注意：返回新的数据对象而不是修改原对象\n  const modifyingDataBeforeSubmission = useCallback((values: FormSchema1) => {\n    return { ...values, content: '...' };\n  }, []);\n\n  const form = useModalForm<FormSchema1>({\n    resolver: zodResolver(formSchema),\n    defaultValues: { title: '' },\n    modalProps: { defaultVisible: false },\n    syncWithLocation: { key: 'modalEditPost', syncId: true },\n    refineCoreProps: {\n      resource: EnumResource.post,\n      action: EnumAction.edit,\n      id: editPostId,\n\n      // autoSave: { // 注意：autoSave 不会触发表单验证\n      //   enabled: false,\n      //   onFinish: modifyingDataBeforeSubmission,\n      //   debounce: 2000,\n      //   invalidateOnClose: true,\n      //   invalidateOnUnmount: true,\n      // },\n    },\n  });\n\n  const {\n    formState: { errors },\n    refineCore: { onFinish, formLoading, autoSaveProps },\n    modal: { title, visible, close, show },\n    handleSubmit,\n    saveButtonProps,\n  } = form;\n\n  const onSubmit = handleSubmit((_data: FieldValues) => {\n    const values = form.getValues() as FormSchema1;\n    onFinish(modifyingDataBeforeSubmission(values));\n  });\n\n  const { translate: t } = useTranslation();\n  const disabled = formLoading || saveButtonProps.disabled;\n  return (\n    <ul className=\"mt-4 flex gap-2\">\n      <Button onClick={() => show(editPostId)}>{t(title)}</Button>\n\n      <Dialog open={visible} onOpenChange={close}>\n        <DialogContent className=\"max-w-6xl\">\n          <DialogHeader className=\"border-b pb-4\">\n            <DialogTitle>{t(title)}</DialogTitle>\n            <DialogDescription>This is a Demo for Edit Form on Modal.</DialogDescription>\n          </DialogHeader>\n\n          <Form {...form}>\n            <form onSubmit={onSubmit} className=\"space-y-8\">\n              <Field {...form} name=\"title\" label=\"Title\">\n                <Input placeholder=\"Title\" />\n              </Field>\n              <Field {...form} name=\"categoryId\" label=\"Category\">\n                <Combobox options={options} popoverProps={{ modal: true }} />\n              </Field>\n\n              <Button type=\"submit\" icon={<CheckCheck />} loading={formLoading} disabled={disabled}>\n                Submit\n              </Button>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    </ul>\n  );\n};\n\n/**\n * useStepsForm\n * https://refine.dev/docs/packages/react-hook-form/use-steps-form/\n */\nconst stepTitles = ['Title', 'Status', 'Category and Content'];\n\nconst formSchema2 = z.object({\n  title: z.string().min(2, { message: 'Title must be at least 2 characters.' }),\n  content: z.string().min(2),\n  status: z.string(),\n  categoryId: z.string(),\n});\ntype FormSchema2 = z.infer<typeof formSchema2>;\n\nconst DemoUseStepsForm = () => {\n  const form = useStepsForm<FormSchema2>({\n    resolver: zodResolver(formSchema2),\n    defaultValues: { title: '', status: POST_STATUS.DRAFT, content: '', categoryId: '' },\n    warnWhenUnsavedChanges: true,\n    refineCoreProps: {\n      resource: EnumResource.post,\n      action: EnumAction.edit,\n      id: editPostId,\n      autoSave: {\n        enabled: false,\n      },\n    },\n    stepsProps: {\n      defaultStep: 0,\n      isBackValidate: false,\n    },\n  });\n\n  const {\n    formState: { errors },\n    refineCore: { onFinish, formLoading, autoSaveProps },\n    handleSubmit,\n    steps: { currentStep, gotoStep },\n    saveButtonProps,\n  } = form;\n\n  const { options } = useSelect<Category, HttpError>({\n    resource: EnumResource.category,\n  });\n\n  const renderFormByStep = (step: number) => {\n    switch (step) {\n      case 0:\n        return (\n          <Field {...form} name=\"title\" label=\"Title\">\n            <Input placeholder=\"Title\" />\n          </Field>\n        );\n      case 1:\n        return (\n          <Field {...form} name=\"status\" label=\"Status\">\n            <Select options={POST_STATUS_LIST.map((status) => ({ label: status, value: status }))} />\n          </Field>\n        );\n      case 2:\n        return (\n          <>\n            <Field {...form} name=\"categoryId\" label=\"Category\">\n              <Combobox options={options} />\n            </Field>\n\n            <Field {...form} name=\"content\" label=\"Content\">\n              <Textarea placeholder=\"Content\" rows={10} />\n            </Field>\n          </>\n        );\n    }\n  };\n\n  const modifyingDataBeforeSubmission = useCallback((values: FormSchema2) => {\n    return { ...values, content: '...' };\n  }, []);\n\n  const onSubmit = handleSubmit((_data: FieldValues) => {\n    const values = form.getValues() as FormSchema2;\n    onFinish(modifyingDataBeforeSubmission(values));\n  });\n\n  const disabled = formLoading || saveButtonProps.disabled;\n  return (\n    <div className=\"mt-4 flex w-[600px] flex-col gap-8\">\n      <Tabs\n        defaultValue={stepTitles[0]}\n        value={stepTitles[currentStep]}\n        onValueChange={(value) => gotoStep(stepTitles.indexOf(value))}\n      >\n        <TabsList>\n          {stepTitles.map((title, index) => (\n            <TabsTrigger key={index} value={title}>\n              {index + 1} - {title}\n            </TabsTrigger>\n          ))}\n        </TabsList>\n      </Tabs>\n\n      <Form {...form}>\n        <form className=\"space-y-8\" onSubmit={onSubmit}>\n          {renderFormByStep(currentStep)}\n\n          <div style={{ display: 'flex', gap: 8 }}>\n            {currentStep > 0 && (\n              <Button type=\"button\" icon={<Undo2 />} onClick={() => gotoStep(currentStep - 1)} disabled={disabled}>\n                Previous\n              </Button>\n            )}\n            {currentStep < stepTitles.length - 1 && (\n              <Button type=\"button\" icon={<CheckCheck />} onClick={() => gotoStep(currentStep + 1)} disabled={disabled}>\n                Next\n              </Button>\n            )}\n            {currentStep === stepTitles.length - 1 && (\n              <Button type=\"submit\" icon={<CheckCheck />} disabled={disabled}>\n                Save\n              </Button>\n            )}\n          </div>\n        </form>\n      </Form>\n    </div>\n  );\n};\n\nconst DemoUseViewTransitionState = () => {\n  const to = `/playground/dashboard/viewTransition`;\n  const vt = useViewTransitionState(to);\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <Link prefetch=\"intent\" viewTransition to={to}>\n        <img\n          alt=\"\"\n          className=\"border-secondary mt-4 h-32 rounded-md border shadow-md\"\n          src=\"/logo.png\"\n          style={{\n            viewTransitionName: vt ? 'image-expand' : '',\n          }}\n        />\n      </Link>\n    </div>\n  );\n};\n\nconst DemoSentry = () => {\n  const { mutate: mutateDelete } = useDelete();\n  const { mutate: mutateUpdate } = useUpdate({ resource: EnumResource.post });\n\n  return (\n    <ul className=\"mt-4 flex gap-2\">\n      <Button\n        onClick={() => {\n          throw new Error('Sentry Example Frontend Error');\n        }}\n      >\n        Throw a sample error\n      </Button>\n\n      <Button\n        onClick={() => {\n          mutateDelete({ resource: 'products', id: '123' });\n        }}\n      >\n        Delete a sample record\n      </Button>\n\n      <Button\n        onClick={() => {\n          mutateUpdate({ id: editPostId, values: { invalidKey: '123' } });\n        }}\n      >\n        Update a sample record\n      </Button>\n    </ul>\n  );\n};\n","import { Log } from '@prisma/client';\nimport { LoaderFunctionArgs } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport { CalendarIcon, LeafyGreen, MailIcon } from 'lucide-react';\n\nimport { PageError } from '~/components';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Label } from '~/components-shadcn/label';\nimport { H1 } from '~/components-shadcn/typography';\nimport { EnumResource } from '~/constants';\nimport { dataService } from '~/services';\nimport { LOG_STATUS_MAP, LogStatus, TAny } from '~/types';\n\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const { id } = params;\n\n  const { data: log } = await dataService.getOne<Log & { user: { name: string; email: string; avatar?: string } }>({\n    resource: EnumResource.log,\n    id: id as string,\n    meta: {\n      include: {\n        user: {\n          select: { name: true, email: true, avatar: true },\n        },\n      },\n    },\n  });\n\n  if (!log) {\n    throw new Response('未找到日志记录', { status: 404 });\n  }\n\n  return { log };\n}\n\nexport default function LogShow() {\n  const { log } = useLoaderData<typeof loader>();\n\n  const data = JSON.parse(log.data || '{}');\n  const previousData = JSON.parse(log.previousData || '{}');\n  const meta = JSON.parse(log.meta || '{}');\n\n  return (\n    <article className=\"px-8 pt-8 pb-4\">\n      <header className=\"mb-8\">\n        <H1 className=\"relative mb-4 inline-flex gap-3 text-4xl font-bold\">\n          <span className=\"capitalize\">\n            Audit Log Detail - {meta.parent}.{log.resource}\n          </span>\n          <div className=\"inline-flex shrink-0 items-start pt-3.5\">\n            <Badge className=\"tracking-wide\" variant={LOG_STATUS_MAP[log.action as LogStatus]?.badge as TAny}>\n              {log.action}\n            </Badge>\n          </div>\n        </H1>\n\n        <div className=\"text-muted-foreground mb-8 flex flex-wrap items-center gap-4 text-sm\">\n          <div className=\"flex items-center\">\n            <LeafyGreen className=\"mr-2 h-4 w-4\" />\n            <span>\n              Resource: {meta.parent}.{log.resource}\n            </span>\n          </div>\n          <div className=\"flex items-center\">\n            <CalendarIcon className=\"mr-2 h-4 w-4\" />\n            <span>Created: {new Date(log.createdAt).toLocaleDateString()}</span>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <Avatar>\n            <AvatarImage src={log.user?.avatar || ''} alt={log.user?.name || ''} />\n            <AvatarFallback>{log.user?.name?.slice(0, 2).toUpperCase()}</AvatarFallback>\n          </Avatar>\n          <div>\n            <p className=\"font-medium\">{log.user?.name}</p>\n            <p className=\"text-muted-foreground flex items-center text-sm\">\n              <MailIcon className=\"mr-2 h-4 w-4\" />\n              {log.user?.email}\n            </p>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"space-y-6\">\n        {log.data && (\n          <div>\n            <Label>Data</Label>\n            <pre className=\"bg-muted mt-1 overflow-x-auto rounded-lg p-4 text-sm whitespace-pre\">\n              {JSON.stringify(data, null, 2)}\n            </pre>\n          </div>\n        )}\n\n        {log.previousData && (\n          <div>\n            <Label>Previous Data</Label>\n            <pre className=\"bg-muted mt-1 overflow-x-auto rounded-lg p-4 text-sm whitespace-pre\">\n              {JSON.stringify(previousData, null, 2)}\n            </pre>\n          </div>\n        )}\n\n        {log.meta && (\n          <div>\n            <Label>Meta Data</Label>\n            <pre className=\"bg-muted mt-1 overflow-x-auto rounded-lg p-4 text-sm whitespace-pre\">\n              {JSON.stringify(meta, null, 2)}\n            </pre>\n          </div>\n        )}\n      </div>\n    </article>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { CanAccess } from '@refinedev/core';\nimport { LoaderFunctionArgs } from '@remix-run/node';\n\nimport { Layout, PageError, PermissionDenied } from '~/components';\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return null;\n}\n\n// UI\nexport default function Post() {\n  return (\n    <CanAccess fallback={<PermissionDenied />}>\n      <Layout />\n    </CanAccess>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { Post } from '@prisma/client';\nimport { BaseRecord, HttpError, useCan, useDeleteMany, useUserFriendlyName } from '@refinedev/core';\nimport { parseTableParams } from '@refinedev/remix-router';\nimport { LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport dayjs from 'dayjs';\nimport { useCallback } from 'react';\n\nimport { ExportButton, ShowButton, Table, TableFilterProps } from '~/component-refine';\nimport { PageError } from '~/components';\nimport { Avatar, AvatarFallback, AvatarImage } from '~/components-shadcn/avatar';\nimport { Badge } from '~/components-shadcn/badge';\nimport { Checkbox } from '~/components-shadcn/checkbox';\nimport { EnumAction, EnumResource } from '~/constants';\nimport { type UseTableReturnType } from '~/lib/refinedev-react-table';\nimport { dataService } from '~/services';\nimport { HandleFunction, LOG_STATUS, LOG_STATUS_MAP, LogStatus, TAny } from '~/types';\nimport { getDefaultTitle } from '~/utils';\n\nexport const meta: MetaFunction = ({ matches }) => {\n  return [{ title: getDefaultTitle(matches) }];\n};\n\nexport const handle: HandleFunction = {\n  uiTools: () => {\n    return <UiTools />;\n  },\n};\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const tableParams = parseTableParams(url.search);\n\n  const data = await dataService.getList<Post>({\n    ...tableParams,\n    resource: EnumResource.log,\n    meta: {\n      include: {\n        user: { select: { name: true, avatar: true } },\n      },\n    },\n  });\n\n  return { initialData: data };\n}\n\nexport default function LogIndex() {\n  const { initialData } = useLoaderData<typeof loader>();\n\n  const friendly = useUserFriendlyName();\n  const { mutate: deleteMany } = useDeleteMany();\n  const { data: deletePermission } = useCan({ resource: EnumResource.log, action: EnumAction.delete });\n\n  const bulkDeleteAction = (table: UseTableReturnType<BaseRecord, HttpError>) => {\n    const rows = table.getSelectedRowModel().rows;\n    const label = `Delete Selected (${rows.length}) ${friendly('Row', rows.length > 1 ? 'plural' : 'singular')}`;\n\n    return {\n      className: 'text-destructive!',\n      label,\n      disabled: !deletePermission?.can,\n      onClick: () => {\n        deleteMany(\n          {\n            resource: EnumResource.log,\n            ids: rows.map((row) => row.original.id!),\n          },\n          {\n            onSuccess: () => {\n              table.resetRowSelection();\n            },\n          }\n        );\n      },\n    };\n  };\n\n  return (\n    <Table\n      enableSorting\n      enableFilters\n      enableHiding\n      initialState={{\n        sorting: [\n          {\n            id: 'createdAt',\n            desc: true,\n          },\n        ],\n      }}\n      refineCoreProps={{\n        queryOptions: { initialData },\n        meta: {\n          join: [\n            {\n              field: EnumResource.user,\n              select: ['name', 'avatar'],\n            },\n          ],\n        },\n      }}\n    >\n      <Table.Column\n        accessorKey=\"id\"\n        id=\"id\"\n        header={({ table }) => <Table.CheckAll table={table} options={[bulkDeleteAction(table)]} />}\n        cell={({ row }) => (\n          <Checkbox\n            className=\"ml-2\"\n            checked={row.getIsSelected()}\n            onCheckedChange={(value) => row.toggleSelected(!!value)}\n            aria-label=\"Select row\"\n            key={`checkbox-${row.original.id}`}\n          />\n        )}\n      />\n\n      <Table.Column\n        header=\"Resource\"\n        accessorKey=\"resource\"\n        id=\"resource\"\n        meta={{\n          filterOperator: 'contains',\n        }}\n        filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Resource\" />}\n        cell={({ row: { index, original }, table }) => {\n          const pageIndex = table.getState().pagination.pageIndex;\n          const pageSize = table.getState().pagination.pageSize;\n\n          return (\n            <ShowButton recordItemId={original.id} asChild>\n              <span className=\"text-muted-foreground inline-block min-w-8\">\n                {pageIndex * pageSize + index + 1}.&nbsp;\n              </span>\n              <span className=\"py-3 capitalize underline-offset-2 hover:text-green-600 hover:underline\">\n                {JSON.parse(original.meta).parent}.{original.resource}\n              </span>\n            </ShowButton>\n          );\n        }}\n      />\n\n      <Table.Column\n        header=\"Type\"\n        accessorKey=\"action\"\n        id=\"action\"\n        enableSorting\n        enableHiding\n        cell={({ row: { original } }) => {\n          const ids = JSON.parse(original.meta || '{}').ids;\n          return (\n            <Badge variant={LOG_STATUS_MAP[original.action as LogStatus]?.badge as TAny}>\n              {original.action?.charAt(0)?.toUpperCase() + original.action?.slice(1)}\n              {ids?.length > 1 ? ` x${ids.length}` : ''}\n            </Badge>\n          );\n        }}\n        filter={(props: TableFilterProps) => (\n          <Table.Filter.Radio\n            {...props}\n            options={Object.entries(LOG_STATUS).map(([key, value]) => ({\n              label: key?.charAt(0)?.toUpperCase() + key?.slice(1),\n              value,\n            }))}\n          />\n        )}\n      />\n\n      <Table.Column\n        header=\"CreatedAt\"\n        accessorKey=\"createdAt\"\n        id=\"createdAt\"\n        enableSorting\n        enableHiding\n        filter={(props: TableFilterProps) => <Table.Filter.DateRangePicker {...props} align=\"end\" />}\n        cell={({ row: { original } }) => dayjs(original.createdAt).format('YYYY-MM-DD HH:mm:ss')}\n      />\n\n      <Table.Column\n        header=\"Author\"\n        accessorKey=\"user.name\"\n        id=\"user.name\"\n        enableHiding\n        meta={{\n          filterOperator: 'contains',\n        }}\n        filter={(props: TableFilterProps) => <Table.Filter.Search {...props} title=\"Search Author\" />}\n        cell={useCallback(\n          ({ row: { original } }: { row: { original: BaseRecord } }) => (\n            <div className=\"flex items-center gap-2\">\n              <Avatar className=\"size-6\">\n                <AvatarImage src={original.user?.avatar || ''} alt={original.user?.name || ''} />\n                <AvatarFallback>{original.user?.name?.slice(0, 1).toUpperCase()}</AvatarFallback>\n              </Avatar>\n              <span>{original.user?.name}</span>\n            </div>\n          ),\n          []\n        )}\n      />\n\n      <Table.Column\n        header=\"Actions\"\n        accessorKey=\"id\"\n        id=\"actions\"\n        cell={({ row: { original } }: { row: { original: BaseRecord } }) => (\n          <ShowButton recordItemId={original.id} size=\"icon\" variant=\"ghost\" />\n        )}\n      />\n    </Table>\n  );\n}\n\nfunction UiTools() {\n  return (\n    <div className=\"flex items-center gap-1 text-sm\">\n      <ExportButton variant=\"ghost\" size=\"icon\" />\n    </div>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { ActionFunctionArgs } from '@remix-run/node';\n\nimport { TRole } from '~/constants';\nimport { commitSession, requireUser } from '~/services';\n\nexport async function action({ request }: ActionFunctionArgs) {\n  if (request.method !== 'POST') {\n    return Response.json({ error: 'Method not allowed' }, { status: 405 });\n  }\n\n  try {\n    const formData = await request.formData();\n    const nextRole = formData.get('role') as TRole;\n\n    if (!nextRole) {\n      throw new Error('Role is required');\n    }\n\n    const { user, session } = await requireUser(request);\n\n    if (!user.roles?.includes(nextRole)) {\n      throw new Error('You do not have permission to switch to this role');\n    }\n\n    if (!session) {\n      throw new Error('Unauthorized');\n    }\n\n    session.set('user', { ...user, role: nextRole });\n\n    return Response.json(\n      { success: true },\n      {\n        headers: {\n          'Set-Cookie': await commitSession(session),\n        },\n      }\n    );\n  } catch (error) {\n    return Response.json({ error }, { status: 401 });\n  }\n}\n","import { CanAccess } from '@refinedev/core';\nimport { LoaderFunctionArgs } from '@remix-run/node';\n\nimport { Layout, PageError, PermissionDenied } from '~/components';\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return null;\n}\n\n// UI\nexport default function Dashboard() {\n  return (\n    <CanAccess fallback={<PermissionDenied />}>\n      <Layout />\n    </CanAccess>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { ActionFunction } from '@remix-run/node';\n\nimport { getPreferencesNextCookie } from '~/services';\nimport { getRequestData } from '~/utils';\n\n// 设置用户偏好\nexport const action: ActionFunction = async ({ request }) => {\n  try {\n    const data = await getRequestData(request);\n\n    const headers = new Headers();\n    headers.append('Set-Cookie', await getPreferencesNextCookie(request, data));\n\n    return Response.json({ data }, { headers });\n  } catch (error) {\n    console.error('处理偏好设置请求时出错：', error);\n    return Response.json({ error: '处理请求失败' }, { status: 400 });\n  }\n};\n","import { CanAccess } from '@refinedev/core';\nimport type { LoaderFunctionArgs } from '@remix-run/node';\n\nimport { Layout, PageError, PermissionDenied } from '~/components';\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return null;\n}\n\n// UI\nexport default function Role() {\n  return (\n    <CanAccess fallback={<PermissionDenied />}>\n      <Layout />\n    </CanAccess>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { CanAccess } from '@refinedev/core';\nimport type { LoaderFunctionArgs } from '@remix-run/node';\n\nimport { Layout, PageError, PermissionDenied } from '~/components';\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return null;\n}\n\n// UI\nexport default function User() {\n  return (\n    <CanAccess fallback={<PermissionDenied />}>\n      <Layout />\n    </CanAccess>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import { ActionFunctionArgs, LoaderFunctionArgs } from '@remix-run/node';\n\nimport { dataService, requireUser } from '~/services';\n\n// 处理批量获取请求 getMany\nexport async function loader({ request, params }: LoaderFunctionArgs) {\n  const { resource } = params;\n\n  if (!resource) {\n    throw new Error('resource is required');\n  }\n\n  const url = new URL(request.url);\n  const ids = url.searchParams.get('ids');\n\n  if (!ids) {\n    throw new Error('批量获取时 ids 参数是必需的');\n  }\n\n  const data = await dataService.getMany!({\n    resource,\n    ids: ids.split(','),\n  });\n\n  return Response.json(data);\n}\n\n// 处理批量操作请求\nexport async function action({ request, params }: ActionFunctionArgs) {\n  await requireUser(request);\n\n  const { resource } = params;\n\n  if (!resource) {\n    throw new Error('resource is required');\n  }\n\n  const method = request.method;\n  const body = await request.json();\n\n  switch (method) {\n    // 批量创建 createMany\n    case 'POST': {\n      const { variables } = body;\n      const data = await dataService.createMany!({\n        resource,\n        variables,\n      });\n\n      return Response.json(data);\n    }\n\n    // 批量更新 updateMany\n    case 'PUT': {\n      const { ids, variables } = body;\n      if (!ids) {\n        throw new Error('批量更新时 ids 是必需的');\n      }\n\n      const data = await dataService.updateMany!({\n        resource,\n        ids,\n        variables,\n      });\n\n      return Response.json(data);\n    }\n\n    // 批量删除 deleteMany\n    case 'DELETE': {\n      const { ids } = body;\n      if (!ids) {\n        throw new Error('批量删除时 ids 是必需的');\n      }\n\n      const data = await dataService.deleteMany!({\n        resource,\n        ids,\n      });\n\n      return Response.json(data);\n    }\n\n    default:\n      throw new Error(`不支持的请求方法: ${method}`);\n  }\n}\n","/**\n * An on the fly image resizer\n *\n * Since most of our images are served via a CDN, we don't have to save the resized images.\n * Instead we set cache headers for them and let the cdn cache them for us.\n *\n * sharp uses a highly performant native package called libvips.\n * it's written in C and is extremely fast.\n *\n * The implementation of the demo uses a stream based approach where the image is never stored in memory.\n * This means it's very good at handling images of any size, and is extremely performant.\n * Further improvements could be done by implementing ETags, but that is out of scope for this demo.\n */\n\nimport type { ReadStream } from 'fs';\nimport { createReadStream, statSync } from 'fs';\nimport path from 'path';\nimport { PassThrough } from 'stream';\n\nimport type { LoaderFunction } from '@remix-run/node';\nimport type { Params } from '@remix-run/react';\nimport type { FitEnum } from 'sharp';\nimport sharp from 'sharp';\n\nimport { TAny } from '~/types';\n\nconst ASSETS_ROOT = 'assets';\n\ninterface ResizeParams {\n  src: string;\n  width: number | undefined;\n  height: number | undefined;\n  fit: keyof FitEnum;\n}\n\nexport const loader: LoaderFunction = async ({ params, request }) => {\n  // extract all the parameters from the url\n  const { src, width, height, fit } = extractParams(params, request);\n\n  try {\n    // read the image as a stream of bytes\n    const readStream = readFileAsStream(src);\n    // read the image from the file system and stream it through the sharp pipeline\n    return streamingResize(readStream, width, height, fit);\n  } catch (error: unknown) {\n    // if the image is not found, or we get any other errors we return different response types\n    return handleError(error);\n  }\n};\n\nfunction extractParams(params: Params<string>, request: Request): ResizeParams {\n  const src = params['*'] as string;\n  const searchParams = new URL(request.url).searchParams;\n\n  const width = searchParams.has('w') ? Number.parseInt(searchParams.get('w') ?? '0') : undefined;\n  const height = searchParams.has('h') ? Number.parseInt(searchParams.get('h') ?? '0') : undefined;\n\n  const fitEnum = ['contain', 'cover', 'fill', 'inside', 'outside'];\n  let fit: keyof FitEnum = sharp.fit.contain;\n  if (searchParams.has('fit')) {\n    const fitParam = searchParams.get('fit') ?? '';\n    if (fitEnum.includes(fitParam)) {\n      fit = fitParam as keyof FitEnum;\n    }\n  }\n  return { src, width, height, fit };\n}\n\nfunction streamingResize(\n  imageStream: ReadStream,\n  width: number | undefined,\n  height: number | undefined,\n  fit: keyof FitEnum\n) {\n  // create the sharp transform pipeline\n  // https://sharp.pixelplumbing.com/api-resize\n  // you can also add watermarks, sharpen, blur, etc.\n  const sharpTransforms = sharp()\n    .resize({\n      width,\n      height,\n      fit,\n      position: sharp.strategy.attention, // will try to crop the image and keep the most interesting parts\n    })\n    .jpeg({\n      mozjpeg: true, // use mozjpeg defaults, = smaller images\n      quality: 80,\n    });\n  // sharp also has other image formats, just comment out .jpeg and make sure to change the Content-Type header below\n  // .avif({\n  //   quality: 80,\n  // })\n  // .png({\n  //   quality: 80,\n  // })\n  // .webp({\n  //   quality: 80,\n  // })\n\n  // create a pass through stream that will take the input image\n  // stream it through the sharp pipeline and then output it to the response\n  // without buffering the entire image in memory\n  const passthroughStream = new PassThrough();\n\n  imageStream.pipe(sharpTransforms).pipe(passthroughStream);\n\n  return new Response(passthroughStream as TAny, {\n    headers: {\n      'Content-Type': 'image/jpeg',\n      'Cache-Control': 'public, max-age=31536000, immutable',\n    },\n  });\n}\n\nfunction readFileAsStream(src: string): ReadStream {\n  // Local filesystem\n\n  // check that file exists\n  const srcPath = path.join(ASSETS_ROOT, src);\n\n  try {\n    const fileStat = statSync(srcPath);\n    if (!fileStat.isFile()) {\n      throw new Error(`${srcPath} is not a file`);\n    }\n  } catch (e) {\n    throw new Error(`${srcPath} does not exist`);\n  }\n\n  // create a readable stream from the image file\n  return createReadStream(path.join(ASSETS_ROOT, src));\n\n  // Other implementations that you could look into\n\n  // Google Cloud Storage\n  // we could also create a stream directly from a bucket file\n  // import { Storage } from '@google-cloud/storage'\n  // const storage = new Storage();\n  // const bucketName = 'my-gcp-bucket'\n  // const bucketPath = src // the bucket path /dogs/cute/dog-1.jpg'\n  // return storage.bucket(bucketName).file(src).createReadStream()\n\n  // AWS S3\n  // import { S3Client, GetObjectCommand } from \"@aws-sdk/client-s3\"\n  // const s3 = new S3Client({...})\n  // const bucketName = 'my-s3-bucket'\n  // const bucketKey = src // 'dogs/cute/dog-1.jpg'\n  // const fileResult = await s3.send(new GetObjectCommand({ Bucket: bucketName, Key: bucketKey }));\n  // s3 GetObjectCommand result.Body is a ReadableStream\n  // return fileResult.Body\n}\n\nfunction handleError(error: unknown) {\n  // error needs to be typed\n  const errorT = error as Error & { code: string };\n  // if the read stream fails, it will have the error.code ENOENT\n  if (errorT.code === 'ENOENT') {\n    return new Response('image not found', {\n      status: 404,\n      headers: {\n        'Content-Type': 'text/plain',\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n      },\n    });\n  }\n\n  // if there is an error processing the image, we return a 500 error\n  return new Response(errorT.message, {\n    status: 500,\n    statusText: errorT.message,\n    headers: {\n      'Content-Type': 'text/plain',\n      'Cache-Control': 'no-cache, no-store, must-revalidate',\n    },\n  });\n}\n","import { ActionFunctionArgs, LoaderFunctionArgs } from '@remix-run/node';\n\nimport { dataService, requireUser } from '~/services';\n\n// 处理单个获取 getOne\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const { resource, id } = params;\n\n  if (!resource || !id) {\n    throw new Error('resource、id is required');\n  }\n\n  const data = await dataService.getOne({\n    resource,\n    id,\n  });\n\n  return Response.json(data);\n}\n\n// 处理 PATCH、DELETE 请求\nexport async function action({ request, params }: ActionFunctionArgs) {\n  await requireUser(request);\n\n  const { resource, id } = params;\n\n  if (!resource || !id) {\n    throw new Error('resource、id is required');\n  }\n\n  const method = request.method;\n  switch (method) {\n    // 处理单个更新 update\n    case 'PATCH': {\n      const variables = await request.json();\n\n      const data = await dataService.update({\n        resource,\n        id,\n        variables,\n      });\n\n      return Response.json(data);\n    }\n\n    // 处理单个删除 deleteOne\n    case 'DELETE': {\n      const data = await dataService.deleteOne({\n        resource,\n        id,\n      });\n\n      return Response.json(data);\n    }\n\n    default:\n      return Response.json({ message: `不支持的请求方法: ${method}` }, { status: 405 });\n  }\n}\n","import { CanAccess } from '@refinedev/core';\nimport type { LoaderFunctionArgs } from '@remix-run/node';\n\nimport { Layout, PageError, PermissionDenied } from '~/components';\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return null;\n}\n\n// UI\nexport default function Log() {\n  return (\n    <CanAccess fallback={<PermissionDenied />}>\n      <Layout />\n    </CanAccess>\n  );\n}\n\n// 错误边界处理\nexport function ErrorBoundary() {\n  return <PageError />;\n}\n","import type { LoaderFunctionArgs } from '@remix-run/node';\nimport { redirect } from '@remix-run/node';\n\nimport { destroySession, getSession } from '~/services';\nimport { getAllParams } from '~/utils';\n\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  const mergedParams = await getAllParams<{ redirectTo?: string }>(request, params);\n  const session = await getSession(request.headers.get('Cookie'));\n\n  return redirect(`/login?redirectTo=${mergedParams.redirectTo || '/'}`, {\n    headers: {\n      'Set-Cookie': await destroySession(session),\n    },\n  });\n};\n","import { type ActionFunctionArgs, LoaderFunctionArgs } from '@remix-run/node';\n\nimport { dataService, requireUser } from '~/services';\nimport { getFiltersFromUrl, getJoinFromUrl, getPaginationFromUrl, getSortersFromUrl } from '~/utils';\n\n// 处理 getList 请求\nexport async function loader({ request, params }: LoaderFunctionArgs) {\n  const { resource } = params;\n\n  if (!resource) {\n    throw new Error('resource is required');\n  }\n\n  const url = new URL(request.url);\n  const pagination = getPaginationFromUrl(url);\n  const sorters = getSortersFromUrl(url);\n  const filters = getFiltersFromUrl(url);\n  const join = getJoinFromUrl(url);\n\n  const res = await dataService.getList({\n    resource,\n    pagination,\n    sorters,\n    filters,\n    meta: join ? { include: join } : {},\n  });\n\n  return Response.json(res);\n}\n\n// 处理单个创建 create\n// 注意：默认所有数据模型都应该关联用户\nexport async function action({ request, params }: ActionFunctionArgs) {\n  const { user } = await requireUser(request);\n  const { resource } = params;\n  const { method } = request;\n\n  if (!resource) {\n    throw new Error('resource is required');\n  }\n\n  if (method !== 'POST') {\n    throw new Error(`不支持的请求方法: ${method}`);\n  }\n\n  const body = await request.json();\n  const created = await dataService.create({\n    resource,\n    variables: { ...body, userId: user?.id },\n  });\n\n  return Response.json(created);\n}\n","import type { LoaderFunction } from '@remix-run/node';\n\nimport { getUser } from '~/services';\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const user = await getUser(request);\n  return Response.json({ data: user });\n};\n","import { data } from '@remix-run/node';\nimport { z } from 'zod';\n\n/**\n * // TODO: 需要优化 - 使用 zod 进行表单验证时，根据错误类型返回不同的响应\n */\nexport function typedFormError(error: z.ZodError | Error | unknown) {\n  if (error instanceof z.ZodError) {\n    return data({ errors: error.flatten().fieldErrors });\n  } else if (error instanceof Error) {\n    return data({ errors: { default: [error?.message || 'unknown error (500 Internal Server Error)'] } });\n  } else {\n    return data({ errors: error || { default: ['unknown error (500 Internal Server Error)'] } });\n  }\n}\n","import { type ActionFunctionArgs, type MetaFunction, redirect } from '@remix-run/node';\nimport { z } from 'zod';\n\nimport { RegisterForm } from '~/components';\nimport { EnumAuthProvider } from '~/constants';\nimport { createUser, getUserByEmail } from '~/models/user.server';\nimport { typedFormError } from '~/utils/typed-form-error';\n\n// 定义表单验证 schema\nconst registerSchema = z.object({\n  email: z.string().email('请输入有效的邮箱地址'),\n  password: z.string().min(6, '密码至少需要6个字符').max(50, '密码不能超过50个字符'),\n  redirectTo: z.string().optional(),\n});\n\n// 元数据\nexport const meta: MetaFunction = () => {\n  return [{ title: 'Register' }];\n};\n\n// Action 处理函数\nexport async function action({ request }: ActionFunctionArgs) {\n  try {\n    const formData = await request.formData();\n    const rawData = Object.fromEntries(formData) as z.infer<typeof registerSchema>;\n\n    const { email, password } = registerSchema.parse(rawData);\n    const existingUser = await getUserByEmail(email);\n\n    if (existingUser) {\n      throw { email: ['A user already exists with this email.'] };\n    }\n\n    await createUser({ email, password, provider: EnumAuthProvider.userpass });\n\n    return redirect(`/login?email=${email}`);\n  } catch (error) {\n    return typedFormError(error);\n  }\n}\n\n// UI\nexport default function Register() {\n  return (\n    <div className=\"bg-background flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10\">\n      <div className=\"w-full max-w-sm\">\n        <RegisterForm />\n      </div>\n    </div>\n  );\n}\n","import { LoaderFunctionArgs, redirect } from '@remix-run/node';\n\nimport { requireUserSession } from '~/services';\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  return redirect('/playground/dashboard/about');\n}\n","import type { ActionFunctionArgs, LoaderFunctionArgs, MetaFunction } from '@remix-run/node';\nimport { redirect } from '@remix-run/node';\nimport { z } from 'zod';\n\nimport { LoginForm } from '~/components';\nimport { EnumAuthProvider } from '~/constants';\nimport { authProvider } from '~/providers';\nimport { commitSession, getSession, getUser } from '~/services';\nimport { typedFormError } from '~/utils/typed-form-error';\n\n// 定义表单验证 schema\nconst loginSchema = z.object({\n  email: z.string().email('请输入有效的邮箱地址'),\n  password: z.string().min(6, '密码至少需要6个字符').max(50, '密码不能超过50个字符'),\n  redirectTo: z.string().optional(),\n});\n\n// 元数据\nexport const meta: MetaFunction = () => {\n  return [{ title: 'Login' }];\n};\n\n// 加载器\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const user = await getUser(request);\n\n  if (user && user.id) {\n    return redirect('/');\n  }\n\n  return {};\n}\n\n// Action 处理函数\nexport async function action({ request }: ActionFunctionArgs) {\n  try {\n    const form = await request.formData();\n    const formData = Object.fromEntries(form) as z.infer<typeof loginSchema>;\n\n    const { email, password, redirectTo } = loginSchema.parse(formData);\n    const { error, success, user } = await authProvider.login({\n      providerName: EnumAuthProvider.userpass,\n      email,\n      password,\n      redirectTo,\n    });\n\n    if (error) {\n      throw { default: [error.message] };\n    }\n\n    if (success && user?.id) {\n      const session = await getSession(request.headers.get('Cookie'));\n      session.set('user', user);\n\n      return redirect(redirectTo!, {\n        headers: {\n          'Set-Cookie': await commitSession(session),\n        },\n      });\n    }\n  } catch (error) {\n    return typedFormError(error);\n  }\n}\n\n// UI\nexport default function Login() {\n  return (\n    <div className=\"bg-background flex min-h-svh flex-col items-center justify-center p-6 md:p-10\">\n      <div className=\"w-full max-w-sm md:max-w-3xl\">\n        <LoginForm />\n      </div>\n    </div>\n  );\n}\n","import { NotFound } from '~/components';\n\n/**\n * We're using a splat route to catch all routes that don't match any other route and render the `ErrorComponent` as 404 page.\n */\nexport default function Index() {\n  return <NotFound />;\n}\n"],"names":["request","handleError","EnumAction","EnumAuthProvider","EnumResource","EnumRole","EnumRoleId","meta","action","data","path","headers","Link","Fragment","React","CommandPrimitive","Form","PopoverTrigger","_a","CheckIcon","FormUI","Select","SelectUI","t","actions","RefineKbar","RefineKbarCore","_b","SheetPrimitive","open","Sidebar","Table","useTableCore","sorting","RowActions","className","props","date","DropdownMenuTrigger","TableUi","useNavigation","useMatches","handle","RefineSidebar","role","Sonner","filter","mode","dataProvider","dataProviderNestjsxCrud","i18nextUse","codeVerifier","url","store","redirect","enforcer","items","loader","Loader","ErrorBoundary","UiTools","formSchema","Document","Image","index","PassThrough"],"mappings":"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","x_google_ignoreList":[2]}